(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const f of r)if(f.type==="childList")for(const m of f.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&s(m)}).observe(document,{childList:!0,subtree:!0});function o(r){const f={};return r.integrity&&(f.integrity=r.integrity),r.referrerPolicy&&(f.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?f.credentials="include":r.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function s(r){if(r.ep)return;r.ep=!0;const f=o(r);fetch(r.href,f)}})();function gh(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var hu={exports:{}},wo={};var Ip;function s0(){if(Ip)return wo;Ip=1;var i=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function o(s,r,f){var m=null;if(f!==void 0&&(m=""+f),r.key!==void 0&&(m=""+r.key),"key"in r){f={};for(var g in r)g!=="key"&&(f[g]=r[g])}else f=r;return r=f.ref,{$$typeof:i,type:s,key:m,ref:r!==void 0?r:null,props:f}}return wo.Fragment=n,wo.jsx=o,wo.jsxs=o,wo}var Up;function a0(){return Up||(Up=1,hu.exports=s0()),hu.exports}var E=a0(),gu={exports:{}},ve={};var Lp;function r0(){if(Lp)return ve;Lp=1;var i=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),m=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),C=Symbol.iterator;function x(M){return M===null||typeof M!="object"?null:(M=C&&M[C]||M["@@iterator"],typeof M=="function"?M:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,Y={};function q(M,F,$){this.props=M,this.context=F,this.refs=Y,this.updater=$||b}q.prototype.isReactComponent={},q.prototype.setState=function(M,F){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,F,"setState")},q.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function Q(){}Q.prototype=q.prototype;function V(M,F,$){this.props=M,this.context=F,this.refs=Y,this.updater=$||b}var j=V.prototype=new Q;j.constructor=V,w(j,q.prototype),j.isPureReactComponent=!0;var te=Array.isArray;function ie(){}var X={H:null,A:null,T:null,S:null},le=Object.prototype.hasOwnProperty;function ee(M,F,$){var oe=$.ref;return{$$typeof:i,type:M,key:F,ref:oe!==void 0?oe:null,props:$}}function W(M,F){return ee(M.type,F,M.props)}function ge(M){return typeof M=="object"&&M!==null&&M.$$typeof===i}function ce(M){var F={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function($){return F[$]})}var Ue=/\/+/g;function ht(M,F){return typeof M=="object"&&M!==null&&M.key!=null?ce(""+M.key):F.toString(36)}function Xe(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(ie,ie):(M.status="pending",M.then(function(F){M.status==="pending"&&(M.status="fulfilled",M.value=F)},function(F){M.status==="pending"&&(M.status="rejected",M.reason=F)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function G(M,F,$,oe,he){var ye=typeof M;(ye==="undefined"||ye==="boolean")&&(M=null);var Te=!1;if(M===null)Te=!0;else switch(ye){case"bigint":case"string":case"number":Te=!0;break;case"object":switch(M.$$typeof){case i:case n:Te=!0;break;case v:return Te=M._init,G(Te(M._payload),F,$,oe,he)}}if(Te)return he=he(M),Te=oe===""?"."+ht(M,0):oe,te(he)?($="",Te!=null&&($=Te.replace(Ue,"$&/")+"/"),G(he,F,$,"",function(ot){return ot})):he!=null&&(ge(he)&&(he=W(he,$+(he.key==null||M&&M.key===he.key?"":(""+he.key).replace(Ue,"$&/")+"/")+Te)),F.push(he)),1;Te=0;var Le=oe===""?".":oe+":";if(te(M))for(var Ze=0;Ze<M.length;Ze++)oe=M[Ze],ye=Le+ht(oe,Ze),Te+=G(oe,F,$,ye,he);else if(Ze=x(M),typeof Ze=="function")for(M=Ze.call(M),Ze=0;!(oe=M.next()).done;)oe=oe.value,ye=Le+ht(oe,Ze++),Te+=G(oe,F,$,ye,he);else if(ye==="object"){if(typeof M.then=="function")return G(Xe(M),F,$,oe,he);throw F=String(M),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.")}return Te}function J(M,F,$){if(M==null)return M;var oe=[],he=0;return G(M,oe,"","",function(ye){return F.call($,ye,he++)}),oe}function ue(M){if(M._status===-1){var F=M._result;F=F(),F.then(function($){(M._status===0||M._status===-1)&&(M._status=1,M._result=$)},function($){(M._status===0||M._status===-1)&&(M._status=2,M._result=$)}),M._status===-1&&(M._status=0,M._result=F)}if(M._status===1)return M._result.default;throw M._result}var De=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var F=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(F))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},Ge={map:J,forEach:function(M,F,$){J(M,function(){F.apply(this,arguments)},$)},count:function(M){var F=0;return J(M,function(){F++}),F},toArray:function(M){return J(M,function(F){return F})||[]},only:function(M){if(!ge(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return ve.Activity=T,ve.Children=Ge,ve.Component=q,ve.Fragment=o,ve.Profiler=r,ve.PureComponent=V,ve.StrictMode=s,ve.Suspense=y,ve.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=X,ve.__COMPILER_RUNTIME={__proto__:null,c:function(M){return X.H.useMemoCache(M)}},ve.cache=function(M){return function(){return M.apply(null,arguments)}},ve.cacheSignal=function(){return null},ve.cloneElement=function(M,F,$){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var oe=w({},M.props),he=M.key;if(F!=null)for(ye in F.key!==void 0&&(he=""+F.key),F)!le.call(F,ye)||ye==="key"||ye==="__self"||ye==="__source"||ye==="ref"&&F.ref===void 0||(oe[ye]=F[ye]);var ye=arguments.length-2;if(ye===1)oe.children=$;else if(1<ye){for(var Te=Array(ye),Le=0;Le<ye;Le++)Te[Le]=arguments[Le+2];oe.children=Te}return ee(M.type,he,oe)},ve.createContext=function(M){return M={$$typeof:m,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:f,_context:M},M},ve.createElement=function(M,F,$){var oe,he={},ye=null;if(F!=null)for(oe in F.key!==void 0&&(ye=""+F.key),F)le.call(F,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(he[oe]=F[oe]);var Te=arguments.length-2;if(Te===1)he.children=$;else if(1<Te){for(var Le=Array(Te),Ze=0;Ze<Te;Ze++)Le[Ze]=arguments[Ze+2];he.children=Le}if(M&&M.defaultProps)for(oe in Te=M.defaultProps,Te)he[oe]===void 0&&(he[oe]=Te[oe]);return ee(M,ye,he)},ve.createRef=function(){return{current:null}},ve.forwardRef=function(M){return{$$typeof:g,render:M}},ve.isValidElement=ge,ve.lazy=function(M){return{$$typeof:v,_payload:{_status:-1,_result:M},_init:ue}},ve.memo=function(M,F){return{$$typeof:h,type:M,compare:F===void 0?null:F}},ve.startTransition=function(M){var F=X.T,$={};X.T=$;try{var oe=M(),he=X.S;he!==null&&he($,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(ie,De)}catch(ye){De(ye)}finally{F!==null&&$.types!==null&&(F.types=$.types),X.T=F}},ve.unstable_useCacheRefresh=function(){return X.H.useCacheRefresh()},ve.use=function(M){return X.H.use(M)},ve.useActionState=function(M,F,$){return X.H.useActionState(M,F,$)},ve.useCallback=function(M,F){return X.H.useCallback(M,F)},ve.useContext=function(M){return X.H.useContext(M)},ve.useDebugValue=function(){},ve.useDeferredValue=function(M,F){return X.H.useDeferredValue(M,F)},ve.useEffect=function(M,F){return X.H.useEffect(M,F)},ve.useEffectEvent=function(M){return X.H.useEffectEvent(M)},ve.useId=function(){return X.H.useId()},ve.useImperativeHandle=function(M,F,$){return X.H.useImperativeHandle(M,F,$)},ve.useInsertionEffect=function(M,F){return X.H.useInsertionEffect(M,F)},ve.useLayoutEffect=function(M,F){return X.H.useLayoutEffect(M,F)},ve.useMemo=function(M,F){return X.H.useMemo(M,F)},ve.useOptimistic=function(M,F){return X.H.useOptimistic(M,F)},ve.useReducer=function(M,F,$){return X.H.useReducer(M,F,$)},ve.useRef=function(M){return X.H.useRef(M)},ve.useState=function(M){return X.H.useState(M)},ve.useSyncExternalStore=function(M,F,$){return X.H.useSyncExternalStore(M,F,$)},ve.useTransition=function(){return X.H.useTransition()},ve.version="19.2.0",ve}var qp;function Iu(){return qp||(qp=1,gu.exports=r0()),gu.exports}var U=Iu();const u0=gh(U);var yu={exports:{}},Do={},vu={exports:{}},Su={};var Gp;function c0(){return Gp||(Gp=1,(function(i){function n(G,J){var ue=G.length;G.push(J);e:for(;0<ue;){var De=ue-1>>>1,Ge=G[De];if(0<r(Ge,J))G[De]=J,G[ue]=Ge,ue=De;else break e}}function o(G){return G.length===0?null:G[0]}function s(G){if(G.length===0)return null;var J=G[0],ue=G.pop();if(ue!==J){G[0]=ue;e:for(var De=0,Ge=G.length,M=Ge>>>1;De<M;){var F=2*(De+1)-1,$=G[F],oe=F+1,he=G[oe];if(0>r($,ue))oe<Ge&&0>r(he,$)?(G[De]=he,G[oe]=ue,De=oe):(G[De]=$,G[F]=ue,De=F);else if(oe<Ge&&0>r(he,ue))G[De]=he,G[oe]=ue,De=oe;else break e}}return J}function r(G,J){var ue=G.sortIndex-J.sortIndex;return ue!==0?ue:G.id-J.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;i.unstable_now=function(){return f.now()}}else{var m=Date,g=m.now();i.unstable_now=function(){return m.now()-g}}var y=[],h=[],v=1,T=null,C=3,x=!1,b=!1,w=!1,Y=!1,q=typeof setTimeout=="function"?setTimeout:null,Q=typeof clearTimeout=="function"?clearTimeout:null,V=typeof setImmediate<"u"?setImmediate:null;function j(G){for(var J=o(h);J!==null;){if(J.callback===null)s(h);else if(J.startTime<=G)s(h),J.sortIndex=J.expirationTime,n(y,J);else break;J=o(h)}}function te(G){if(w=!1,j(G),!b)if(o(y)!==null)b=!0,ie||(ie=!0,ce());else{var J=o(h);J!==null&&Xe(te,J.startTime-G)}}var ie=!1,X=-1,le=5,ee=-1;function W(){return Y?!0:!(i.unstable_now()-ee<le)}function ge(){if(Y=!1,ie){var G=i.unstable_now();ee=G;var J=!0;try{e:{b=!1,w&&(w=!1,Q(X),X=-1),x=!0;var ue=C;try{t:{for(j(G),T=o(y);T!==null&&!(T.expirationTime>G&&W());){var De=T.callback;if(typeof De=="function"){T.callback=null,C=T.priorityLevel;var Ge=De(T.expirationTime<=G);if(G=i.unstable_now(),typeof Ge=="function"){T.callback=Ge,j(G),J=!0;break t}T===o(y)&&s(y),j(G)}else s(y);T=o(y)}if(T!==null)J=!0;else{var M=o(h);M!==null&&Xe(te,M.startTime-G),J=!1}}break e}finally{T=null,C=ue,x=!1}J=void 0}}finally{J?ce():ie=!1}}}var ce;if(typeof V=="function")ce=function(){V(ge)};else if(typeof MessageChannel<"u"){var Ue=new MessageChannel,ht=Ue.port2;Ue.port1.onmessage=ge,ce=function(){ht.postMessage(null)}}else ce=function(){q(ge,0)};function Xe(G,J){X=q(function(){G(i.unstable_now())},J)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(G){G.callback=null},i.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):le=0<G?Math.floor(1e3/G):5},i.unstable_getCurrentPriorityLevel=function(){return C},i.unstable_next=function(G){switch(C){case 1:case 2:case 3:var J=3;break;default:J=C}var ue=C;C=J;try{return G()}finally{C=ue}},i.unstable_requestPaint=function(){Y=!0},i.unstable_runWithPriority=function(G,J){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ue=C;C=G;try{return J()}finally{C=ue}},i.unstable_scheduleCallback=function(G,J,ue){var De=i.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?De+ue:De):ue=De,G){case 1:var Ge=-1;break;case 2:Ge=250;break;case 5:Ge=1073741823;break;case 4:Ge=1e4;break;default:Ge=5e3}return Ge=ue+Ge,G={id:v++,callback:J,priorityLevel:G,startTime:ue,expirationTime:Ge,sortIndex:-1},ue>De?(G.sortIndex=ue,n(h,G),o(y)===null&&G===o(h)&&(w?(Q(X),X=-1):w=!0,Xe(te,ue-De))):(G.sortIndex=Ge,n(y,G),b||x||(b=!0,ie||(ie=!0,ce()))),G},i.unstable_shouldYield=W,i.unstable_wrapCallback=function(G){var J=C;return function(){var ue=C;C=J;try{return G.apply(this,arguments)}finally{C=ue}}}})(Su)),Su}var Hp;function f0(){return Hp||(Hp=1,vu.exports=c0()),vu.exports}var Tu={exports:{}},Rt={};var zp;function d0(){if(zp)return Rt;zp=1;var i=Iu();function n(y){var h="https://react.dev/errors/"+y;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)h+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+y+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var s={d:{f:o,r:function(){throw Error(n(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},r=Symbol.for("react.portal");function f(y,h,v){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:T==null?null:""+T,children:y,containerInfo:h,implementation:v}}var m=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,h){if(y==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Rt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Rt.createPortal=function(y,h){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(n(299));return f(y,h,null,v)},Rt.flushSync=function(y){var h=m.T,v=s.p;try{if(m.T=null,s.p=2,y)return y()}finally{m.T=h,s.p=v,s.d.f()}},Rt.preconnect=function(y,h){typeof y=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,s.d.C(y,h))},Rt.prefetchDNS=function(y){typeof y=="string"&&s.d.D(y)},Rt.preinit=function(y,h){if(typeof y=="string"&&h&&typeof h.as=="string"){var v=h.as,T=g(v,h.crossOrigin),C=typeof h.integrity=="string"?h.integrity:void 0,x=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;v==="style"?s.d.S(y,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:T,integrity:C,fetchPriority:x}):v==="script"&&s.d.X(y,{crossOrigin:T,integrity:C,fetchPriority:x,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Rt.preinitModule=function(y,h){if(typeof y=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var v=g(h.as,h.crossOrigin);s.d.M(y,{crossOrigin:v,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&s.d.M(y)},Rt.preload=function(y,h){if(typeof y=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var v=h.as,T=g(v,h.crossOrigin);s.d.L(y,v,{crossOrigin:T,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Rt.preloadModule=function(y,h){if(typeof y=="string")if(h){var v=g(h.as,h.crossOrigin);s.d.m(y,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:v,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else s.d.m(y)},Rt.requestFormReset=function(y){s.d.r(y)},Rt.unstable_batchedUpdates=function(y,h){return y(h)},Rt.useFormState=function(y,h,v){return m.H.useFormState(y,h,v)},Rt.useFormStatus=function(){return m.H.useHostTransitionStatus()},Rt.version="19.2.0",Rt}var kp;function p0(){if(kp)return Tu.exports;kp=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(n){console.error(n)}}return i(),Tu.exports=d0(),Tu.exports}var Pp;function m0(){if(Pp)return Do;Pp=1;var i=f0(),n=Iu(),o=p0();function s(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)t+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var t=e,l=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(l=t.return),e=t.return;while(e)}return t.tag===3?l:null}function m(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function y(e){if(f(e)!==e)throw Error(s(188))}function h(e){var t=e.alternate;if(!t){if(t=f(e),t===null)throw Error(s(188));return t!==e?null:e}for(var l=e,a=t;;){var d=l.return;if(d===null)break;var p=d.alternate;if(p===null){if(a=d.return,a!==null){l=a;continue}break}if(d.child===p.child){for(p=d.child;p;){if(p===l)return y(d),e;if(p===a)return y(d),t;p=p.sibling}throw Error(s(188))}if(l.return!==a.return)l=d,a=p;else{for(var S=!1,_=d.child;_;){if(_===l){S=!0,l=d,a=p;break}if(_===a){S=!0,a=d,l=p;break}_=_.sibling}if(!S){for(_=p.child;_;){if(_===l){S=!0,l=p,a=d;break}if(_===a){S=!0,a=p,l=d;break}_=_.sibling}if(!S)throw Error(s(189))}}if(l.alternate!==a)throw Error(s(190))}if(l.tag!==3)throw Error(s(188));return l.stateNode.current===l?e:t}function v(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=v(e),t!==null)return t;e=e.sibling}return null}var T=Object.assign,C=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),Y=Symbol.for("react.strict_mode"),q=Symbol.for("react.profiler"),Q=Symbol.for("react.consumer"),V=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),te=Symbol.for("react.suspense"),ie=Symbol.for("react.suspense_list"),X=Symbol.for("react.memo"),le=Symbol.for("react.lazy"),ee=Symbol.for("react.activity"),W=Symbol.for("react.memo_cache_sentinel"),ge=Symbol.iterator;function ce(e){return e===null||typeof e!="object"?null:(e=ge&&e[ge]||e["@@iterator"],typeof e=="function"?e:null)}var Ue=Symbol.for("react.client.reference");function ht(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Ue?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case w:return"Fragment";case q:return"Profiler";case Y:return"StrictMode";case te:return"Suspense";case ie:return"SuspenseList";case ee:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case b:return"Portal";case V:return e.displayName||"Context";case Q:return(e._context.displayName||"Context")+".Consumer";case j:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case X:return t=e.displayName||null,t!==null?t:ht(e.type)||"Memo";case le:t=e._payload,e=e._init;try{return ht(e(t))}catch{}}return null}var Xe=Array.isArray,G=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue={pending:!1,data:null,method:null,action:null},De=[],Ge=-1;function M(e){return{current:e}}function F(e){0>Ge||(e.current=De[Ge],De[Ge]=null,Ge--)}function $(e,t){Ge++,De[Ge]=e.current,e.current=t}var oe=M(null),he=M(null),ye=M(null),Te=M(null);function Le(e,t){switch($(ye,t),$(he,e),$(oe,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?tp(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=tp(t),e=np(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}F(oe),$(oe,e)}function Ze(){F(oe),F(he),F(ye)}function ot(e){e.memoizedState!==null&&$(Te,e);var t=oe.current,l=np(t,e.type);t!==l&&($(he,e),$(oe,l))}function rn(e){he.current===e&&(F(oe),F(he)),Te.current===e&&(F(Te),No._currentValue=ue)}var Kt,Pi;function zt(e){if(Kt===void 0)try{throw Error()}catch(l){var t=l.stack.trim().match(/\n( *(at )?)/);Kt=t&&t[1]||"",Pi=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Kt+e+Pi}var Vi=!1;function qe(e,t){if(!e||Vi)return"";Vi=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var O=function(){throw Error()};if(Object.defineProperty(O.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(O,[])}catch(H){var L=H}Reflect.construct(e,[],O)}else{try{O.call()}catch(H){L=H}e.call(O.prototype)}}else{try{throw Error()}catch(H){L=H}(O=e())&&typeof O.catch=="function"&&O.catch(function(){})}}catch(H){if(H&&L&&typeof H.stack=="string")return[H.stack,L.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=a.DetermineComponentFrameRoot(),S=p[0],_=p[1];if(S&&_){var A=S.split(`
`),I=_.split(`
`);for(d=a=0;a<A.length&&!A[a].includes("DetermineComponentFrameRoot");)a++;for(;d<I.length&&!I[d].includes("DetermineComponentFrameRoot");)d++;if(a===A.length||d===I.length)for(a=A.length-1,d=I.length-1;1<=a&&0<=d&&A[a]!==I[d];)d--;for(;1<=a&&0<=d;a--,d--)if(A[a]!==I[d]){if(a!==1||d!==1)do if(a--,d--,0>d||A[a]!==I[d]){var P=`
`+A[a].replace(" at new "," at ");return e.displayName&&P.includes("<anonymous>")&&(P=P.replace("<anonymous>",e.displayName)),P}while(1<=a&&0<=d);break}}}finally{Vi=!1,Error.prepareStackTrace=l}return(l=e?e.displayName||e.name:"")?zt(l):""}function gn(e,t){switch(e.tag){case 26:case 27:case 5:return zt(e.type);case 16:return zt("Lazy");case 13:return e.child!==t&&t!==null?zt("Suspense Fallback"):zt("Suspense");case 19:return zt("SuspenseList");case 0:case 15:return qe(e.type,!1);case 11:return qe(e.type.render,!1);case 1:return qe(e.type,!0);case 31:return zt("Activity");default:return""}}function rt(e){try{var t="",l=null;do t+=gn(e,l),l=e,e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}var de=Object.prototype.hasOwnProperty,ut=i.unstable_scheduleCallback,kt=i.unstable_cancelCallback,yn=i.unstable_shouldYield,Dt=i.unstable_requestPaint,et=i.unstable_now,Bi=i.unstable_getCurrentPriorityLevel,Si=i.unstable_ImmediatePriority,Fi=i.unstable_UserBlockingPriority,un=i.unstable_NormalPriority,Xt=i.unstable_LowPriority,Yn=i.unstable_IdlePriority,Oi=i.log,kl=i.unstable_setDisableYieldValue,vn=null,Et=null;function Pt(e){if(typeof Oi=="function"&&kl(e),Et&&typeof Et.setStrictMode=="function")try{Et.setStrictMode(vn,e)}catch{}}var vt=Math.clz32?Math.clz32:Ji,Jn=Math.log,Yi=Math.LN2;function Ji(e){return e>>>=0,e===0?32:31-(Jn(e)/Yi|0)|0}var cn=256,_n=262144,Qn=4194304;function fn(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function k(e,t,l){var a=e.pendingLanes;if(a===0)return 0;var d=0,p=e.suspendedLanes,S=e.pingedLanes;e=e.warmLanes;var _=a&134217727;return _!==0?(a=_&~p,a!==0?d=fn(a):(S&=_,S!==0?d=fn(S):l||(l=_&~e,l!==0&&(d=fn(l))))):(_=a&~p,_!==0?d=fn(_):S!==0?d=fn(S):l||(l=a&~e,l!==0&&(d=fn(l)))),d===0?0:t!==0&&t!==d&&(t&p)===0&&(p=d&-d,l=t&-t,p>=l||p===32&&(l&4194048)!==0)?t:d}function Z(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function me(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xe(){var e=Qn;return Qn<<=1,(Qn&62914560)===0&&(Qn=4194304),e}function z(e){for(var t=[],l=0;31>l;l++)t.push(e);return t}function K(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function se(e,t,l,a,d,p){var S=e.pendingLanes;e.pendingLanes=l,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=l,e.entangledLanes&=l,e.errorRecoveryDisabledLanes&=l,e.shellSuspendCounter=0;var _=e.entanglements,A=e.expirationTimes,I=e.hiddenUpdates;for(l=S&~l;0<l;){var P=31-vt(l),O=1<<P;_[P]=0,A[P]=-1;var L=I[P];if(L!==null)for(I[P]=null,P=0;P<L.length;P++){var H=L[P];H!==null&&(H.lane&=-536870913)}l&=~O}a!==0&&Ce(e,a,0),p!==0&&d===0&&e.tag!==0&&(e.suspendedLanes|=p&~(S&~t))}function Ce(e,t,l){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-vt(t);e.entangledLanes|=t,e.entanglements[a]=e.entanglements[a]|1073741824|l&261930}function Ne(e,t){var l=e.entangledLanes|=t;for(e=e.entanglements;l;){var a=31-vt(l),d=1<<a;d&t|e[a]&t&&(e[a]|=t),l&=~d}}function Ve(e,t){var l=t&-t;return l=(l&42)!==0?1:Be(l),(l&(e.suspendedLanes|t))!==0?0:l}function Be(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ae(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function ct(){var e=J.p;return e!==0?e:(e=window.event,e===void 0?32:Ap(e.type))}function tt(e,t){var l=J.p;try{return J.p=e,t()}finally{J.p=l}}var _t=Math.random().toString(36).slice(2),Se="__reactFiber$"+_t,St="__reactProps$"+_t,Kn="__reactContainer$"+_t,sa="__reactEvents$"+_t,Xh="__reactListeners$"+_t,Zh="__reactHandles$"+_t,Vu="__reactResources$"+_t,Pl="__reactMarker$"+_t;function aa(e){delete e[Se],delete e[St],delete e[sa],delete e[Xh],delete e[Zh]}function Qi(e){var t=e[Se];if(t)return t;for(var l=e.parentNode;l;){if(t=l[Kn]||l[Se]){if(l=t.alternate,t.child!==null||l!==null&&l.child!==null)for(e=up(e);e!==null;){if(l=e[Se])return l;e=up(e)}return t}e=l,l=e.parentNode}return null}function Ki(e){if(e=e[Se]||e[Kn]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Vl(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(s(33))}function Xi(e){var t=e[Vu];return t||(t=e[Vu]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Tt(e){e[Pl]=!0}var Bu=new Set,Fu={};function Ti(e,t){Zi(e,t),Zi(e+"Capture",t)}function Zi(e,t){for(Fu[e]=t,e=0;e<t.length;e++)Bu.add(t[e])}var $h=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ou={},Yu={};function Wh(e){return de.call(Yu,e)?!0:de.call(Ou,e)?!1:$h.test(e)?Yu[e]=!0:(Ou[e]=!0,!1)}function Go(e,t,l){if(Wh(t))if(l===null)e.removeAttribute(t);else{switch(typeof l){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var a=t.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+l)}}function Ho(e,t,l){if(l===null)e.removeAttribute(t);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+l)}}function xn(e,t,l,a){if(a===null)e.removeAttribute(l);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(l);return}e.setAttributeNS(t,l,""+a)}}function Zt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ju(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function jh(e,t,l){var a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var d=a.get,p=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return d.call(this)},set:function(S){l=""+S,p.call(this,S)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(S){l=""+S},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ra(e){if(!e._valueTracker){var t=Ju(e)?"checked":"value";e._valueTracker=jh(e,t,""+e[t])}}function Qu(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var l=t.getValue(),a="";return e&&(a=Ju(e)?e.checked?"true":"false":e.value),e=a,e!==l?(t.setValue(e),!0):!1}function zo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var eg=/[\n"\\]/g;function $t(e){return e.replace(eg,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function ua(e,t,l,a,d,p,S,_){e.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?e.type=S:e.removeAttribute("type"),t!=null?S==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Zt(t)):e.value!==""+Zt(t)&&(e.value=""+Zt(t)):S!=="submit"&&S!=="reset"||e.removeAttribute("value"),t!=null?ca(e,S,Zt(t)):l!=null?ca(e,S,Zt(l)):a!=null&&e.removeAttribute("value"),d==null&&p!=null&&(e.defaultChecked=!!p),d!=null&&(e.checked=d&&typeof d!="function"&&typeof d!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.name=""+Zt(_):e.removeAttribute("name")}function Ku(e,t,l,a,d,p,S,_){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.type=p),t!=null||l!=null){if(!(p!=="submit"&&p!=="reset"||t!=null)){ra(e);return}l=l!=null?""+Zt(l):"",t=t!=null?""+Zt(t):l,_||t===e.value||(e.value=t),e.defaultValue=t}a=a??d,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=_?e.checked:!!a,e.defaultChecked=!!a,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(e.name=S),ra(e)}function ca(e,t,l){t==="number"&&zo(e.ownerDocument)===e||e.defaultValue===""+l||(e.defaultValue=""+l)}function $i(e,t,l,a){if(e=e.options,t){t={};for(var d=0;d<l.length;d++)t["$"+l[d]]=!0;for(l=0;l<e.length;l++)d=t.hasOwnProperty("$"+e[l].value),e[l].selected!==d&&(e[l].selected=d),d&&a&&(e[l].defaultSelected=!0)}else{for(l=""+Zt(l),t=null,d=0;d<e.length;d++){if(e[d].value===l){e[d].selected=!0,a&&(e[d].defaultSelected=!0);return}t!==null||e[d].disabled||(t=e[d])}t!==null&&(t.selected=!0)}}function Xu(e,t,l){if(t!=null&&(t=""+Zt(t),t!==e.value&&(e.value=t),l==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=l!=null?""+Zt(l):""}function Zu(e,t,l,a){if(t==null){if(a!=null){if(l!=null)throw Error(s(92));if(Xe(a)){if(1<a.length)throw Error(s(93));a=a[0]}l=a}l==null&&(l=""),t=l}l=Zt(t),e.defaultValue=l,a=e.textContent,a===l&&a!==""&&a!==null&&(e.value=a),ra(e)}function Wi(e,t){if(t){var l=e.firstChild;if(l&&l===e.lastChild&&l.nodeType===3){l.nodeValue=t;return}}e.textContent=t}var tg=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function $u(e,t,l){var a=t.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?a?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":a?e.setProperty(t,l):typeof l!="number"||l===0||tg.has(t)?t==="float"?e.cssFloat=l:e[t]=(""+l).trim():e[t]=l+"px"}function Wu(e,t,l){if(t!=null&&typeof t!="object")throw Error(s(62));if(e=e.style,l!=null){for(var a in l)!l.hasOwnProperty(a)||t!=null&&t.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var d in t)a=t[d],t.hasOwnProperty(d)&&l[d]!==a&&$u(e,d,a)}else for(var p in t)t.hasOwnProperty(p)&&$u(e,p,t[p])}function fa(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ng=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ig=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ko(e){return ig.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function An(){}var da=null;function pa(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ji=null,el=null;function ju(e){var t=Ki(e);if(t&&(e=t.stateNode)){var l=e[St]||null;e:switch(e=t.stateNode,t.type){case"input":if(ua(e,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),t=l.name,l.type==="radio"&&t!=null){for(l=e;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+$t(""+t)+'"][type="radio"]'),t=0;t<l.length;t++){var a=l[t];if(a!==e&&a.form===e.form){var d=a[St]||null;if(!d)throw Error(s(90));ua(a,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(t=0;t<l.length;t++)a=l[t],a.form===e.form&&Qu(a)}break e;case"textarea":Xu(e,l.value,l.defaultValue);break e;case"select":t=l.value,t!=null&&$i(e,!!l.multiple,t,!1)}}}var ma=!1;function ec(e,t,l){if(ma)return e(t,l);ma=!0;try{var a=e(t);return a}finally{if(ma=!1,(ji!==null||el!==null)&&(Ns(),ji&&(t=ji,e=el,el=ji=null,ju(t),e)))for(t=0;t<e.length;t++)ju(e[t])}}function Bl(e,t){var l=e.stateNode;if(l===null)return null;var a=l[St]||null;if(a===null)return null;l=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(l&&typeof l!="function")throw Error(s(231,t,typeof l));return l}var Nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ha=!1;if(Nn)try{var Fl={};Object.defineProperty(Fl,"passive",{get:function(){ha=!0}}),window.addEventListener("test",Fl,Fl),window.removeEventListener("test",Fl,Fl)}catch{ha=!1}var Xn=null,ga=null,Po=null;function tc(){if(Po)return Po;var e,t=ga,l=t.length,a,d="value"in Xn?Xn.value:Xn.textContent,p=d.length;for(e=0;e<l&&t[e]===d[e];e++);var S=l-e;for(a=1;a<=S&&t[l-a]===d[p-a];a++);return Po=d.slice(e,1<a?1-a:void 0)}function Vo(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Bo(){return!0}function nc(){return!1}function It(e){function t(l,a,d,p,S){this._reactName=l,this._targetInst=d,this.type=a,this.nativeEvent=p,this.target=S,this.currentTarget=null;for(var _ in e)e.hasOwnProperty(_)&&(l=e[_],this[_]=l?l(p):p[_]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Bo:nc,this.isPropagationStopped=nc,this}return T(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Bo)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Bo)},persist:function(){},isPersistent:Bo}),t}var Ci={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fo=It(Ci),Ol=T({},Ci,{view:0,detail:0}),lg=It(Ol),ya,va,Yl,Oo=T({},Ol,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ta,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Yl&&(Yl&&e.type==="mousemove"?(ya=e.screenX-Yl.screenX,va=e.screenY-Yl.screenY):va=ya=0,Yl=e),ya)},movementY:function(e){return"movementY"in e?e.movementY:va}}),ic=It(Oo),og=T({},Oo,{dataTransfer:0}),sg=It(og),ag=T({},Ol,{relatedTarget:0}),Sa=It(ag),rg=T({},Ci,{animationName:0,elapsedTime:0,pseudoElement:0}),ug=It(rg),cg=T({},Ci,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),fg=It(cg),dg=T({},Ci,{data:0}),lc=It(dg),pg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gg(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=hg[e])?!!t[e]:!1}function Ta(){return gg}var yg=T({},Ol,{key:function(e){if(e.key){var t=pg[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Vo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?mg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ta,charCode:function(e){return e.type==="keypress"?Vo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Vo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),vg=It(yg),Sg=T({},Oo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),oc=It(Sg),Tg=T({},Ol,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ta}),Cg=It(Tg),Eg=T({},Ci,{propertyName:0,elapsedTime:0,pseudoElement:0}),_g=It(Eg),xg=T({},Oo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ag=It(xg),Ng=T({},Ci,{newState:0,oldState:0}),Mg=It(Ng),Rg=[9,13,27,32],Ca=Nn&&"CompositionEvent"in window,Jl=null;Nn&&"documentMode"in document&&(Jl=document.documentMode);var bg=Nn&&"TextEvent"in window&&!Jl,sc=Nn&&(!Ca||Jl&&8<Jl&&11>=Jl),ac=" ",rc=!1;function uc(e,t){switch(e){case"keyup":return Rg.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var tl=!1;function wg(e,t){switch(e){case"compositionend":return cc(t);case"keypress":return t.which!==32?null:(rc=!0,ac);case"textInput":return e=t.data,e===ac&&rc?null:e;default:return null}}function Dg(e,t){if(tl)return e==="compositionend"||!Ca&&uc(e,t)?(e=tc(),Po=ga=Xn=null,tl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return sc&&t.locale!=="ko"?null:t.data;default:return null}}var Ig={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Ig[e.type]:t==="textarea"}function dc(e,t,l,a){ji?el?el.push(a):el=[a]:ji=a,t=Us(t,"onChange"),0<t.length&&(l=new Fo("onChange","change",null,l,a),e.push({event:l,listeners:t}))}var Ql=null,Kl=null;function Ug(e){Xd(e,0)}function Yo(e){var t=Vl(e);if(Qu(t))return e}function pc(e,t){if(e==="change")return t}var mc=!1;if(Nn){var Ea;if(Nn){var _a="oninput"in document;if(!_a){var hc=document.createElement("div");hc.setAttribute("oninput","return;"),_a=typeof hc.oninput=="function"}Ea=_a}else Ea=!1;mc=Ea&&(!document.documentMode||9<document.documentMode)}function gc(){Ql&&(Ql.detachEvent("onpropertychange",yc),Kl=Ql=null)}function yc(e){if(e.propertyName==="value"&&Yo(Kl)){var t=[];dc(t,Kl,e,pa(e)),ec(Ug,t)}}function Lg(e,t,l){e==="focusin"?(gc(),Ql=t,Kl=l,Ql.attachEvent("onpropertychange",yc)):e==="focusout"&&gc()}function qg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Yo(Kl)}function Gg(e,t){if(e==="click")return Yo(t)}function Hg(e,t){if(e==="input"||e==="change")return Yo(t)}function zg(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Vt=typeof Object.is=="function"?Object.is:zg;function Xl(e,t){if(Vt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var l=Object.keys(e),a=Object.keys(t);if(l.length!==a.length)return!1;for(a=0;a<l.length;a++){var d=l[a];if(!de.call(t,d)||!Vt(e[d],t[d]))return!1}return!0}function vc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Sc(e,t){var l=vc(e);e=0;for(var a;l;){if(l.nodeType===3){if(a=e+l.textContent.length,e<=t&&a>=t)return{node:l,offset:t-e};e=a}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=vc(l)}}function Tc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Tc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Cc(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=zo(e.document);t instanceof e.HTMLIFrameElement;){try{var l=typeof t.contentWindow.location.href=="string"}catch{l=!1}if(l)e=t.contentWindow;else break;t=zo(e.document)}return t}function xa(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var kg=Nn&&"documentMode"in document&&11>=document.documentMode,nl=null,Aa=null,Zl=null,Na=!1;function Ec(e,t,l){var a=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Na||nl==null||nl!==zo(a)||(a=nl,"selectionStart"in a&&xa(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Zl&&Xl(Zl,a)||(Zl=a,a=Us(Aa,"onSelect"),0<a.length&&(t=new Fo("onSelect","select",null,t,l),e.push({event:t,listeners:a}),t.target=nl)))}function Ei(e,t){var l={};return l[e.toLowerCase()]=t.toLowerCase(),l["Webkit"+e]="webkit"+t,l["Moz"+e]="moz"+t,l}var il={animationend:Ei("Animation","AnimationEnd"),animationiteration:Ei("Animation","AnimationIteration"),animationstart:Ei("Animation","AnimationStart"),transitionrun:Ei("Transition","TransitionRun"),transitionstart:Ei("Transition","TransitionStart"),transitioncancel:Ei("Transition","TransitionCancel"),transitionend:Ei("Transition","TransitionEnd")},Ma={},_c={};Nn&&(_c=document.createElement("div").style,"AnimationEvent"in window||(delete il.animationend.animation,delete il.animationiteration.animation,delete il.animationstart.animation),"TransitionEvent"in window||delete il.transitionend.transition);function _i(e){if(Ma[e])return Ma[e];if(!il[e])return e;var t=il[e],l;for(l in t)if(t.hasOwnProperty(l)&&l in _c)return Ma[e]=t[l];return e}var xc=_i("animationend"),Ac=_i("animationiteration"),Nc=_i("animationstart"),Pg=_i("transitionrun"),Vg=_i("transitionstart"),Bg=_i("transitioncancel"),Mc=_i("transitionend"),Rc=new Map,Ra="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ra.push("scrollEnd");function dn(e,t){Rc.set(e,t),Ti(t,[e])}var Jo=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Wt=[],ll=0,ba=0;function Qo(){for(var e=ll,t=ba=ll=0;t<e;){var l=Wt[t];Wt[t++]=null;var a=Wt[t];Wt[t++]=null;var d=Wt[t];Wt[t++]=null;var p=Wt[t];if(Wt[t++]=null,a!==null&&d!==null){var S=a.pending;S===null?d.next=d:(d.next=S.next,S.next=d),a.pending=d}p!==0&&bc(l,d,p)}}function Ko(e,t,l,a){Wt[ll++]=e,Wt[ll++]=t,Wt[ll++]=l,Wt[ll++]=a,ba|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function wa(e,t,l,a){return Ko(e,t,l,a),Xo(e)}function xi(e,t){return Ko(e,null,null,t),Xo(e)}function bc(e,t,l){e.lanes|=l;var a=e.alternate;a!==null&&(a.lanes|=l);for(var d=!1,p=e.return;p!==null;)p.childLanes|=l,a=p.alternate,a!==null&&(a.childLanes|=l),p.tag===22&&(e=p.stateNode,e===null||e._visibility&1||(d=!0)),e=p,p=p.return;return e.tag===3?(p=e.stateNode,d&&t!==null&&(d=31-vt(l),e=p.hiddenUpdates,a=e[d],a===null?e[d]=[t]:a.push(t),t.lane=l|536870912),p):null}function Xo(e){if(50<So)throw So=0,kr=null,Error(s(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var ol={};function Fg(e,t,l,a){this.tag=e,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bt(e,t,l,a){return new Fg(e,t,l,a)}function Da(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Mn(e,t){var l=e.alternate;return l===null?(l=Bt(e.tag,t,e.key,e.mode),l.elementType=e.elementType,l.type=e.type,l.stateNode=e.stateNode,l.alternate=e,e.alternate=l):(l.pendingProps=t,l.type=e.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=e.flags&65011712,l.childLanes=e.childLanes,l.lanes=e.lanes,l.child=e.child,l.memoizedProps=e.memoizedProps,l.memoizedState=e.memoizedState,l.updateQueue=e.updateQueue,t=e.dependencies,l.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},l.sibling=e.sibling,l.index=e.index,l.ref=e.ref,l.refCleanup=e.refCleanup,l}function wc(e,t){e.flags&=65011714;var l=e.alternate;return l===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=l.childLanes,e.lanes=l.lanes,e.child=l.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=l.memoizedProps,e.memoizedState=l.memoizedState,e.updateQueue=l.updateQueue,e.type=l.type,t=l.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Zo(e,t,l,a,d,p){var S=0;if(a=e,typeof e=="function")Da(e)&&(S=1);else if(typeof e=="string")S=Ky(e,l,oe.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case ee:return e=Bt(31,l,t,d),e.elementType=ee,e.lanes=p,e;case w:return Ai(l.children,d,p,t);case Y:S=8,d|=24;break;case q:return e=Bt(12,l,t,d|2),e.elementType=q,e.lanes=p,e;case te:return e=Bt(13,l,t,d),e.elementType=te,e.lanes=p,e;case ie:return e=Bt(19,l,t,d),e.elementType=ie,e.lanes=p,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case V:S=10;break e;case Q:S=9;break e;case j:S=11;break e;case X:S=14;break e;case le:S=16,a=null;break e}S=29,l=Error(s(130,e===null?"null":typeof e,"")),a=null}return t=Bt(S,l,t,d),t.elementType=e,t.type=a,t.lanes=p,t}function Ai(e,t,l,a){return e=Bt(7,e,a,t),e.lanes=l,e}function Ia(e,t,l){return e=Bt(6,e,null,t),e.lanes=l,e}function Dc(e){var t=Bt(18,null,null,0);return t.stateNode=e,t}function Ua(e,t,l){return t=Bt(4,e.children!==null?e.children:[],e.key,t),t.lanes=l,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Ic=new WeakMap;function jt(e,t){if(typeof e=="object"&&e!==null){var l=Ic.get(e);return l!==void 0?l:(t={value:e,source:t,stack:rt(t)},Ic.set(e,t),t)}return{value:e,source:t,stack:rt(t)}}var sl=[],al=0,$o=null,$l=0,en=[],tn=0,Zn=null,Sn=1,Tn="";function Rn(e,t){sl[al++]=$l,sl[al++]=$o,$o=e,$l=t}function Uc(e,t,l){en[tn++]=Sn,en[tn++]=Tn,en[tn++]=Zn,Zn=e;var a=Sn;e=Tn;var d=32-vt(a)-1;a&=~(1<<d),l+=1;var p=32-vt(t)+d;if(30<p){var S=d-d%5;p=(a&(1<<S)-1).toString(32),a>>=S,d-=S,Sn=1<<32-vt(t)+d|l<<d|a,Tn=p+e}else Sn=1<<p|l<<d|a,Tn=e}function La(e){e.return!==null&&(Rn(e,1),Uc(e,1,0))}function qa(e){for(;e===$o;)$o=sl[--al],sl[al]=null,$l=sl[--al],sl[al]=null;for(;e===Zn;)Zn=en[--tn],en[tn]=null,Tn=en[--tn],en[tn]=null,Sn=en[--tn],en[tn]=null}function Lc(e,t){en[tn++]=Sn,en[tn++]=Tn,en[tn++]=Zn,Sn=t.id,Tn=t.overflow,Zn=e}var xt=null,$e=null,Ie=!1,$n=null,nn=!1,Ga=Error(s(519));function Wn(e){var t=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Wl(jt(t,e)),Ga}function qc(e){var t=e.stateNode,l=e.type,a=e.memoizedProps;switch(t[Se]=e,t[St]=a,l){case"dialog":Re("cancel",t),Re("close",t);break;case"iframe":case"object":case"embed":Re("load",t);break;case"video":case"audio":for(l=0;l<Co.length;l++)Re(Co[l],t);break;case"source":Re("error",t);break;case"img":case"image":case"link":Re("error",t),Re("load",t);break;case"details":Re("toggle",t);break;case"input":Re("invalid",t),Ku(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":Re("invalid",t);break;case"textarea":Re("invalid",t),Zu(t,a.value,a.defaultValue,a.children)}l=a.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||t.textContent===""+l||a.suppressHydrationWarning===!0||jd(t.textContent,l)?(a.popover!=null&&(Re("beforetoggle",t),Re("toggle",t)),a.onScroll!=null&&Re("scroll",t),a.onScrollEnd!=null&&Re("scrollend",t),a.onClick!=null&&(t.onclick=An),t=!0):t=!1,t||Wn(e,!0)}function Gc(e){for(xt=e.return;xt;)switch(xt.tag){case 5:case 31:case 13:nn=!1;return;case 27:case 3:nn=!0;return;default:xt=xt.return}}function rl(e){if(e!==xt)return!1;if(!Ie)return Gc(e),Ie=!0,!1;var t=e.tag,l;if((l=t!==3&&t!==27)&&((l=t===5)&&(l=e.type,l=!(l!=="form"&&l!=="button")||eu(e.type,e.memoizedProps)),l=!l),l&&$e&&Wn(e),Gc(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));$e=rp(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));$e=rp(e)}else t===27?(t=$e,di(e.type)?(e=ou,ou=null,$e=e):$e=t):$e=xt?on(e.stateNode.nextSibling):null;return!0}function Ni(){$e=xt=null,Ie=!1}function Ha(){var e=$n;return e!==null&&(Gt===null?Gt=e:Gt.push.apply(Gt,e),$n=null),e}function Wl(e){$n===null?$n=[e]:$n.push(e)}var za=M(null),Mi=null,bn=null;function jn(e,t,l){$(za,t._currentValue),t._currentValue=l}function wn(e){e._currentValue=za.current,F(za)}function ka(e,t,l){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===l)break;e=e.return}}function Pa(e,t,l,a){var d=e.child;for(d!==null&&(d.return=e);d!==null;){var p=d.dependencies;if(p!==null){var S=d.child;p=p.firstContext;e:for(;p!==null;){var _=p;p=d;for(var A=0;A<t.length;A++)if(_.context===t[A]){p.lanes|=l,_=p.alternate,_!==null&&(_.lanes|=l),ka(p.return,l,e),a||(S=null);break e}p=_.next}}else if(d.tag===18){if(S=d.return,S===null)throw Error(s(341));S.lanes|=l,p=S.alternate,p!==null&&(p.lanes|=l),ka(S,l,e),S=null}else S=d.child;if(S!==null)S.return=d;else for(S=d;S!==null;){if(S===e){S=null;break}if(d=S.sibling,d!==null){d.return=S.return,S=d;break}S=S.return}d=S}}function ul(e,t,l,a){e=null;for(var d=t,p=!1;d!==null;){if(!p){if((d.flags&524288)!==0)p=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var S=d.alternate;if(S===null)throw Error(s(387));if(S=S.memoizedProps,S!==null){var _=d.type;Vt(d.pendingProps.value,S.value)||(e!==null?e.push(_):e=[_])}}else if(d===Te.current){if(S=d.alternate,S===null)throw Error(s(387));S.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(e!==null?e.push(No):e=[No])}d=d.return}e!==null&&Pa(t,e,l,a),t.flags|=262144}function Wo(e){for(e=e.firstContext;e!==null;){if(!Vt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ri(e){Mi=e,bn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function At(e){return Hc(Mi,e)}function jo(e,t){return Mi===null&&Ri(e),Hc(e,t)}function Hc(e,t){var l=t._currentValue;if(t={context:t,memoizedValue:l,next:null},bn===null){if(e===null)throw Error(s(308));bn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else bn=bn.next=t;return l}var Og=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(l,a){e.push(a)}};this.abort=function(){t.aborted=!0,e.forEach(function(l){return l()})}},Yg=i.unstable_scheduleCallback,Jg=i.unstable_NormalPriority,ft={$$typeof:V,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Va(){return{controller:new Og,data:new Map,refCount:0}}function jl(e){e.refCount--,e.refCount===0&&Yg(Jg,function(){e.controller.abort()})}var eo=null,Ba=0,cl=0,fl=null;function Qg(e,t){if(eo===null){var l=eo=[];Ba=0,cl=Yr(),fl={status:"pending",value:void 0,then:function(a){l.push(a)}}}return Ba++,t.then(zc,zc),t}function zc(){if(--Ba===0&&eo!==null){fl!==null&&(fl.status="fulfilled");var e=eo;eo=null,cl=0,fl=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Kg(e,t){var l=[],a={status:"pending",value:null,reason:null,then:function(d){l.push(d)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var d=0;d<l.length;d++)(0,l[d])(t)},function(d){for(a.status="rejected",a.reason=d,d=0;d<l.length;d++)(0,l[d])(void 0)}),a}var kc=G.S;G.S=function(e,t){_d=et(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Qg(e,t),kc!==null&&kc(e,t)};var bi=M(null);function Fa(){var e=bi.current;return e!==null?e:Ke.pooledCache}function es(e,t){t===null?$(bi,bi.current):$(bi,t.pool)}function Pc(){var e=Fa();return e===null?null:{parent:ft._currentValue,pool:e}}var dl=Error(s(460)),Oa=Error(s(474)),ts=Error(s(542)),ns={then:function(){}};function Vc(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Bc(e,t,l){switch(l=e[l],l===void 0?e.push(t):l!==t&&(t.then(An,An),t=l),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Oc(e),e;default:if(typeof t.status=="string")t.then(An,An);else{if(e=Ke,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=t,e.status="pending",e.then(function(a){if(t.status==="pending"){var d=t;d.status="fulfilled",d.value=a}},function(a){if(t.status==="pending"){var d=t;d.status="rejected",d.reason=a}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Oc(e),e}throw Di=t,dl}}function wi(e){try{var t=e._init;return t(e._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(Di=l,dl):l}}var Di=null;function Fc(){if(Di===null)throw Error(s(459));var e=Di;return Di=null,e}function Oc(e){if(e===dl||e===ts)throw Error(s(483))}var pl=null,to=0;function is(e){var t=to;return to+=1,pl===null&&(pl=[]),Bc(pl,e,t)}function no(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function ls(e,t){throw t.$$typeof===C?Error(s(525)):(e=Object.prototype.toString.call(t),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Yc(e){function t(R,N){if(e){var D=R.deletions;D===null?(R.deletions=[N],R.flags|=16):D.push(N)}}function l(R,N){if(!e)return null;for(;N!==null;)t(R,N),N=N.sibling;return null}function a(R){for(var N=new Map;R!==null;)R.key!==null?N.set(R.key,R):N.set(R.index,R),R=R.sibling;return N}function d(R,N){return R=Mn(R,N),R.index=0,R.sibling=null,R}function p(R,N,D){return R.index=D,e?(D=R.alternate,D!==null?(D=D.index,D<N?(R.flags|=67108866,N):D):(R.flags|=67108866,N)):(R.flags|=1048576,N)}function S(R){return e&&R.alternate===null&&(R.flags|=67108866),R}function _(R,N,D,B){return N===null||N.tag!==6?(N=Ia(D,R.mode,B),N.return=R,N):(N=d(N,D),N.return=R,N)}function A(R,N,D,B){var fe=D.type;return fe===w?P(R,N,D.props.children,B,D.key):N!==null&&(N.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===le&&wi(fe)===N.type)?(N=d(N,D.props),no(N,D),N.return=R,N):(N=Zo(D.type,D.key,D.props,null,R.mode,B),no(N,D),N.return=R,N)}function I(R,N,D,B){return N===null||N.tag!==4||N.stateNode.containerInfo!==D.containerInfo||N.stateNode.implementation!==D.implementation?(N=Ua(D,R.mode,B),N.return=R,N):(N=d(N,D.children||[]),N.return=R,N)}function P(R,N,D,B,fe){return N===null||N.tag!==7?(N=Ai(D,R.mode,B,fe),N.return=R,N):(N=d(N,D),N.return=R,N)}function O(R,N,D){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=Ia(""+N,R.mode,D),N.return=R,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case x:return D=Zo(N.type,N.key,N.props,null,R.mode,D),no(D,N),D.return=R,D;case b:return N=Ua(N,R.mode,D),N.return=R,N;case le:return N=wi(N),O(R,N,D)}if(Xe(N)||ce(N))return N=Ai(N,R.mode,D,null),N.return=R,N;if(typeof N.then=="function")return O(R,is(N),D);if(N.$$typeof===V)return O(R,jo(R,N),D);ls(R,N)}return null}function L(R,N,D,B){var fe=N!==null?N.key:null;if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return fe!==null?null:_(R,N,""+D,B);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case x:return D.key===fe?A(R,N,D,B):null;case b:return D.key===fe?I(R,N,D,B):null;case le:return D=wi(D),L(R,N,D,B)}if(Xe(D)||ce(D))return fe!==null?null:P(R,N,D,B,null);if(typeof D.then=="function")return L(R,N,is(D),B);if(D.$$typeof===V)return L(R,N,jo(R,D),B);ls(R,D)}return null}function H(R,N,D,B,fe){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return R=R.get(D)||null,_(N,R,""+B,fe);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case x:return R=R.get(B.key===null?D:B.key)||null,A(N,R,B,fe);case b:return R=R.get(B.key===null?D:B.key)||null,I(N,R,B,fe);case le:return B=wi(B),H(R,N,D,B,fe)}if(Xe(B)||ce(B))return R=R.get(D)||null,P(N,R,B,fe,null);if(typeof B.then=="function")return H(R,N,D,is(B),fe);if(B.$$typeof===V)return H(R,N,D,jo(N,B),fe);ls(N,B)}return null}function ae(R,N,D,B){for(var fe=null,He=null,re=N,_e=N=0,we=null;re!==null&&_e<D.length;_e++){re.index>_e?(we=re,re=null):we=re.sibling;var ze=L(R,re,D[_e],B);if(ze===null){re===null&&(re=we);break}e&&re&&ze.alternate===null&&t(R,re),N=p(ze,N,_e),He===null?fe=ze:He.sibling=ze,He=ze,re=we}if(_e===D.length)return l(R,re),Ie&&Rn(R,_e),fe;if(re===null){for(;_e<D.length;_e++)re=O(R,D[_e],B),re!==null&&(N=p(re,N,_e),He===null?fe=re:He.sibling=re,He=re);return Ie&&Rn(R,_e),fe}for(re=a(re);_e<D.length;_e++)we=H(re,R,_e,D[_e],B),we!==null&&(e&&we.alternate!==null&&re.delete(we.key===null?_e:we.key),N=p(we,N,_e),He===null?fe=we:He.sibling=we,He=we);return e&&re.forEach(function(yi){return t(R,yi)}),Ie&&Rn(R,_e),fe}function pe(R,N,D,B){if(D==null)throw Error(s(151));for(var fe=null,He=null,re=N,_e=N=0,we=null,ze=D.next();re!==null&&!ze.done;_e++,ze=D.next()){re.index>_e?(we=re,re=null):we=re.sibling;var yi=L(R,re,ze.value,B);if(yi===null){re===null&&(re=we);break}e&&re&&yi.alternate===null&&t(R,re),N=p(yi,N,_e),He===null?fe=yi:He.sibling=yi,He=yi,re=we}if(ze.done)return l(R,re),Ie&&Rn(R,_e),fe;if(re===null){for(;!ze.done;_e++,ze=D.next())ze=O(R,ze.value,B),ze!==null&&(N=p(ze,N,_e),He===null?fe=ze:He.sibling=ze,He=ze);return Ie&&Rn(R,_e),fe}for(re=a(re);!ze.done;_e++,ze=D.next())ze=H(re,R,_e,ze.value,B),ze!==null&&(e&&ze.alternate!==null&&re.delete(ze.key===null?_e:ze.key),N=p(ze,N,_e),He===null?fe=ze:He.sibling=ze,He=ze);return e&&re.forEach(function(o0){return t(R,o0)}),Ie&&Rn(R,_e),fe}function Qe(R,N,D,B){if(typeof D=="object"&&D!==null&&D.type===w&&D.key===null&&(D=D.props.children),typeof D=="object"&&D!==null){switch(D.$$typeof){case x:e:{for(var fe=D.key;N!==null;){if(N.key===fe){if(fe=D.type,fe===w){if(N.tag===7){l(R,N.sibling),B=d(N,D.props.children),B.return=R,R=B;break e}}else if(N.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===le&&wi(fe)===N.type){l(R,N.sibling),B=d(N,D.props),no(B,D),B.return=R,R=B;break e}l(R,N);break}else t(R,N);N=N.sibling}D.type===w?(B=Ai(D.props.children,R.mode,B,D.key),B.return=R,R=B):(B=Zo(D.type,D.key,D.props,null,R.mode,B),no(B,D),B.return=R,R=B)}return S(R);case b:e:{for(fe=D.key;N!==null;){if(N.key===fe)if(N.tag===4&&N.stateNode.containerInfo===D.containerInfo&&N.stateNode.implementation===D.implementation){l(R,N.sibling),B=d(N,D.children||[]),B.return=R,R=B;break e}else{l(R,N);break}else t(R,N);N=N.sibling}B=Ua(D,R.mode,B),B.return=R,R=B}return S(R);case le:return D=wi(D),Qe(R,N,D,B)}if(Xe(D))return ae(R,N,D,B);if(ce(D)){if(fe=ce(D),typeof fe!="function")throw Error(s(150));return D=fe.call(D),pe(R,N,D,B)}if(typeof D.then=="function")return Qe(R,N,is(D),B);if(D.$$typeof===V)return Qe(R,N,jo(R,D),B);ls(R,D)}return typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint"?(D=""+D,N!==null&&N.tag===6?(l(R,N.sibling),B=d(N,D),B.return=R,R=B):(l(R,N),B=Ia(D,R.mode,B),B.return=R,R=B),S(R)):l(R,N)}return function(R,N,D,B){try{to=0;var fe=Qe(R,N,D,B);return pl=null,fe}catch(re){if(re===dl||re===ts)throw re;var He=Bt(29,re,null,R.mode);return He.lanes=B,He.return=R,He}finally{}}}var Ii=Yc(!0),Jc=Yc(!1),ei=!1;function Ya(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ja(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ti(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ni(e,t,l){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(Pe&2)!==0){var d=a.pending;return d===null?t.next=t:(t.next=d.next,d.next=t),a.pending=t,t=Xo(e),bc(e,null,l),t}return Ko(e,a,t,l),Xo(e)}function io(e,t,l){if(t=t.updateQueue,t!==null&&(t=t.shared,(l&4194048)!==0)){var a=t.lanes;a&=e.pendingLanes,l|=a,t.lanes=l,Ne(e,l)}}function Qa(e,t){var l=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,l===a)){var d=null,p=null;if(l=l.firstBaseUpdate,l!==null){do{var S={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};p===null?d=p=S:p=p.next=S,l=l.next}while(l!==null);p===null?d=p=t:p=p.next=t}else d=p=t;l={baseState:a.baseState,firstBaseUpdate:d,lastBaseUpdate:p,shared:a.shared,callbacks:a.callbacks},e.updateQueue=l;return}e=l.lastBaseUpdate,e===null?l.firstBaseUpdate=t:e.next=t,l.lastBaseUpdate=t}var Ka=!1;function lo(){if(Ka){var e=fl;if(e!==null)throw e}}function oo(e,t,l,a){Ka=!1;var d=e.updateQueue;ei=!1;var p=d.firstBaseUpdate,S=d.lastBaseUpdate,_=d.shared.pending;if(_!==null){d.shared.pending=null;var A=_,I=A.next;A.next=null,S===null?p=I:S.next=I,S=A;var P=e.alternate;P!==null&&(P=P.updateQueue,_=P.lastBaseUpdate,_!==S&&(_===null?P.firstBaseUpdate=I:_.next=I,P.lastBaseUpdate=A))}if(p!==null){var O=d.baseState;S=0,P=I=A=null,_=p;do{var L=_.lane&-536870913,H=L!==_.lane;if(H?(be&L)===L:(a&L)===L){L!==0&&L===cl&&(Ka=!0),P!==null&&(P=P.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});e:{var ae=e,pe=_;L=t;var Qe=l;switch(pe.tag){case 1:if(ae=pe.payload,typeof ae=="function"){O=ae.call(Qe,O,L);break e}O=ae;break e;case 3:ae.flags=ae.flags&-65537|128;case 0:if(ae=pe.payload,L=typeof ae=="function"?ae.call(Qe,O,L):ae,L==null)break e;O=T({},O,L);break e;case 2:ei=!0}}L=_.callback,L!==null&&(e.flags|=64,H&&(e.flags|=8192),H=d.callbacks,H===null?d.callbacks=[L]:H.push(L))}else H={lane:L,tag:_.tag,payload:_.payload,callback:_.callback,next:null},P===null?(I=P=H,A=O):P=P.next=H,S|=L;if(_=_.next,_===null){if(_=d.shared.pending,_===null)break;H=_,_=H.next,H.next=null,d.lastBaseUpdate=H,d.shared.pending=null}}while(!0);P===null&&(A=O),d.baseState=A,d.firstBaseUpdate=I,d.lastBaseUpdate=P,p===null&&(d.shared.lanes=0),ai|=S,e.lanes=S,e.memoizedState=O}}function Qc(e,t){if(typeof e!="function")throw Error(s(191,e));e.call(t)}function Kc(e,t){var l=e.callbacks;if(l!==null)for(e.callbacks=null,e=0;e<l.length;e++)Qc(l[e],t)}var ml=M(null),os=M(0);function Xc(e,t){e=kn,$(os,e),$(ml,t),kn=e|t.baseLanes}function Xa(){$(os,kn),$(ml,ml.current)}function Za(){kn=os.current,F(ml),F(os)}var Ft=M(null),ln=null;function ii(e){var t=e.alternate;$(st,st.current&1),$(Ft,e),ln===null&&(t===null||ml.current!==null||t.memoizedState!==null)&&(ln=e)}function $a(e){$(st,st.current),$(Ft,e),ln===null&&(ln=e)}function Zc(e){e.tag===22?($(st,st.current),$(Ft,e),ln===null&&(ln=e)):li()}function li(){$(st,st.current),$(Ft,Ft.current)}function Ot(e){F(Ft),ln===e&&(ln=null),F(st)}var st=M(0);function ss(e){for(var t=e;t!==null;){if(t.tag===13){var l=t.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||iu(l)||lu(l)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Dn=0,Ee=null,Ye=null,dt=null,as=!1,hl=!1,Ui=!1,rs=0,so=0,gl=null,Xg=0;function it(){throw Error(s(321))}function Wa(e,t){if(t===null)return!1;for(var l=0;l<t.length&&l<e.length;l++)if(!Vt(e[l],t[l]))return!1;return!0}function ja(e,t,l,a,d,p){return Dn=p,Ee=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,G.H=e===null||e.memoizedState===null?Lf:mr,Ui=!1,p=l(a,d),Ui=!1,hl&&(p=Wc(t,l,a,d)),$c(e),p}function $c(e){G.H=uo;var t=Ye!==null&&Ye.next!==null;if(Dn=0,dt=Ye=Ee=null,as=!1,so=0,gl=null,t)throw Error(s(300));e===null||pt||(e=e.dependencies,e!==null&&Wo(e)&&(pt=!0))}function Wc(e,t,l,a){Ee=e;var d=0;do{if(hl&&(gl=null),so=0,hl=!1,25<=d)throw Error(s(301));if(d+=1,dt=Ye=null,e.updateQueue!=null){var p=e.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}G.H=qf,p=t(l,a)}while(hl);return p}function Zg(){var e=G.H,t=e.useState()[0];return t=typeof t.then=="function"?ao(t):t,e=e.useState()[0],(Ye!==null?Ye.memoizedState:null)!==e&&(Ee.flags|=1024),t}function er(){var e=rs!==0;return rs=0,e}function tr(e,t,l){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l}function nr(e){if(as){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}as=!1}Dn=0,dt=Ye=Ee=null,hl=!1,so=rs=0,gl=null}function wt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dt===null?Ee.memoizedState=dt=e:dt=dt.next=e,dt}function at(){if(Ye===null){var e=Ee.alternate;e=e!==null?e.memoizedState:null}else e=Ye.next;var t=dt===null?Ee.memoizedState:dt.next;if(t!==null)dt=t,Ye=e;else{if(e===null)throw Ee.alternate===null?Error(s(467)):Error(s(310));Ye=e,e={memoizedState:Ye.memoizedState,baseState:Ye.baseState,baseQueue:Ye.baseQueue,queue:Ye.queue,next:null},dt===null?Ee.memoizedState=dt=e:dt=dt.next=e}return dt}function us(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ao(e){var t=so;return so+=1,gl===null&&(gl=[]),e=Bc(gl,e,t),t=Ee,(dt===null?t.memoizedState:dt.next)===null&&(t=t.alternate,G.H=t===null||t.memoizedState===null?Lf:mr),e}function cs(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ao(e);if(e.$$typeof===V)return At(e)}throw Error(s(438,String(e)))}function ir(e){var t=null,l=Ee.updateQueue;if(l!==null&&(t=l.memoCache),t==null){var a=Ee.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(t={data:a.data.map(function(d){return d.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),l===null&&(l=us(),Ee.updateQueue=l),l.memoCache=t,l=t.data[t.index],l===void 0)for(l=t.data[t.index]=Array(e),a=0;a<e;a++)l[a]=W;return t.index++,l}function In(e,t){return typeof t=="function"?t(e):t}function fs(e){var t=at();return lr(t,Ye,e)}function lr(e,t,l){var a=e.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=l;var d=e.baseQueue,p=a.pending;if(p!==null){if(d!==null){var S=d.next;d.next=p.next,p.next=S}t.baseQueue=d=p,a.pending=null}if(p=e.baseState,d===null)e.memoizedState=p;else{t=d.next;var _=S=null,A=null,I=t,P=!1;do{var O=I.lane&-536870913;if(O!==I.lane?(be&O)===O:(Dn&O)===O){var L=I.revertLane;if(L===0)A!==null&&(A=A.next={lane:0,revertLane:0,gesture:null,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null}),O===cl&&(P=!0);else if((Dn&L)===L){I=I.next,L===cl&&(P=!0);continue}else O={lane:0,revertLane:I.revertLane,gesture:null,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null},A===null?(_=A=O,S=p):A=A.next=O,Ee.lanes|=L,ai|=L;O=I.action,Ui&&l(p,O),p=I.hasEagerState?I.eagerState:l(p,O)}else L={lane:O,revertLane:I.revertLane,gesture:I.gesture,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null},A===null?(_=A=L,S=p):A=A.next=L,Ee.lanes|=O,ai|=O;I=I.next}while(I!==null&&I!==t);if(A===null?S=p:A.next=_,!Vt(p,e.memoizedState)&&(pt=!0,P&&(l=fl,l!==null)))throw l;e.memoizedState=p,e.baseState=S,e.baseQueue=A,a.lastRenderedState=p}return d===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function or(e){var t=at(),l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=e;var a=l.dispatch,d=l.pending,p=t.memoizedState;if(d!==null){l.pending=null;var S=d=d.next;do p=e(p,S.action),S=S.next;while(S!==d);Vt(p,t.memoizedState)||(pt=!0),t.memoizedState=p,t.baseQueue===null&&(t.baseState=p),l.lastRenderedState=p}return[p,a]}function jc(e,t,l){var a=Ee,d=at(),p=Ie;if(p){if(l===void 0)throw Error(s(407));l=l()}else l=t();var S=!Vt((Ye||d).memoizedState,l);if(S&&(d.memoizedState=l,pt=!0),d=d.queue,rr(nf.bind(null,a,d,e),[e]),d.getSnapshot!==t||S||dt!==null&&dt.memoizedState.tag&1){if(a.flags|=2048,yl(9,{destroy:void 0},tf.bind(null,a,d,l,t),null),Ke===null)throw Error(s(349));p||(Dn&127)!==0||ef(a,t,l)}return l}function ef(e,t,l){e.flags|=16384,e={getSnapshot:t,value:l},t=Ee.updateQueue,t===null?(t=us(),Ee.updateQueue=t,t.stores=[e]):(l=t.stores,l===null?t.stores=[e]:l.push(e))}function tf(e,t,l,a){t.value=l,t.getSnapshot=a,lf(t)&&of(e)}function nf(e,t,l){return l(function(){lf(t)&&of(e)})}function lf(e){var t=e.getSnapshot;e=e.value;try{var l=t();return!Vt(e,l)}catch{return!0}}function of(e){var t=xi(e,2);t!==null&&Ht(t,e,2)}function sr(e){var t=wt();if(typeof e=="function"){var l=e;if(e=l(),Ui){Pt(!0);try{l()}finally{Pt(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:In,lastRenderedState:e},t}function sf(e,t,l,a){return e.baseState=l,lr(e,Ye,typeof a=="function"?a:In)}function $g(e,t,l,a,d){if(ms(e))throw Error(s(485));if(e=t.action,e!==null){var p={payload:d,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){p.listeners.push(S)}};G.T!==null?l(!0):p.isTransition=!1,a(p),l=t.pending,l===null?(p.next=t.pending=p,af(t,p)):(p.next=l.next,t.pending=l.next=p)}}function af(e,t){var l=t.action,a=t.payload,d=e.state;if(t.isTransition){var p=G.T,S={};G.T=S;try{var _=l(d,a),A=G.S;A!==null&&A(S,_),rf(e,t,_)}catch(I){ar(e,t,I)}finally{p!==null&&S.types!==null&&(p.types=S.types),G.T=p}}else try{p=l(d,a),rf(e,t,p)}catch(I){ar(e,t,I)}}function rf(e,t,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(a){uf(e,t,a)},function(a){return ar(e,t,a)}):uf(e,t,l)}function uf(e,t,l){t.status="fulfilled",t.value=l,cf(t),e.state=l,t=e.pending,t!==null&&(l=t.next,l===t?e.pending=null:(l=l.next,t.next=l,af(e,l)))}function ar(e,t,l){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do t.status="rejected",t.reason=l,cf(t),t=t.next;while(t!==a)}e.action=null}function cf(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function ff(e,t){return t}function df(e,t){if(Ie){var l=Ke.formState;if(l!==null){e:{var a=Ee;if(Ie){if($e){t:{for(var d=$e,p=nn;d.nodeType!==8;){if(!p){d=null;break t}if(d=on(d.nextSibling),d===null){d=null;break t}}p=d.data,d=p==="F!"||p==="F"?d:null}if(d){$e=on(d.nextSibling),a=d.data==="F!";break e}}Wn(a)}a=!1}a&&(t=l[0])}}return l=wt(),l.memoizedState=l.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ff,lastRenderedState:t},l.queue=a,l=Df.bind(null,Ee,a),a.dispatch=l,a=sr(!1),p=pr.bind(null,Ee,!1,a.queue),a=wt(),d={state:t,dispatch:null,action:e,pending:null},a.queue=d,l=$g.bind(null,Ee,d,p,l),d.dispatch=l,a.memoizedState=e,[t,l,!1]}function pf(e){var t=at();return mf(t,Ye,e)}function mf(e,t,l){if(t=lr(e,t,ff)[0],e=fs(In)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var a=ao(t)}catch(S){throw S===dl?ts:S}else a=t;t=at();var d=t.queue,p=d.dispatch;return l!==t.memoizedState&&(Ee.flags|=2048,yl(9,{destroy:void 0},Wg.bind(null,d,l),null)),[a,p,e]}function Wg(e,t){e.action=t}function hf(e){var t=at(),l=Ye;if(l!==null)return mf(t,l,e);at(),t=t.memoizedState,l=at();var a=l.queue.dispatch;return l.memoizedState=e,[t,a,!1]}function yl(e,t,l,a){return e={tag:e,create:l,deps:a,inst:t,next:null},t=Ee.updateQueue,t===null&&(t=us(),Ee.updateQueue=t),l=t.lastEffect,l===null?t.lastEffect=e.next=e:(a=l.next,l.next=e,e.next=a,t.lastEffect=e),e}function gf(){return at().memoizedState}function ds(e,t,l,a){var d=wt();Ee.flags|=e,d.memoizedState=yl(1|t,{destroy:void 0},l,a===void 0?null:a)}function ps(e,t,l,a){var d=at();a=a===void 0?null:a;var p=d.memoizedState.inst;Ye!==null&&a!==null&&Wa(a,Ye.memoizedState.deps)?d.memoizedState=yl(t,p,l,a):(Ee.flags|=e,d.memoizedState=yl(1|t,p,l,a))}function yf(e,t){ds(8390656,8,e,t)}function rr(e,t){ps(2048,8,e,t)}function jg(e){Ee.flags|=4;var t=Ee.updateQueue;if(t===null)t=us(),Ee.updateQueue=t,t.events=[e];else{var l=t.events;l===null?t.events=[e]:l.push(e)}}function vf(e){var t=at().memoizedState;return jg({ref:t,nextImpl:e}),function(){if((Pe&2)!==0)throw Error(s(440));return t.impl.apply(void 0,arguments)}}function Sf(e,t){return ps(4,2,e,t)}function Tf(e,t){return ps(4,4,e,t)}function Cf(e,t){if(typeof t=="function"){e=e();var l=t(e);return function(){typeof l=="function"?l():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Ef(e,t,l){l=l!=null?l.concat([e]):null,ps(4,4,Cf.bind(null,t,e),l)}function ur(){}function _f(e,t){var l=at();t=t===void 0?null:t;var a=l.memoizedState;return t!==null&&Wa(t,a[1])?a[0]:(l.memoizedState=[e,t],e)}function xf(e,t){var l=at();t=t===void 0?null:t;var a=l.memoizedState;if(t!==null&&Wa(t,a[1]))return a[0];if(a=e(),Ui){Pt(!0);try{e()}finally{Pt(!1)}}return l.memoizedState=[a,t],a}function cr(e,t,l){return l===void 0||(Dn&1073741824)!==0&&(be&261930)===0?e.memoizedState=t:(e.memoizedState=l,e=Ad(),Ee.lanes|=e,ai|=e,l)}function Af(e,t,l,a){return Vt(l,t)?l:ml.current!==null?(e=cr(e,l,a),Vt(e,t)||(pt=!0),e):(Dn&42)===0||(Dn&1073741824)!==0&&(be&261930)===0?(pt=!0,e.memoizedState=l):(e=Ad(),Ee.lanes|=e,ai|=e,t)}function Nf(e,t,l,a,d){var p=J.p;J.p=p!==0&&8>p?p:8;var S=G.T,_={};G.T=_,pr(e,!1,t,l);try{var A=d(),I=G.S;if(I!==null&&I(_,A),A!==null&&typeof A=="object"&&typeof A.then=="function"){var P=Kg(A,a);ro(e,t,P,Qt(e))}else ro(e,t,a,Qt(e))}catch(O){ro(e,t,{then:function(){},status:"rejected",reason:O},Qt())}finally{J.p=p,S!==null&&_.types!==null&&(S.types=_.types),G.T=S}}function ey(){}function fr(e,t,l,a){if(e.tag!==5)throw Error(s(476));var d=Mf(e).queue;Nf(e,d,t,ue,l===null?ey:function(){return Rf(e),l(a)})}function Mf(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:ue,baseState:ue,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:In,lastRenderedState:ue},next:null};var l={};return t.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:In,lastRenderedState:l},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Rf(e){var t=Mf(e);t.next===null&&(t=e.alternate.memoizedState),ro(e,t.next.queue,{},Qt())}function dr(){return At(No)}function bf(){return at().memoizedState}function wf(){return at().memoizedState}function ty(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var l=Qt();e=ti(l);var a=ni(t,e,l);a!==null&&(Ht(a,t,l),io(a,t,l)),t={cache:Va()},e.payload=t;return}t=t.return}}function ny(e,t,l){var a=Qt();l={lane:a,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},ms(e)?If(t,l):(l=wa(e,t,l,a),l!==null&&(Ht(l,e,a),Uf(l,t,a)))}function Df(e,t,l){var a=Qt();ro(e,t,l,a)}function ro(e,t,l,a){var d={lane:a,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(ms(e))If(t,d);else{var p=e.alternate;if(e.lanes===0&&(p===null||p.lanes===0)&&(p=t.lastRenderedReducer,p!==null))try{var S=t.lastRenderedState,_=p(S,l);if(d.hasEagerState=!0,d.eagerState=_,Vt(_,S))return Ko(e,t,d,0),Ke===null&&Qo(),!1}catch{}finally{}if(l=wa(e,t,d,a),l!==null)return Ht(l,e,a),Uf(l,t,a),!0}return!1}function pr(e,t,l,a){if(a={lane:2,revertLane:Yr(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},ms(e)){if(t)throw Error(s(479))}else t=wa(e,l,a,2),t!==null&&Ht(t,e,2)}function ms(e){var t=e.alternate;return e===Ee||t!==null&&t===Ee}function If(e,t){hl=as=!0;var l=e.pending;l===null?t.next=t:(t.next=l.next,l.next=t),e.pending=t}function Uf(e,t,l){if((l&4194048)!==0){var a=t.lanes;a&=e.pendingLanes,l|=a,t.lanes=l,Ne(e,l)}}var uo={readContext:At,use:cs,useCallback:it,useContext:it,useEffect:it,useImperativeHandle:it,useLayoutEffect:it,useInsertionEffect:it,useMemo:it,useReducer:it,useRef:it,useState:it,useDebugValue:it,useDeferredValue:it,useTransition:it,useSyncExternalStore:it,useId:it,useHostTransitionStatus:it,useFormState:it,useActionState:it,useOptimistic:it,useMemoCache:it,useCacheRefresh:it};uo.useEffectEvent=it;var Lf={readContext:At,use:cs,useCallback:function(e,t){return wt().memoizedState=[e,t===void 0?null:t],e},useContext:At,useEffect:yf,useImperativeHandle:function(e,t,l){l=l!=null?l.concat([e]):null,ds(4194308,4,Cf.bind(null,t,e),l)},useLayoutEffect:function(e,t){return ds(4194308,4,e,t)},useInsertionEffect:function(e,t){ds(4,2,e,t)},useMemo:function(e,t){var l=wt();t=t===void 0?null:t;var a=e();if(Ui){Pt(!0);try{e()}finally{Pt(!1)}}return l.memoizedState=[a,t],a},useReducer:function(e,t,l){var a=wt();if(l!==void 0){var d=l(t);if(Ui){Pt(!0);try{l(t)}finally{Pt(!1)}}}else d=t;return a.memoizedState=a.baseState=d,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:d},a.queue=e,e=e.dispatch=ny.bind(null,Ee,e),[a.memoizedState,e]},useRef:function(e){var t=wt();return e={current:e},t.memoizedState=e},useState:function(e){e=sr(e);var t=e.queue,l=Df.bind(null,Ee,t);return t.dispatch=l,[e.memoizedState,l]},useDebugValue:ur,useDeferredValue:function(e,t){var l=wt();return cr(l,e,t)},useTransition:function(){var e=sr(!1);return e=Nf.bind(null,Ee,e.queue,!0,!1),wt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,l){var a=Ee,d=wt();if(Ie){if(l===void 0)throw Error(s(407));l=l()}else{if(l=t(),Ke===null)throw Error(s(349));(be&127)!==0||ef(a,t,l)}d.memoizedState=l;var p={value:l,getSnapshot:t};return d.queue=p,yf(nf.bind(null,a,p,e),[e]),a.flags|=2048,yl(9,{destroy:void 0},tf.bind(null,a,p,l,t),null),l},useId:function(){var e=wt(),t=Ke.identifierPrefix;if(Ie){var l=Tn,a=Sn;l=(a&~(1<<32-vt(a)-1)).toString(32)+l,t="_"+t+"R_"+l,l=rs++,0<l&&(t+="H"+l.toString(32)),t+="_"}else l=Xg++,t="_"+t+"r_"+l.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:dr,useFormState:df,useActionState:df,useOptimistic:function(e){var t=wt();t.memoizedState=t.baseState=e;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=l,t=pr.bind(null,Ee,!0,l),l.dispatch=t,[e,t]},useMemoCache:ir,useCacheRefresh:function(){return wt().memoizedState=ty.bind(null,Ee)},useEffectEvent:function(e){var t=wt(),l={impl:e};return t.memoizedState=l,function(){if((Pe&2)!==0)throw Error(s(440));return l.impl.apply(void 0,arguments)}}},mr={readContext:At,use:cs,useCallback:_f,useContext:At,useEffect:rr,useImperativeHandle:Ef,useInsertionEffect:Sf,useLayoutEffect:Tf,useMemo:xf,useReducer:fs,useRef:gf,useState:function(){return fs(In)},useDebugValue:ur,useDeferredValue:function(e,t){var l=at();return Af(l,Ye.memoizedState,e,t)},useTransition:function(){var e=fs(In)[0],t=at().memoizedState;return[typeof e=="boolean"?e:ao(e),t]},useSyncExternalStore:jc,useId:bf,useHostTransitionStatus:dr,useFormState:pf,useActionState:pf,useOptimistic:function(e,t){var l=at();return sf(l,Ye,e,t)},useMemoCache:ir,useCacheRefresh:wf};mr.useEffectEvent=vf;var qf={readContext:At,use:cs,useCallback:_f,useContext:At,useEffect:rr,useImperativeHandle:Ef,useInsertionEffect:Sf,useLayoutEffect:Tf,useMemo:xf,useReducer:or,useRef:gf,useState:function(){return or(In)},useDebugValue:ur,useDeferredValue:function(e,t){var l=at();return Ye===null?cr(l,e,t):Af(l,Ye.memoizedState,e,t)},useTransition:function(){var e=or(In)[0],t=at().memoizedState;return[typeof e=="boolean"?e:ao(e),t]},useSyncExternalStore:jc,useId:bf,useHostTransitionStatus:dr,useFormState:hf,useActionState:hf,useOptimistic:function(e,t){var l=at();return Ye!==null?sf(l,Ye,e,t):(l.baseState=e,[e,l.queue.dispatch])},useMemoCache:ir,useCacheRefresh:wf};qf.useEffectEvent=vf;function hr(e,t,l,a){t=e.memoizedState,l=l(a,t),l=l==null?t:T({},t,l),e.memoizedState=l,e.lanes===0&&(e.updateQueue.baseState=l)}var gr={enqueueSetState:function(e,t,l){e=e._reactInternals;var a=Qt(),d=ti(a);d.payload=t,l!=null&&(d.callback=l),t=ni(e,d,a),t!==null&&(Ht(t,e,a),io(t,e,a))},enqueueReplaceState:function(e,t,l){e=e._reactInternals;var a=Qt(),d=ti(a);d.tag=1,d.payload=t,l!=null&&(d.callback=l),t=ni(e,d,a),t!==null&&(Ht(t,e,a),io(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var l=Qt(),a=ti(l);a.tag=2,t!=null&&(a.callback=t),t=ni(e,a,l),t!==null&&(Ht(t,e,l),io(t,e,l))}};function Gf(e,t,l,a,d,p,S){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,p,S):t.prototype&&t.prototype.isPureReactComponent?!Xl(l,a)||!Xl(d,p):!0}function Hf(e,t,l,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(l,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(l,a),t.state!==e&&gr.enqueueReplaceState(t,t.state,null)}function Li(e,t){var l=t;if("ref"in t){l={};for(var a in t)a!=="ref"&&(l[a]=t[a])}if(e=e.defaultProps){l===t&&(l=T({},l));for(var d in e)l[d]===void 0&&(l[d]=e[d])}return l}function zf(e){Jo(e)}function kf(e){console.error(e)}function Pf(e){Jo(e)}function hs(e,t){try{var l=e.onUncaughtError;l(t.value,{componentStack:t.stack})}catch(a){setTimeout(function(){throw a})}}function Vf(e,t,l){try{var a=e.onCaughtError;a(l.value,{componentStack:l.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function yr(e,t,l){return l=ti(l),l.tag=3,l.payload={element:null},l.callback=function(){hs(e,t)},l}function Bf(e){return e=ti(e),e.tag=3,e}function Ff(e,t,l,a){var d=l.type.getDerivedStateFromError;if(typeof d=="function"){var p=a.value;e.payload=function(){return d(p)},e.callback=function(){Vf(t,l,a)}}var S=l.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(e.callback=function(){Vf(t,l,a),typeof d!="function"&&(ri===null?ri=new Set([this]):ri.add(this));var _=a.stack;this.componentDidCatch(a.value,{componentStack:_!==null?_:""})})}function iy(e,t,l,a,d){if(l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(t=l.alternate,t!==null&&ul(t,l,d,!0),l=Ft.current,l!==null){switch(l.tag){case 31:case 13:return ln===null?Ms():l.alternate===null&&lt===0&&(lt=3),l.flags&=-257,l.flags|=65536,l.lanes=d,a===ns?l.flags|=16384:(t=l.updateQueue,t===null?l.updateQueue=new Set([a]):t.add(a),Br(e,a,d)),!1;case 22:return l.flags|=65536,a===ns?l.flags|=16384:(t=l.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},l.updateQueue=t):(l=t.retryQueue,l===null?t.retryQueue=new Set([a]):l.add(a)),Br(e,a,d)),!1}throw Error(s(435,l.tag))}return Br(e,a,d),Ms(),!1}if(Ie)return t=Ft.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=d,a!==Ga&&(e=Error(s(422),{cause:a}),Wl(jt(e,l)))):(a!==Ga&&(t=Error(s(423),{cause:a}),Wl(jt(t,l))),e=e.current.alternate,e.flags|=65536,d&=-d,e.lanes|=d,a=jt(a,l),d=yr(e.stateNode,a,d),Qa(e,d),lt!==4&&(lt=2)),!1;var p=Error(s(520),{cause:a});if(p=jt(p,l),vo===null?vo=[p]:vo.push(p),lt!==4&&(lt=2),t===null)return!0;a=jt(a,l),l=t;do{switch(l.tag){case 3:return l.flags|=65536,e=d&-d,l.lanes|=e,e=yr(l.stateNode,a,e),Qa(l,e),!1;case 1:if(t=l.type,p=l.stateNode,(l.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(ri===null||!ri.has(p))))return l.flags|=65536,d&=-d,l.lanes|=d,d=Bf(d),Ff(d,e,l,a),Qa(l,d),!1}l=l.return}while(l!==null);return!1}var vr=Error(s(461)),pt=!1;function Nt(e,t,l,a){t.child=e===null?Jc(t,null,l,a):Ii(t,e.child,l,a)}function Of(e,t,l,a,d){l=l.render;var p=t.ref;if("ref"in a){var S={};for(var _ in a)_!=="ref"&&(S[_]=a[_])}else S=a;return Ri(t),a=ja(e,t,l,S,p,d),_=er(),e!==null&&!pt?(tr(e,t,d),Un(e,t,d)):(Ie&&_&&La(t),t.flags|=1,Nt(e,t,a,d),t.child)}function Yf(e,t,l,a,d){if(e===null){var p=l.type;return typeof p=="function"&&!Da(p)&&p.defaultProps===void 0&&l.compare===null?(t.tag=15,t.type=p,Jf(e,t,p,a,d)):(e=Zo(l.type,null,a,t,t.mode,d),e.ref=t.ref,e.return=t,t.child=e)}if(p=e.child,!Nr(e,d)){var S=p.memoizedProps;if(l=l.compare,l=l!==null?l:Xl,l(S,a)&&e.ref===t.ref)return Un(e,t,d)}return t.flags|=1,e=Mn(p,a),e.ref=t.ref,e.return=t,t.child=e}function Jf(e,t,l,a,d){if(e!==null){var p=e.memoizedProps;if(Xl(p,a)&&e.ref===t.ref)if(pt=!1,t.pendingProps=a=p,Nr(e,d))(e.flags&131072)!==0&&(pt=!0);else return t.lanes=e.lanes,Un(e,t,d)}return Sr(e,t,l,a,d)}function Qf(e,t,l,a){var d=a.children,p=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.mode==="hidden"){if((t.flags&128)!==0){if(p=p!==null?p.baseLanes|l:l,e!==null){for(a=t.child=e.child,d=0;a!==null;)d=d|a.lanes|a.childLanes,a=a.sibling;a=d&~p}else a=0,t.child=null;return Kf(e,t,p,l,a)}if((l&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&es(t,p!==null?p.cachePool:null),p!==null?Xc(t,p):Xa(),Zc(t);else return a=t.lanes=536870912,Kf(e,t,p!==null?p.baseLanes|l:l,l,a)}else p!==null?(es(t,p.cachePool),Xc(t,p),li(),t.memoizedState=null):(e!==null&&es(t,null),Xa(),li());return Nt(e,t,d,l),t.child}function co(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Kf(e,t,l,a,d){var p=Fa();return p=p===null?null:{parent:ft._currentValue,pool:p},t.memoizedState={baseLanes:l,cachePool:p},e!==null&&es(t,null),Xa(),Zc(t),e!==null&&ul(e,t,a,!0),t.childLanes=d,null}function gs(e,t){return t=vs({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Xf(e,t,l){return Ii(t,e.child,null,l),e=gs(t,t.pendingProps),e.flags|=2,Ot(t),t.memoizedState=null,e}function ly(e,t,l){var a=t.pendingProps,d=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Ie){if(a.mode==="hidden")return e=gs(t,a),t.lanes=536870912,co(null,e);if($a(t),(e=$e)?(e=ap(e,nn),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Zn!==null?{id:Sn,overflow:Tn}:null,retryLane:536870912,hydrationErrors:null},l=Dc(e),l.return=t,t.child=l,xt=t,$e=null)):e=null,e===null)throw Wn(t);return t.lanes=536870912,null}return gs(t,a)}var p=e.memoizedState;if(p!==null){var S=p.dehydrated;if($a(t),d)if(t.flags&256)t.flags&=-257,t=Xf(e,t,l);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(s(558));else if(pt||ul(e,t,l,!1),d=(l&e.childLanes)!==0,pt||d){if(a=Ke,a!==null&&(S=Ve(a,l),S!==0&&S!==p.retryLane))throw p.retryLane=S,xi(e,S),Ht(a,e,S),vr;Ms(),t=Xf(e,t,l)}else e=p.treeContext,$e=on(S.nextSibling),xt=t,Ie=!0,$n=null,nn=!1,e!==null&&Lc(t,e),t=gs(t,a),t.flags|=4096;return t}return e=Mn(e.child,{mode:a.mode,children:a.children}),e.ref=t.ref,t.child=e,e.return=t,e}function ys(e,t){var l=t.ref;if(l===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(s(284));(e===null||e.ref!==l)&&(t.flags|=4194816)}}function Sr(e,t,l,a,d){return Ri(t),l=ja(e,t,l,a,void 0,d),a=er(),e!==null&&!pt?(tr(e,t,d),Un(e,t,d)):(Ie&&a&&La(t),t.flags|=1,Nt(e,t,l,d),t.child)}function Zf(e,t,l,a,d,p){return Ri(t),t.updateQueue=null,l=Wc(t,a,l,d),$c(e),a=er(),e!==null&&!pt?(tr(e,t,p),Un(e,t,p)):(Ie&&a&&La(t),t.flags|=1,Nt(e,t,l,p),t.child)}function $f(e,t,l,a,d){if(Ri(t),t.stateNode===null){var p=ol,S=l.contextType;typeof S=="object"&&S!==null&&(p=At(S)),p=new l(a,p),t.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=gr,t.stateNode=p,p._reactInternals=t,p=t.stateNode,p.props=a,p.state=t.memoizedState,p.refs={},Ya(t),S=l.contextType,p.context=typeof S=="object"&&S!==null?At(S):ol,p.state=t.memoizedState,S=l.getDerivedStateFromProps,typeof S=="function"&&(hr(t,l,S,a),p.state=t.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(S=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),S!==p.state&&gr.enqueueReplaceState(p,p.state,null),oo(t,a,p,d),lo(),p.state=t.memoizedState),typeof p.componentDidMount=="function"&&(t.flags|=4194308),a=!0}else if(e===null){p=t.stateNode;var _=t.memoizedProps,A=Li(l,_);p.props=A;var I=p.context,P=l.contextType;S=ol,typeof P=="object"&&P!==null&&(S=At(P));var O=l.getDerivedStateFromProps;P=typeof O=="function"||typeof p.getSnapshotBeforeUpdate=="function",_=t.pendingProps!==_,P||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(_||I!==S)&&Hf(t,p,a,S),ei=!1;var L=t.memoizedState;p.state=L,oo(t,a,p,d),lo(),I=t.memoizedState,_||L!==I||ei?(typeof O=="function"&&(hr(t,l,O,a),I=t.memoizedState),(A=ei||Gf(t,l,A,a,L,I,S))?(P||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(t.flags|=4194308)):(typeof p.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=I),p.props=a,p.state=I,p.context=S,a=A):(typeof p.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{p=t.stateNode,Ja(e,t),S=t.memoizedProps,P=Li(l,S),p.props=P,O=t.pendingProps,L=p.context,I=l.contextType,A=ol,typeof I=="object"&&I!==null&&(A=At(I)),_=l.getDerivedStateFromProps,(I=typeof _=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(S!==O||L!==A)&&Hf(t,p,a,A),ei=!1,L=t.memoizedState,p.state=L,oo(t,a,p,d),lo();var H=t.memoizedState;S!==O||L!==H||ei||e!==null&&e.dependencies!==null&&Wo(e.dependencies)?(typeof _=="function"&&(hr(t,l,_,a),H=t.memoizedState),(P=ei||Gf(t,l,P,a,L,H,A)||e!==null&&e.dependencies!==null&&Wo(e.dependencies))?(I||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(a,H,A),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(a,H,A)),typeof p.componentDidUpdate=="function"&&(t.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof p.componentDidUpdate!="function"||S===e.memoizedProps&&L===e.memoizedState||(t.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&L===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=H),p.props=a,p.state=H,p.context=A,a=P):(typeof p.componentDidUpdate!="function"||S===e.memoizedProps&&L===e.memoizedState||(t.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&L===e.memoizedState||(t.flags|=1024),a=!1)}return p=a,ys(e,t),a=(t.flags&128)!==0,p||a?(p=t.stateNode,l=a&&typeof l.getDerivedStateFromError!="function"?null:p.render(),t.flags|=1,e!==null&&a?(t.child=Ii(t,e.child,null,d),t.child=Ii(t,null,l,d)):Nt(e,t,l,d),t.memoizedState=p.state,e=t.child):e=Un(e,t,d),e}function Wf(e,t,l,a){return Ni(),t.flags|=256,Nt(e,t,l,a),t.child}var Tr={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Cr(e){return{baseLanes:e,cachePool:Pc()}}function Er(e,t,l){return e=e!==null?e.childLanes&~l:0,t&&(e|=Jt),e}function jf(e,t,l){var a=t.pendingProps,d=!1,p=(t.flags&128)!==0,S;if((S=p)||(S=e!==null&&e.memoizedState===null?!1:(st.current&2)!==0),S&&(d=!0,t.flags&=-129),S=(t.flags&32)!==0,t.flags&=-33,e===null){if(Ie){if(d?ii(t):li(),(e=$e)?(e=ap(e,nn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Zn!==null?{id:Sn,overflow:Tn}:null,retryLane:536870912,hydrationErrors:null},l=Dc(e),l.return=t,t.child=l,xt=t,$e=null)):e=null,e===null)throw Wn(t);return lu(e)?t.lanes=32:t.lanes=536870912,null}var _=a.children;return a=a.fallback,d?(li(),d=t.mode,_=vs({mode:"hidden",children:_},d),a=Ai(a,d,l,null),_.return=t,a.return=t,_.sibling=a,t.child=_,a=t.child,a.memoizedState=Cr(l),a.childLanes=Er(e,S,l),t.memoizedState=Tr,co(null,a)):(ii(t),_r(t,_))}var A=e.memoizedState;if(A!==null&&(_=A.dehydrated,_!==null)){if(p)t.flags&256?(ii(t),t.flags&=-257,t=xr(e,t,l)):t.memoizedState!==null?(li(),t.child=e.child,t.flags|=128,t=null):(li(),_=a.fallback,d=t.mode,a=vs({mode:"visible",children:a.children},d),_=Ai(_,d,l,null),_.flags|=2,a.return=t,_.return=t,a.sibling=_,t.child=a,Ii(t,e.child,null,l),a=t.child,a.memoizedState=Cr(l),a.childLanes=Er(e,S,l),t.memoizedState=Tr,t=co(null,a));else if(ii(t),lu(_)){if(S=_.nextSibling&&_.nextSibling.dataset,S)var I=S.dgst;S=I,a=Error(s(419)),a.stack="",a.digest=S,Wl({value:a,source:null,stack:null}),t=xr(e,t,l)}else if(pt||ul(e,t,l,!1),S=(l&e.childLanes)!==0,pt||S){if(S=Ke,S!==null&&(a=Ve(S,l),a!==0&&a!==A.retryLane))throw A.retryLane=a,xi(e,a),Ht(S,e,a),vr;iu(_)||Ms(),t=xr(e,t,l)}else iu(_)?(t.flags|=192,t.child=e.child,t=null):(e=A.treeContext,$e=on(_.nextSibling),xt=t,Ie=!0,$n=null,nn=!1,e!==null&&Lc(t,e),t=_r(t,a.children),t.flags|=4096);return t}return d?(li(),_=a.fallback,d=t.mode,A=e.child,I=A.sibling,a=Mn(A,{mode:"hidden",children:a.children}),a.subtreeFlags=A.subtreeFlags&65011712,I!==null?_=Mn(I,_):(_=Ai(_,d,l,null),_.flags|=2),_.return=t,a.return=t,a.sibling=_,t.child=a,co(null,a),a=t.child,_=e.child.memoizedState,_===null?_=Cr(l):(d=_.cachePool,d!==null?(A=ft._currentValue,d=d.parent!==A?{parent:A,pool:A}:d):d=Pc(),_={baseLanes:_.baseLanes|l,cachePool:d}),a.memoizedState=_,a.childLanes=Er(e,S,l),t.memoizedState=Tr,co(e.child,a)):(ii(t),l=e.child,e=l.sibling,l=Mn(l,{mode:"visible",children:a.children}),l.return=t,l.sibling=null,e!==null&&(S=t.deletions,S===null?(t.deletions=[e],t.flags|=16):S.push(e)),t.child=l,t.memoizedState=null,l)}function _r(e,t){return t=vs({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function vs(e,t){return e=Bt(22,e,null,t),e.lanes=0,e}function xr(e,t,l){return Ii(t,e.child,null,l),e=_r(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ed(e,t,l){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),ka(e.return,t,l)}function Ar(e,t,l,a,d,p){var S=e.memoizedState;S===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:l,tailMode:d,treeForkCount:p}:(S.isBackwards=t,S.rendering=null,S.renderingStartTime=0,S.last=a,S.tail=l,S.tailMode=d,S.treeForkCount=p)}function td(e,t,l){var a=t.pendingProps,d=a.revealOrder,p=a.tail;a=a.children;var S=st.current,_=(S&2)!==0;if(_?(S=S&1|2,t.flags|=128):S&=1,$(st,S),Nt(e,t,a,l),a=Ie?$l:0,!_&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ed(e,l,t);else if(e.tag===19)ed(e,l,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(d){case"forwards":for(l=t.child,d=null;l!==null;)e=l.alternate,e!==null&&ss(e)===null&&(d=l),l=l.sibling;l=d,l===null?(d=t.child,t.child=null):(d=l.sibling,l.sibling=null),Ar(t,!1,d,l,p,a);break;case"backwards":case"unstable_legacy-backwards":for(l=null,d=t.child,t.child=null;d!==null;){if(e=d.alternate,e!==null&&ss(e)===null){t.child=d;break}e=d.sibling,d.sibling=l,l=d,d=e}Ar(t,!0,l,null,p,a);break;case"together":Ar(t,!1,null,null,void 0,a);break;default:t.memoizedState=null}return t.child}function Un(e,t,l){if(e!==null&&(t.dependencies=e.dependencies),ai|=t.lanes,(l&t.childLanes)===0)if(e!==null){if(ul(e,t,l,!1),(l&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(s(153));if(t.child!==null){for(e=t.child,l=Mn(e,e.pendingProps),t.child=l,l.return=t;e.sibling!==null;)e=e.sibling,l=l.sibling=Mn(e,e.pendingProps),l.return=t;l.sibling=null}return t.child}function Nr(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Wo(e)))}function oy(e,t,l){switch(t.tag){case 3:Le(t,t.stateNode.containerInfo),jn(t,ft,e.memoizedState.cache),Ni();break;case 27:case 5:ot(t);break;case 4:Le(t,t.stateNode.containerInfo);break;case 10:jn(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,$a(t),null;break;case 13:var a=t.memoizedState;if(a!==null)return a.dehydrated!==null?(ii(t),t.flags|=128,null):(l&t.child.childLanes)!==0?jf(e,t,l):(ii(t),e=Un(e,t,l),e!==null?e.sibling:null);ii(t);break;case 19:var d=(e.flags&128)!==0;if(a=(l&t.childLanes)!==0,a||(ul(e,t,l,!1),a=(l&t.childLanes)!==0),d){if(a)return td(e,t,l);t.flags|=128}if(d=t.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),$(st,st.current),a)break;return null;case 22:return t.lanes=0,Qf(e,t,l,t.pendingProps);case 24:jn(t,ft,e.memoizedState.cache)}return Un(e,t,l)}function nd(e,t,l){if(e!==null)if(e.memoizedProps!==t.pendingProps)pt=!0;else{if(!Nr(e,l)&&(t.flags&128)===0)return pt=!1,oy(e,t,l);pt=(e.flags&131072)!==0}else pt=!1,Ie&&(t.flags&1048576)!==0&&Uc(t,$l,t.index);switch(t.lanes=0,t.tag){case 16:e:{var a=t.pendingProps;if(e=wi(t.elementType),t.type=e,typeof e=="function")Da(e)?(a=Li(e,a),t.tag=1,t=$f(null,t,e,a,l)):(t.tag=0,t=Sr(null,t,e,a,l));else{if(e!=null){var d=e.$$typeof;if(d===j){t.tag=11,t=Of(null,t,e,a,l);break e}else if(d===X){t.tag=14,t=Yf(null,t,e,a,l);break e}}throw t=ht(e)||e,Error(s(306,t,""))}}return t;case 0:return Sr(e,t,t.type,t.pendingProps,l);case 1:return a=t.type,d=Li(a,t.pendingProps),$f(e,t,a,d,l);case 3:e:{if(Le(t,t.stateNode.containerInfo),e===null)throw Error(s(387));a=t.pendingProps;var p=t.memoizedState;d=p.element,Ja(e,t),oo(t,a,null,l);var S=t.memoizedState;if(a=S.cache,jn(t,ft,a),a!==p.cache&&Pa(t,[ft],l,!0),lo(),a=S.element,p.isDehydrated)if(p={element:a,isDehydrated:!1,cache:S.cache},t.updateQueue.baseState=p,t.memoizedState=p,t.flags&256){t=Wf(e,t,a,l);break e}else if(a!==d){d=jt(Error(s(424)),t),Wl(d),t=Wf(e,t,a,l);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for($e=on(e.firstChild),xt=t,Ie=!0,$n=null,nn=!0,l=Jc(t,null,a,l),t.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Ni(),a===d){t=Un(e,t,l);break e}Nt(e,t,a,l)}t=t.child}return t;case 26:return ys(e,t),e===null?(l=pp(t.type,null,t.pendingProps,null))?t.memoizedState=l:Ie||(l=t.type,e=t.pendingProps,a=Ls(ye.current).createElement(l),a[Se]=t,a[St]=e,Mt(a,l,e),Tt(a),t.stateNode=a):t.memoizedState=pp(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return ot(t),e===null&&Ie&&(a=t.stateNode=cp(t.type,t.pendingProps,ye.current),xt=t,nn=!0,d=$e,di(t.type)?(ou=d,$e=on(a.firstChild)):$e=d),Nt(e,t,t.pendingProps.children,l),ys(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Ie&&((d=a=$e)&&(a=qy(a,t.type,t.pendingProps,nn),a!==null?(t.stateNode=a,xt=t,$e=on(a.firstChild),nn=!1,d=!0):d=!1),d||Wn(t)),ot(t),d=t.type,p=t.pendingProps,S=e!==null?e.memoizedProps:null,a=p.children,eu(d,p)?a=null:S!==null&&eu(d,S)&&(t.flags|=32),t.memoizedState!==null&&(d=ja(e,t,Zg,null,null,l),No._currentValue=d),ys(e,t),Nt(e,t,a,l),t.child;case 6:return e===null&&Ie&&((e=l=$e)&&(l=Gy(l,t.pendingProps,nn),l!==null?(t.stateNode=l,xt=t,$e=null,e=!0):e=!1),e||Wn(t)),null;case 13:return jf(e,t,l);case 4:return Le(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=Ii(t,null,a,l):Nt(e,t,a,l),t.child;case 11:return Of(e,t,t.type,t.pendingProps,l);case 7:return Nt(e,t,t.pendingProps,l),t.child;case 8:return Nt(e,t,t.pendingProps.children,l),t.child;case 12:return Nt(e,t,t.pendingProps.children,l),t.child;case 10:return a=t.pendingProps,jn(t,t.type,a.value),Nt(e,t,a.children,l),t.child;case 9:return d=t.type._context,a=t.pendingProps.children,Ri(t),d=At(d),a=a(d),t.flags|=1,Nt(e,t,a,l),t.child;case 14:return Yf(e,t,t.type,t.pendingProps,l);case 15:return Jf(e,t,t.type,t.pendingProps,l);case 19:return td(e,t,l);case 31:return ly(e,t,l);case 22:return Qf(e,t,l,t.pendingProps);case 24:return Ri(t),a=At(ft),e===null?(d=Fa(),d===null&&(d=Ke,p=Va(),d.pooledCache=p,p.refCount++,p!==null&&(d.pooledCacheLanes|=l),d=p),t.memoizedState={parent:a,cache:d},Ya(t),jn(t,ft,d)):((e.lanes&l)!==0&&(Ja(e,t),oo(t,null,null,l),lo()),d=e.memoizedState,p=t.memoizedState,d.parent!==a?(d={parent:a,cache:a},t.memoizedState=d,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=d),jn(t,ft,a)):(a=p.cache,jn(t,ft,a),a!==d.cache&&Pa(t,[ft],l,!0))),Nt(e,t,t.pendingProps.children,l),t.child;case 29:throw t.pendingProps}throw Error(s(156,t.tag))}function Ln(e){e.flags|=4}function Mr(e,t,l,a,d){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(d&335544128)===d)if(e.stateNode.complete)e.flags|=8192;else if(bd())e.flags|=8192;else throw Di=ns,Oa}else e.flags&=-16777217}function id(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!vp(t))if(bd())e.flags|=8192;else throw Di=ns,Oa}function Ss(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?xe():536870912,e.lanes|=t,Cl|=t)}function fo(e,t){if(!Ie)switch(e.tailMode){case"hidden":t=e.tail;for(var l=null;t!==null;)t.alternate!==null&&(l=t),t=t.sibling;l===null?e.tail=null:l.sibling=null;break;case"collapsed":l=e.tail;for(var a=null;l!==null;)l.alternate!==null&&(a=l),l=l.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function We(e){var t=e.alternate!==null&&e.alternate.child===e.child,l=0,a=0;if(t)for(var d=e.child;d!==null;)l|=d.lanes|d.childLanes,a|=d.subtreeFlags&65011712,a|=d.flags&65011712,d.return=e,d=d.sibling;else for(d=e.child;d!==null;)l|=d.lanes|d.childLanes,a|=d.subtreeFlags,a|=d.flags,d.return=e,d=d.sibling;return e.subtreeFlags|=a,e.childLanes=l,t}function sy(e,t,l){var a=t.pendingProps;switch(qa(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return We(t),null;case 1:return We(t),null;case 3:return l=t.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),wn(ft),Ze(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(rl(t)?Ln(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Ha())),We(t),null;case 26:var d=t.type,p=t.memoizedState;return e===null?(Ln(t),p!==null?(We(t),id(t,p)):(We(t),Mr(t,d,null,a,l))):p?p!==e.memoizedState?(Ln(t),We(t),id(t,p)):(We(t),t.flags&=-16777217):(e=e.memoizedProps,e!==a&&Ln(t),We(t),Mr(t,d,e,a,l)),null;case 27:if(rn(t),l=ye.current,d=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&Ln(t);else{if(!a){if(t.stateNode===null)throw Error(s(166));return We(t),null}e=oe.current,rl(t)?qc(t):(e=cp(d,a,l),t.stateNode=e,Ln(t))}return We(t),null;case 5:if(rn(t),d=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&Ln(t);else{if(!a){if(t.stateNode===null)throw Error(s(166));return We(t),null}if(p=oe.current,rl(t))qc(t);else{var S=Ls(ye.current);switch(p){case 1:p=S.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:p=S.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":p=S.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":p=S.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":p=S.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof a.is=="string"?S.createElement("select",{is:a.is}):S.createElement("select"),a.multiple?p.multiple=!0:a.size&&(p.size=a.size);break;default:p=typeof a.is=="string"?S.createElement(d,{is:a.is}):S.createElement(d)}}p[Se]=t,p[St]=a;e:for(S=t.child;S!==null;){if(S.tag===5||S.tag===6)p.appendChild(S.stateNode);else if(S.tag!==4&&S.tag!==27&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===t)break e;for(;S.sibling===null;){if(S.return===null||S.return===t)break e;S=S.return}S.sibling.return=S.return,S=S.sibling}t.stateNode=p;e:switch(Mt(p,d,a),d){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&Ln(t)}}return We(t),Mr(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,l),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==a&&Ln(t);else{if(typeof a!="string"&&t.stateNode===null)throw Error(s(166));if(e=ye.current,rl(t)){if(e=t.stateNode,l=t.memoizedProps,a=null,d=xt,d!==null)switch(d.tag){case 27:case 5:a=d.memoizedProps}e[Se]=t,e=!!(e.nodeValue===l||a!==null&&a.suppressHydrationWarning===!0||jd(e.nodeValue,l)),e||Wn(t,!0)}else e=Ls(e).createTextNode(a),e[Se]=t,t.stateNode=e}return We(t),null;case 31:if(l=t.memoizedState,e===null||e.memoizedState!==null){if(a=rl(t),l!==null){if(e===null){if(!a)throw Error(s(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(557));e[Se]=t}else Ni(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;We(t),e=!1}else l=Ha(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=l),e=!0;if(!e)return t.flags&256?(Ot(t),t):(Ot(t),null);if((t.flags&128)!==0)throw Error(s(558))}return We(t),null;case 13:if(a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(d=rl(t),a!==null&&a.dehydrated!==null){if(e===null){if(!d)throw Error(s(318));if(d=t.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(s(317));d[Se]=t}else Ni(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;We(t),d=!1}else d=Ha(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=d),d=!0;if(!d)return t.flags&256?(Ot(t),t):(Ot(t),null)}return Ot(t),(t.flags&128)!==0?(t.lanes=l,t):(l=a!==null,e=e!==null&&e.memoizedState!==null,l&&(a=t.child,d=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(d=a.alternate.memoizedState.cachePool.pool),p=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(p=a.memoizedState.cachePool.pool),p!==d&&(a.flags|=2048)),l!==e&&l&&(t.child.flags|=8192),Ss(t,t.updateQueue),We(t),null);case 4:return Ze(),e===null&&Xr(t.stateNode.containerInfo),We(t),null;case 10:return wn(t.type),We(t),null;case 19:if(F(st),a=t.memoizedState,a===null)return We(t),null;if(d=(t.flags&128)!==0,p=a.rendering,p===null)if(d)fo(a,!1);else{if(lt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(p=ss(e),p!==null){for(t.flags|=128,fo(a,!1),e=p.updateQueue,t.updateQueue=e,Ss(t,e),t.subtreeFlags=0,e=l,l=t.child;l!==null;)wc(l,e),l=l.sibling;return $(st,st.current&1|2),Ie&&Rn(t,a.treeForkCount),t.child}e=e.sibling}a.tail!==null&&et()>xs&&(t.flags|=128,d=!0,fo(a,!1),t.lanes=4194304)}else{if(!d)if(e=ss(p),e!==null){if(t.flags|=128,d=!0,e=e.updateQueue,t.updateQueue=e,Ss(t,e),fo(a,!0),a.tail===null&&a.tailMode==="hidden"&&!p.alternate&&!Ie)return We(t),null}else 2*et()-a.renderingStartTime>xs&&l!==536870912&&(t.flags|=128,d=!0,fo(a,!1),t.lanes=4194304);a.isBackwards?(p.sibling=t.child,t.child=p):(e=a.last,e!==null?e.sibling=p:t.child=p,a.last=p)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=et(),e.sibling=null,l=st.current,$(st,d?l&1|2:l&1),Ie&&Rn(t,a.treeForkCount),e):(We(t),null);case 22:case 23:return Ot(t),Za(),a=t.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?(l&536870912)!==0&&(t.flags&128)===0&&(We(t),t.subtreeFlags&6&&(t.flags|=8192)):We(t),l=t.updateQueue,l!==null&&Ss(t,l.retryQueue),l=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),a=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),a!==l&&(t.flags|=2048),e!==null&&F(bi),null;case 24:return l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),wn(ft),We(t),null;case 25:return null;case 30:return null}throw Error(s(156,t.tag))}function ay(e,t){switch(qa(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return wn(ft),Ze(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return rn(t),null;case 31:if(t.memoizedState!==null){if(Ot(t),t.alternate===null)throw Error(s(340));Ni()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Ot(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(s(340));Ni()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return F(st),null;case 4:return Ze(),null;case 10:return wn(t.type),null;case 22:case 23:return Ot(t),Za(),e!==null&&F(bi),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return wn(ft),null;case 25:return null;default:return null}}function ld(e,t){switch(qa(t),t.tag){case 3:wn(ft),Ze();break;case 26:case 27:case 5:rn(t);break;case 4:Ze();break;case 31:t.memoizedState!==null&&Ot(t);break;case 13:Ot(t);break;case 19:F(st);break;case 10:wn(t.type);break;case 22:case 23:Ot(t),Za(),e!==null&&F(bi);break;case 24:wn(ft)}}function po(e,t){try{var l=t.updateQueue,a=l!==null?l.lastEffect:null;if(a!==null){var d=a.next;l=d;do{if((l.tag&e)===e){a=void 0;var p=l.create,S=l.inst;a=p(),S.destroy=a}l=l.next}while(l!==d)}}catch(_){Oe(t,t.return,_)}}function oi(e,t,l){try{var a=t.updateQueue,d=a!==null?a.lastEffect:null;if(d!==null){var p=d.next;a=p;do{if((a.tag&e)===e){var S=a.inst,_=S.destroy;if(_!==void 0){S.destroy=void 0,d=t;var A=l,I=_;try{I()}catch(P){Oe(d,A,P)}}}a=a.next}while(a!==p)}}catch(P){Oe(t,t.return,P)}}function od(e){var t=e.updateQueue;if(t!==null){var l=e.stateNode;try{Kc(t,l)}catch(a){Oe(e,e.return,a)}}}function sd(e,t,l){l.props=Li(e.type,e.memoizedProps),l.state=e.memoizedState;try{l.componentWillUnmount()}catch(a){Oe(e,t,a)}}function mo(e,t){try{var l=e.ref;if(l!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof l=="function"?e.refCleanup=l(a):l.current=a}}catch(d){Oe(e,t,d)}}function Cn(e,t){var l=e.ref,a=e.refCleanup;if(l!==null)if(typeof a=="function")try{a()}catch(d){Oe(e,t,d)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(d){Oe(e,t,d)}else l.current=null}function ad(e){var t=e.type,l=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":l.autoFocus&&a.focus();break e;case"img":l.src?a.src=l.src:l.srcSet&&(a.srcset=l.srcSet)}}catch(d){Oe(e,e.return,d)}}function Rr(e,t,l){try{var a=e.stateNode;by(a,e.type,l,t),a[St]=t}catch(d){Oe(e,e.return,d)}}function rd(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&di(e.type)||e.tag===4}function br(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||rd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&di(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function wr(e,t,l){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(e,t):(t=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,t.appendChild(e),l=l._reactRootContainer,l!=null||t.onclick!==null||(t.onclick=An));else if(a!==4&&(a===27&&di(e.type)&&(l=e.stateNode,t=null),e=e.child,e!==null))for(wr(e,t,l),e=e.sibling;e!==null;)wr(e,t,l),e=e.sibling}function Ts(e,t,l){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?l.insertBefore(e,t):l.appendChild(e);else if(a!==4&&(a===27&&di(e.type)&&(l=e.stateNode),e=e.child,e!==null))for(Ts(e,t,l),e=e.sibling;e!==null;)Ts(e,t,l),e=e.sibling}function ud(e){var t=e.stateNode,l=e.memoizedProps;try{for(var a=e.type,d=t.attributes;d.length;)t.removeAttributeNode(d[0]);Mt(t,a,l),t[Se]=e,t[St]=l}catch(p){Oe(e,e.return,p)}}var qn=!1,mt=!1,Dr=!1,cd=typeof WeakSet=="function"?WeakSet:Set,Ct=null;function ry(e,t){if(e=e.containerInfo,Wr=Vs,e=Cc(e),xa(e)){if("selectionStart"in e)var l={start:e.selectionStart,end:e.selectionEnd};else e:{l=(l=e.ownerDocument)&&l.defaultView||window;var a=l.getSelection&&l.getSelection();if(a&&a.rangeCount!==0){l=a.anchorNode;var d=a.anchorOffset,p=a.focusNode;a=a.focusOffset;try{l.nodeType,p.nodeType}catch{l=null;break e}var S=0,_=-1,A=-1,I=0,P=0,O=e,L=null;t:for(;;){for(var H;O!==l||d!==0&&O.nodeType!==3||(_=S+d),O!==p||a!==0&&O.nodeType!==3||(A=S+a),O.nodeType===3&&(S+=O.nodeValue.length),(H=O.firstChild)!==null;)L=O,O=H;for(;;){if(O===e)break t;if(L===l&&++I===d&&(_=S),L===p&&++P===a&&(A=S),(H=O.nextSibling)!==null)break;O=L,L=O.parentNode}O=H}l=_===-1||A===-1?null:{start:_,end:A}}else l=null}l=l||{start:0,end:0}}else l=null;for(jr={focusedElem:e,selectionRange:l},Vs=!1,Ct=t;Ct!==null;)if(t=Ct,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ct=e;else for(;Ct!==null;){switch(t=Ct,p=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(l=0;l<e.length;l++)d=e[l],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&p!==null){e=void 0,l=t,d=p.memoizedProps,p=p.memoizedState,a=l.stateNode;try{var ae=Li(l.type,d);e=a.getSnapshotBeforeUpdate(ae,p),a.__reactInternalSnapshotBeforeUpdate=e}catch(pe){Oe(l,l.return,pe)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,l=e.nodeType,l===9)nu(e);else if(l===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":nu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=t.sibling,e!==null){e.return=t.return,Ct=e;break}Ct=t.return}}function fd(e,t,l){var a=l.flags;switch(l.tag){case 0:case 11:case 15:Hn(e,l),a&4&&po(5,l);break;case 1:if(Hn(e,l),a&4)if(e=l.stateNode,t===null)try{e.componentDidMount()}catch(S){Oe(l,l.return,S)}else{var d=Li(l.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(d,t,e.__reactInternalSnapshotBeforeUpdate)}catch(S){Oe(l,l.return,S)}}a&64&&od(l),a&512&&mo(l,l.return);break;case 3:if(Hn(e,l),a&64&&(e=l.updateQueue,e!==null)){if(t=null,l.child!==null)switch(l.child.tag){case 27:case 5:t=l.child.stateNode;break;case 1:t=l.child.stateNode}try{Kc(e,t)}catch(S){Oe(l,l.return,S)}}break;case 27:t===null&&a&4&&ud(l);case 26:case 5:Hn(e,l),t===null&&a&4&&ad(l),a&512&&mo(l,l.return);break;case 12:Hn(e,l);break;case 31:Hn(e,l),a&4&&md(e,l);break;case 13:Hn(e,l),a&4&&hd(e,l),a&64&&(e=l.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(l=yy.bind(null,l),Hy(e,l))));break;case 22:if(a=l.memoizedState!==null||qn,!a){t=t!==null&&t.memoizedState!==null||mt,d=qn;var p=mt;qn=a,(mt=t)&&!p?zn(e,l,(l.subtreeFlags&8772)!==0):Hn(e,l),qn=d,mt=p}break;case 30:break;default:Hn(e,l)}}function dd(e){var t=e.alternate;t!==null&&(e.alternate=null,dd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&aa(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var nt=null,Ut=!1;function Gn(e,t,l){for(l=l.child;l!==null;)pd(e,t,l),l=l.sibling}function pd(e,t,l){if(Et&&typeof Et.onCommitFiberUnmount=="function")try{Et.onCommitFiberUnmount(vn,l)}catch{}switch(l.tag){case 26:mt||Cn(l,t),Gn(e,t,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:mt||Cn(l,t);var a=nt,d=Ut;di(l.type)&&(nt=l.stateNode,Ut=!1),Gn(e,t,l),_o(l.stateNode),nt=a,Ut=d;break;case 5:mt||Cn(l,t);case 6:if(a=nt,d=Ut,nt=null,Gn(e,t,l),nt=a,Ut=d,nt!==null)if(Ut)try{(nt.nodeType===9?nt.body:nt.nodeName==="HTML"?nt.ownerDocument.body:nt).removeChild(l.stateNode)}catch(p){Oe(l,t,p)}else try{nt.removeChild(l.stateNode)}catch(p){Oe(l,t,p)}break;case 18:nt!==null&&(Ut?(e=nt,op(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,l.stateNode),bl(e)):op(nt,l.stateNode));break;case 4:a=nt,d=Ut,nt=l.stateNode.containerInfo,Ut=!0,Gn(e,t,l),nt=a,Ut=d;break;case 0:case 11:case 14:case 15:oi(2,l,t),mt||oi(4,l,t),Gn(e,t,l);break;case 1:mt||(Cn(l,t),a=l.stateNode,typeof a.componentWillUnmount=="function"&&sd(l,t,a)),Gn(e,t,l);break;case 21:Gn(e,t,l);break;case 22:mt=(a=mt)||l.memoizedState!==null,Gn(e,t,l),mt=a;break;default:Gn(e,t,l)}}function md(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{bl(e)}catch(l){Oe(t,t.return,l)}}}function hd(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{bl(e)}catch(l){Oe(t,t.return,l)}}function uy(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new cd),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new cd),t;default:throw Error(s(435,e.tag))}}function Cs(e,t){var l=uy(e);t.forEach(function(a){if(!l.has(a)){l.add(a);var d=vy.bind(null,e,a);a.then(d,d)}})}function Lt(e,t){var l=t.deletions;if(l!==null)for(var a=0;a<l.length;a++){var d=l[a],p=e,S=t,_=S;e:for(;_!==null;){switch(_.tag){case 27:if(di(_.type)){nt=_.stateNode,Ut=!1;break e}break;case 5:nt=_.stateNode,Ut=!1;break e;case 3:case 4:nt=_.stateNode.containerInfo,Ut=!0;break e}_=_.return}if(nt===null)throw Error(s(160));pd(p,S,d),nt=null,Ut=!1,p=d.alternate,p!==null&&(p.return=null),d.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)gd(t,e),t=t.sibling}var pn=null;function gd(e,t){var l=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Lt(t,e),qt(e),a&4&&(oi(3,e,e.return),po(3,e),oi(5,e,e.return));break;case 1:Lt(t,e),qt(e),a&512&&(mt||l===null||Cn(l,l.return)),a&64&&qn&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(l=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=l===null?a:l.concat(a))));break;case 26:var d=pn;if(Lt(t,e),qt(e),a&512&&(mt||l===null||Cn(l,l.return)),a&4){var p=l!==null?l.memoizedState:null;if(a=e.memoizedState,l===null)if(a===null)if(e.stateNode===null){e:{a=e.type,l=e.memoizedProps,d=d.ownerDocument||d;t:switch(a){case"title":p=d.getElementsByTagName("title")[0],(!p||p[Pl]||p[Se]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=d.createElement(a),d.head.insertBefore(p,d.querySelector("head > title"))),Mt(p,a,l),p[Se]=e,Tt(p),a=p;break e;case"link":var S=gp("link","href",d).get(a+(l.href||""));if(S){for(var _=0;_<S.length;_++)if(p=S[_],p.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&p.getAttribute("rel")===(l.rel==null?null:l.rel)&&p.getAttribute("title")===(l.title==null?null:l.title)&&p.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){S.splice(_,1);break t}}p=d.createElement(a),Mt(p,a,l),d.head.appendChild(p);break;case"meta":if(S=gp("meta","content",d).get(a+(l.content||""))){for(_=0;_<S.length;_++)if(p=S[_],p.getAttribute("content")===(l.content==null?null:""+l.content)&&p.getAttribute("name")===(l.name==null?null:l.name)&&p.getAttribute("property")===(l.property==null?null:l.property)&&p.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&p.getAttribute("charset")===(l.charSet==null?null:l.charSet)){S.splice(_,1);break t}}p=d.createElement(a),Mt(p,a,l),d.head.appendChild(p);break;default:throw Error(s(468,a))}p[Se]=e,Tt(p),a=p}e.stateNode=a}else yp(d,e.type,e.stateNode);else e.stateNode=hp(d,a,e.memoizedProps);else p!==a?(p===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):p.count--,a===null?yp(d,e.type,e.stateNode):hp(d,a,e.memoizedProps)):a===null&&e.stateNode!==null&&Rr(e,e.memoizedProps,l.memoizedProps)}break;case 27:Lt(t,e),qt(e),a&512&&(mt||l===null||Cn(l,l.return)),l!==null&&a&4&&Rr(e,e.memoizedProps,l.memoizedProps);break;case 5:if(Lt(t,e),qt(e),a&512&&(mt||l===null||Cn(l,l.return)),e.flags&32){d=e.stateNode;try{Wi(d,"")}catch(ae){Oe(e,e.return,ae)}}a&4&&e.stateNode!=null&&(d=e.memoizedProps,Rr(e,d,l!==null?l.memoizedProps:d)),a&1024&&(Dr=!0);break;case 6:if(Lt(t,e),qt(e),a&4){if(e.stateNode===null)throw Error(s(162));a=e.memoizedProps,l=e.stateNode;try{l.nodeValue=a}catch(ae){Oe(e,e.return,ae)}}break;case 3:if(Hs=null,d=pn,pn=qs(t.containerInfo),Lt(t,e),pn=d,qt(e),a&4&&l!==null&&l.memoizedState.isDehydrated)try{bl(t.containerInfo)}catch(ae){Oe(e,e.return,ae)}Dr&&(Dr=!1,yd(e));break;case 4:a=pn,pn=qs(e.stateNode.containerInfo),Lt(t,e),qt(e),pn=a;break;case 12:Lt(t,e),qt(e);break;case 31:Lt(t,e),qt(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Cs(e,a)));break;case 13:Lt(t,e),qt(e),e.child.flags&8192&&e.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(_s=et()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Cs(e,a)));break;case 22:d=e.memoizedState!==null;var A=l!==null&&l.memoizedState!==null,I=qn,P=mt;if(qn=I||d,mt=P||A,Lt(t,e),mt=P,qn=I,qt(e),a&8192)e:for(t=e.stateNode,t._visibility=d?t._visibility&-2:t._visibility|1,d&&(l===null||A||qn||mt||qi(e)),l=null,t=e;;){if(t.tag===5||t.tag===26){if(l===null){A=l=t;try{if(p=A.stateNode,d)S=p.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{_=A.stateNode;var O=A.memoizedProps.style,L=O!=null&&O.hasOwnProperty("display")?O.display:null;_.style.display=L==null||typeof L=="boolean"?"":(""+L).trim()}}catch(ae){Oe(A,A.return,ae)}}}else if(t.tag===6){if(l===null){A=t;try{A.stateNode.nodeValue=d?"":A.memoizedProps}catch(ae){Oe(A,A.return,ae)}}}else if(t.tag===18){if(l===null){A=t;try{var H=A.stateNode;d?sp(H,!0):sp(A.stateNode,!1)}catch(ae){Oe(A,A.return,ae)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;l===t&&(l=null),t=t.return}l===t&&(l=null),t.sibling.return=t.return,t=t.sibling}a&4&&(a=e.updateQueue,a!==null&&(l=a.retryQueue,l!==null&&(a.retryQueue=null,Cs(e,l))));break;case 19:Lt(t,e),qt(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Cs(e,a)));break;case 30:break;case 21:break;default:Lt(t,e),qt(e)}}function qt(e){var t=e.flags;if(t&2){try{for(var l,a=e.return;a!==null;){if(rd(a)){l=a;break}a=a.return}if(l==null)throw Error(s(160));switch(l.tag){case 27:var d=l.stateNode,p=br(e);Ts(e,p,d);break;case 5:var S=l.stateNode;l.flags&32&&(Wi(S,""),l.flags&=-33);var _=br(e);Ts(e,_,S);break;case 3:case 4:var A=l.stateNode.containerInfo,I=br(e);wr(e,I,A);break;default:throw Error(s(161))}}catch(P){Oe(e,e.return,P)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function yd(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;yd(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Hn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)fd(e,t.alternate,t),t=t.sibling}function qi(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:oi(4,t,t.return),qi(t);break;case 1:Cn(t,t.return);var l=t.stateNode;typeof l.componentWillUnmount=="function"&&sd(t,t.return,l),qi(t);break;case 27:_o(t.stateNode);case 26:case 5:Cn(t,t.return),qi(t);break;case 22:t.memoizedState===null&&qi(t);break;case 30:qi(t);break;default:qi(t)}e=e.sibling}}function zn(e,t,l){for(l=l&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var a=t.alternate,d=e,p=t,S=p.flags;switch(p.tag){case 0:case 11:case 15:zn(d,p,l),po(4,p);break;case 1:if(zn(d,p,l),a=p,d=a.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(I){Oe(a,a.return,I)}if(a=p,d=a.updateQueue,d!==null){var _=a.stateNode;try{var A=d.shared.hiddenCallbacks;if(A!==null)for(d.shared.hiddenCallbacks=null,d=0;d<A.length;d++)Qc(A[d],_)}catch(I){Oe(a,a.return,I)}}l&&S&64&&od(p),mo(p,p.return);break;case 27:ud(p);case 26:case 5:zn(d,p,l),l&&a===null&&S&4&&ad(p),mo(p,p.return);break;case 12:zn(d,p,l);break;case 31:zn(d,p,l),l&&S&4&&md(d,p);break;case 13:zn(d,p,l),l&&S&4&&hd(d,p);break;case 22:p.memoizedState===null&&zn(d,p,l),mo(p,p.return);break;case 30:break;default:zn(d,p,l)}t=t.sibling}}function Ir(e,t){var l=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==l&&(e!=null&&e.refCount++,l!=null&&jl(l))}function Ur(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&jl(e))}function mn(e,t,l,a){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)vd(e,t,l,a),t=t.sibling}function vd(e,t,l,a){var d=t.flags;switch(t.tag){case 0:case 11:case 15:mn(e,t,l,a),d&2048&&po(9,t);break;case 1:mn(e,t,l,a);break;case 3:mn(e,t,l,a),d&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&jl(e)));break;case 12:if(d&2048){mn(e,t,l,a),e=t.stateNode;try{var p=t.memoizedProps,S=p.id,_=p.onPostCommit;typeof _=="function"&&_(S,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(A){Oe(t,t.return,A)}}else mn(e,t,l,a);break;case 31:mn(e,t,l,a);break;case 13:mn(e,t,l,a);break;case 23:break;case 22:p=t.stateNode,S=t.alternate,t.memoizedState!==null?p._visibility&2?mn(e,t,l,a):ho(e,t):p._visibility&2?mn(e,t,l,a):(p._visibility|=2,vl(e,t,l,a,(t.subtreeFlags&10256)!==0||!1)),d&2048&&Ir(S,t);break;case 24:mn(e,t,l,a),d&2048&&Ur(t.alternate,t);break;default:mn(e,t,l,a)}}function vl(e,t,l,a,d){for(d=d&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var p=e,S=t,_=l,A=a,I=S.flags;switch(S.tag){case 0:case 11:case 15:vl(p,S,_,A,d),po(8,S);break;case 23:break;case 22:var P=S.stateNode;S.memoizedState!==null?P._visibility&2?vl(p,S,_,A,d):ho(p,S):(P._visibility|=2,vl(p,S,_,A,d)),d&&I&2048&&Ir(S.alternate,S);break;case 24:vl(p,S,_,A,d),d&&I&2048&&Ur(S.alternate,S);break;default:vl(p,S,_,A,d)}t=t.sibling}}function ho(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var l=e,a=t,d=a.flags;switch(a.tag){case 22:ho(l,a),d&2048&&Ir(a.alternate,a);break;case 24:ho(l,a),d&2048&&Ur(a.alternate,a);break;default:ho(l,a)}t=t.sibling}}var go=8192;function Sl(e,t,l){if(e.subtreeFlags&go)for(e=e.child;e!==null;)Sd(e,t,l),e=e.sibling}function Sd(e,t,l){switch(e.tag){case 26:Sl(e,t,l),e.flags&go&&e.memoizedState!==null&&Xy(l,pn,e.memoizedState,e.memoizedProps);break;case 5:Sl(e,t,l);break;case 3:case 4:var a=pn;pn=qs(e.stateNode.containerInfo),Sl(e,t,l),pn=a;break;case 22:e.memoizedState===null&&(a=e.alternate,a!==null&&a.memoizedState!==null?(a=go,go=16777216,Sl(e,t,l),go=a):Sl(e,t,l));break;default:Sl(e,t,l)}}function Td(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function yo(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var l=0;l<t.length;l++){var a=t[l];Ct=a,Ed(a,e)}Td(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Cd(e),e=e.sibling}function Cd(e){switch(e.tag){case 0:case 11:case 15:yo(e),e.flags&2048&&oi(9,e,e.return);break;case 3:yo(e);break;case 12:yo(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Es(e)):yo(e);break;default:yo(e)}}function Es(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var l=0;l<t.length;l++){var a=t[l];Ct=a,Ed(a,e)}Td(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:oi(8,t,t.return),Es(t);break;case 22:l=t.stateNode,l._visibility&2&&(l._visibility&=-3,Es(t));break;default:Es(t)}e=e.sibling}}function Ed(e,t){for(;Ct!==null;){var l=Ct;switch(l.tag){case 0:case 11:case 15:oi(8,l,t);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var a=l.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:jl(l.memoizedState.cache)}if(a=l.child,a!==null)a.return=l,Ct=a;else e:for(l=e;Ct!==null;){a=Ct;var d=a.sibling,p=a.return;if(dd(a),a===l){Ct=null;break e}if(d!==null){d.return=p,Ct=d;break e}Ct=p}}}var cy={getCacheForType:function(e){var t=At(ft),l=t.data.get(e);return l===void 0&&(l=e(),t.data.set(e,l)),l},cacheSignal:function(){return At(ft).controller.signal}},fy=typeof WeakMap=="function"?WeakMap:Map,Pe=0,Ke=null,Me=null,be=0,Fe=0,Yt=null,si=!1,Tl=!1,Lr=!1,kn=0,lt=0,ai=0,Gi=0,qr=0,Jt=0,Cl=0,vo=null,Gt=null,Gr=!1,_s=0,_d=0,xs=1/0,As=null,ri=null,gt=0,ui=null,El=null,Pn=0,Hr=0,zr=null,xd=null,So=0,kr=null;function Qt(){return(Pe&2)!==0&&be!==0?be&-be:G.T!==null?Yr():ct()}function Ad(){if(Jt===0)if((be&536870912)===0||Ie){var e=_n;_n<<=1,(_n&3932160)===0&&(_n=262144),Jt=e}else Jt=536870912;return e=Ft.current,e!==null&&(e.flags|=32),Jt}function Ht(e,t,l){(e===Ke&&(Fe===2||Fe===9)||e.cancelPendingCommit!==null)&&(_l(e,0),ci(e,be,Jt,!1)),K(e,l),((Pe&2)===0||e!==Ke)&&(e===Ke&&((Pe&2)===0&&(Gi|=l),lt===4&&ci(e,be,Jt,!1)),En(e))}function Nd(e,t,l){if((Pe&6)!==0)throw Error(s(327));var a=!l&&(t&127)===0&&(t&e.expiredLanes)===0||Z(e,t),d=a?my(e,t):Vr(e,t,!0),p=a;do{if(d===0){Tl&&!a&&ci(e,t,0,!1);break}else{if(l=e.current.alternate,p&&!dy(l)){d=Vr(e,t,!1),p=!1;continue}if(d===2){if(p=t,e.errorRecoveryDisabledLanes&p)var S=0;else S=e.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){t=S;e:{var _=e;d=vo;var A=_.current.memoizedState.isDehydrated;if(A&&(_l(_,S).flags|=256),S=Vr(_,S,!1),S!==2){if(Lr&&!A){_.errorRecoveryDisabledLanes|=p,Gi|=p,d=4;break e}p=Gt,Gt=d,p!==null&&(Gt===null?Gt=p:Gt.push.apply(Gt,p))}d=S}if(p=!1,d!==2)continue}}if(d===1){_l(e,0),ci(e,t,0,!0);break}e:{switch(a=e,p=d,p){case 0:case 1:throw Error(s(345));case 4:if((t&4194048)!==t)break;case 6:ci(a,t,Jt,!si);break e;case 2:Gt=null;break;case 3:case 5:break;default:throw Error(s(329))}if((t&62914560)===t&&(d=_s+300-et(),10<d)){if(ci(a,t,Jt,!si),k(a,0,!0)!==0)break e;Pn=t,a.timeoutHandle=ip(Md.bind(null,a,l,Gt,As,Gr,t,Jt,Gi,Cl,si,p,"Throttled",-0,0),d);break e}Md(a,l,Gt,As,Gr,t,Jt,Gi,Cl,si,p,null,-0,0)}}break}while(!0);En(e)}function Md(e,t,l,a,d,p,S,_,A,I,P,O,L,H){if(e.timeoutHandle=-1,O=t.subtreeFlags,O&8192||(O&16785408)===16785408){O={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:An},Sd(t,p,O);var ae=(p&62914560)===p?_s-et():(p&4194048)===p?_d-et():0;if(ae=Zy(O,ae),ae!==null){Pn=p,e.cancelPendingCommit=ae(qd.bind(null,e,t,p,l,a,d,S,_,A,P,O,null,L,H)),ci(e,p,S,!I);return}}qd(e,t,p,l,a,d,S,_,A)}function dy(e){for(var t=e;;){var l=t.tag;if((l===0||l===11||l===15)&&t.flags&16384&&(l=t.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var a=0;a<l.length;a++){var d=l[a],p=d.getSnapshot;d=d.value;try{if(!Vt(p(),d))return!1}catch{return!1}}if(l=t.child,t.subtreeFlags&16384&&l!==null)l.return=t,t=l;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ci(e,t,l,a){t&=~qr,t&=~Gi,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var d=t;0<d;){var p=31-vt(d),S=1<<p;a[p]=-1,d&=~S}l!==0&&Ce(e,l,t)}function Ns(){return(Pe&6)===0?(To(0),!1):!0}function Pr(){if(Me!==null){if(Fe===0)var e=Me.return;else e=Me,bn=Mi=null,nr(e),pl=null,to=0,e=Me;for(;e!==null;)ld(e.alternate,e),e=e.return;Me=null}}function _l(e,t){var l=e.timeoutHandle;l!==-1&&(e.timeoutHandle=-1,Iy(l)),l=e.cancelPendingCommit,l!==null&&(e.cancelPendingCommit=null,l()),Pn=0,Pr(),Ke=e,Me=l=Mn(e.current,null),be=t,Fe=0,Yt=null,si=!1,Tl=Z(e,t),Lr=!1,Cl=Jt=qr=Gi=ai=lt=0,Gt=vo=null,Gr=!1,(t&8)!==0&&(t|=t&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=t;0<a;){var d=31-vt(a),p=1<<d;t|=e[d],a&=~p}return kn=t,Qo(),l}function Rd(e,t){Ee=null,G.H=uo,t===dl||t===ts?(t=Fc(),Fe=3):t===Oa?(t=Fc(),Fe=4):Fe=t===vr?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Yt=t,Me===null&&(lt=1,hs(e,jt(t,e.current)))}function bd(){var e=Ft.current;return e===null?!0:(be&4194048)===be?ln===null:(be&62914560)===be||(be&536870912)!==0?e===ln:!1}function wd(){var e=G.H;return G.H=uo,e===null?uo:e}function Dd(){var e=G.A;return G.A=cy,e}function Ms(){lt=4,si||(be&4194048)!==be&&Ft.current!==null||(Tl=!0),(ai&134217727)===0&&(Gi&134217727)===0||Ke===null||ci(Ke,be,Jt,!1)}function Vr(e,t,l){var a=Pe;Pe|=2;var d=wd(),p=Dd();(Ke!==e||be!==t)&&(As=null,_l(e,t)),t=!1;var S=lt;e:do try{if(Fe!==0&&Me!==null){var _=Me,A=Yt;switch(Fe){case 8:Pr(),S=6;break e;case 3:case 2:case 9:case 6:Ft.current===null&&(t=!0);var I=Fe;if(Fe=0,Yt=null,xl(e,_,A,I),l&&Tl){S=0;break e}break;default:I=Fe,Fe=0,Yt=null,xl(e,_,A,I)}}py(),S=lt;break}catch(P){Rd(e,P)}while(!0);return t&&e.shellSuspendCounter++,bn=Mi=null,Pe=a,G.H=d,G.A=p,Me===null&&(Ke=null,be=0,Qo()),S}function py(){for(;Me!==null;)Id(Me)}function my(e,t){var l=Pe;Pe|=2;var a=wd(),d=Dd();Ke!==e||be!==t?(As=null,xs=et()+500,_l(e,t)):Tl=Z(e,t);e:do try{if(Fe!==0&&Me!==null){t=Me;var p=Yt;t:switch(Fe){case 1:Fe=0,Yt=null,xl(e,t,p,1);break;case 2:case 9:if(Vc(p)){Fe=0,Yt=null,Ud(t);break}t=function(){Fe!==2&&Fe!==9||Ke!==e||(Fe=7),En(e)},p.then(t,t);break e;case 3:Fe=7;break e;case 4:Fe=5;break e;case 7:Vc(p)?(Fe=0,Yt=null,Ud(t)):(Fe=0,Yt=null,xl(e,t,p,7));break;case 5:var S=null;switch(Me.tag){case 26:S=Me.memoizedState;case 5:case 27:var _=Me;if(S?vp(S):_.stateNode.complete){Fe=0,Yt=null;var A=_.sibling;if(A!==null)Me=A;else{var I=_.return;I!==null?(Me=I,Rs(I)):Me=null}break t}}Fe=0,Yt=null,xl(e,t,p,5);break;case 6:Fe=0,Yt=null,xl(e,t,p,6);break;case 8:Pr(),lt=6;break e;default:throw Error(s(462))}}hy();break}catch(P){Rd(e,P)}while(!0);return bn=Mi=null,G.H=a,G.A=d,Pe=l,Me!==null?0:(Ke=null,be=0,Qo(),lt)}function hy(){for(;Me!==null&&!yn();)Id(Me)}function Id(e){var t=nd(e.alternate,e,kn);e.memoizedProps=e.pendingProps,t===null?Rs(e):Me=t}function Ud(e){var t=e,l=t.alternate;switch(t.tag){case 15:case 0:t=Zf(l,t,t.pendingProps,t.type,void 0,be);break;case 11:t=Zf(l,t,t.pendingProps,t.type.render,t.ref,be);break;case 5:nr(t);default:ld(l,t),t=Me=wc(t,kn),t=nd(l,t,kn)}e.memoizedProps=e.pendingProps,t===null?Rs(e):Me=t}function xl(e,t,l,a){bn=Mi=null,nr(t),pl=null,to=0;var d=t.return;try{if(iy(e,d,t,l,be)){lt=1,hs(e,jt(l,e.current)),Me=null;return}}catch(p){if(d!==null)throw Me=d,p;lt=1,hs(e,jt(l,e.current)),Me=null;return}t.flags&32768?(Ie||a===1?e=!0:Tl||(be&536870912)!==0?e=!1:(si=e=!0,(a===2||a===9||a===3||a===6)&&(a=Ft.current,a!==null&&a.tag===13&&(a.flags|=16384))),Ld(t,e)):Rs(t)}function Rs(e){var t=e;do{if((t.flags&32768)!==0){Ld(t,si);return}e=t.return;var l=sy(t.alternate,t,kn);if(l!==null){Me=l;return}if(t=t.sibling,t!==null){Me=t;return}Me=t=e}while(t!==null);lt===0&&(lt=5)}function Ld(e,t){do{var l=ay(e.alternate,e);if(l!==null){l.flags&=32767,Me=l;return}if(l=e.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!t&&(e=e.sibling,e!==null)){Me=e;return}Me=e=l}while(e!==null);lt=6,Me=null}function qd(e,t,l,a,d,p,S,_,A){e.cancelPendingCommit=null;do bs();while(gt!==0);if((Pe&6)!==0)throw Error(s(327));if(t!==null){if(t===e.current)throw Error(s(177));if(p=t.lanes|t.childLanes,p|=ba,se(e,l,p,S,_,A),e===Ke&&(Me=Ke=null,be=0),El=t,ui=e,Pn=l,Hr=p,zr=d,xd=a,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Sy(un,function(){return Pd(),null})):(e.callbackNode=null,e.callbackPriority=0),a=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||a){a=G.T,G.T=null,d=J.p,J.p=2,S=Pe,Pe|=4;try{ry(e,t,l)}finally{Pe=S,J.p=d,G.T=a}}gt=1,Gd(),Hd(),zd()}}function Gd(){if(gt===1){gt=0;var e=ui,t=El,l=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||l){l=G.T,G.T=null;var a=J.p;J.p=2;var d=Pe;Pe|=4;try{gd(t,e);var p=jr,S=Cc(e.containerInfo),_=p.focusedElem,A=p.selectionRange;if(S!==_&&_&&_.ownerDocument&&Tc(_.ownerDocument.documentElement,_)){if(A!==null&&xa(_)){var I=A.start,P=A.end;if(P===void 0&&(P=I),"selectionStart"in _)_.selectionStart=I,_.selectionEnd=Math.min(P,_.value.length);else{var O=_.ownerDocument||document,L=O&&O.defaultView||window;if(L.getSelection){var H=L.getSelection(),ae=_.textContent.length,pe=Math.min(A.start,ae),Qe=A.end===void 0?pe:Math.min(A.end,ae);!H.extend&&pe>Qe&&(S=Qe,Qe=pe,pe=S);var R=Sc(_,pe),N=Sc(_,Qe);if(R&&N&&(H.rangeCount!==1||H.anchorNode!==R.node||H.anchorOffset!==R.offset||H.focusNode!==N.node||H.focusOffset!==N.offset)){var D=O.createRange();D.setStart(R.node,R.offset),H.removeAllRanges(),pe>Qe?(H.addRange(D),H.extend(N.node,N.offset)):(D.setEnd(N.node,N.offset),H.addRange(D))}}}}for(O=[],H=_;H=H.parentNode;)H.nodeType===1&&O.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<O.length;_++){var B=O[_];B.element.scrollLeft=B.left,B.element.scrollTop=B.top}}Vs=!!Wr,jr=Wr=null}finally{Pe=d,J.p=a,G.T=l}}e.current=t,gt=2}}function Hd(){if(gt===2){gt=0;var e=ui,t=El,l=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||l){l=G.T,G.T=null;var a=J.p;J.p=2;var d=Pe;Pe|=4;try{fd(e,t.alternate,t)}finally{Pe=d,J.p=a,G.T=l}}gt=3}}function zd(){if(gt===4||gt===3){gt=0,Dt();var e=ui,t=El,l=Pn,a=xd;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?gt=5:(gt=0,El=ui=null,kd(e,e.pendingLanes));var d=e.pendingLanes;if(d===0&&(ri=null),Ae(l),t=t.stateNode,Et&&typeof Et.onCommitFiberRoot=="function")try{Et.onCommitFiberRoot(vn,t,void 0,(t.current.flags&128)===128)}catch{}if(a!==null){t=G.T,d=J.p,J.p=2,G.T=null;try{for(var p=e.onRecoverableError,S=0;S<a.length;S++){var _=a[S];p(_.value,{componentStack:_.stack})}}finally{G.T=t,J.p=d}}(Pn&3)!==0&&bs(),En(e),d=e.pendingLanes,(l&261930)!==0&&(d&42)!==0?e===kr?So++:(So=0,kr=e):So=0,To(0)}}function kd(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,jl(t)))}function bs(){return Gd(),Hd(),zd(),Pd()}function Pd(){if(gt!==5)return!1;var e=ui,t=Hr;Hr=0;var l=Ae(Pn),a=G.T,d=J.p;try{J.p=32>l?32:l,G.T=null,l=zr,zr=null;var p=ui,S=Pn;if(gt=0,El=ui=null,Pn=0,(Pe&6)!==0)throw Error(s(331));var _=Pe;if(Pe|=4,Cd(p.current),vd(p,p.current,S,l),Pe=_,To(0,!1),Et&&typeof Et.onPostCommitFiberRoot=="function")try{Et.onPostCommitFiberRoot(vn,p)}catch{}return!0}finally{J.p=d,G.T=a,kd(e,t)}}function Vd(e,t,l){t=jt(l,t),t=yr(e.stateNode,t,2),e=ni(e,t,2),e!==null&&(K(e,2),En(e))}function Oe(e,t,l){if(e.tag===3)Vd(e,e,l);else for(;t!==null;){if(t.tag===3){Vd(t,e,l);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(ri===null||!ri.has(a))){e=jt(l,e),l=Bf(2),a=ni(t,l,2),a!==null&&(Ff(l,a,t,e),K(a,2),En(a));break}}t=t.return}}function Br(e,t,l){var a=e.pingCache;if(a===null){a=e.pingCache=new fy;var d=new Set;a.set(t,d)}else d=a.get(t),d===void 0&&(d=new Set,a.set(t,d));d.has(l)||(Lr=!0,d.add(l),e=gy.bind(null,e,t,l),t.then(e,e))}function gy(e,t,l){var a=e.pingCache;a!==null&&a.delete(t),e.pingedLanes|=e.suspendedLanes&l,e.warmLanes&=~l,Ke===e&&(be&l)===l&&(lt===4||lt===3&&(be&62914560)===be&&300>et()-_s?(Pe&2)===0&&_l(e,0):qr|=l,Cl===be&&(Cl=0)),En(e)}function Bd(e,t){t===0&&(t=xe()),e=xi(e,t),e!==null&&(K(e,t),En(e))}function yy(e){var t=e.memoizedState,l=0;t!==null&&(l=t.retryLane),Bd(e,l)}function vy(e,t){var l=0;switch(e.tag){case 31:case 13:var a=e.stateNode,d=e.memoizedState;d!==null&&(l=d.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(s(314))}a!==null&&a.delete(t),Bd(e,l)}function Sy(e,t){return ut(e,t)}var ws=null,Al=null,Fr=!1,Ds=!1,Or=!1,fi=0;function En(e){e!==Al&&e.next===null&&(Al===null?ws=Al=e:Al=Al.next=e),Ds=!0,Fr||(Fr=!0,Cy())}function To(e,t){if(!Or&&Ds){Or=!0;do for(var l=!1,a=ws;a!==null;){if(e!==0){var d=a.pendingLanes;if(d===0)var p=0;else{var S=a.suspendedLanes,_=a.pingedLanes;p=(1<<31-vt(42|e)+1)-1,p&=d&~(S&~_),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(l=!0,Jd(a,p))}else p=be,p=k(a,a===Ke?p:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),(p&3)===0||Z(a,p)||(l=!0,Jd(a,p));a=a.next}while(l);Or=!1}}function Ty(){Fd()}function Fd(){Ds=Fr=!1;var e=0;fi!==0&&Dy()&&(e=fi);for(var t=et(),l=null,a=ws;a!==null;){var d=a.next,p=Od(a,t);p===0?(a.next=null,l===null?ws=d:l.next=d,d===null&&(Al=l)):(l=a,(e!==0||(p&3)!==0)&&(Ds=!0)),a=d}gt!==0&&gt!==5||To(e),fi!==0&&(fi=0)}function Od(e,t){for(var l=e.suspendedLanes,a=e.pingedLanes,d=e.expirationTimes,p=e.pendingLanes&-62914561;0<p;){var S=31-vt(p),_=1<<S,A=d[S];A===-1?((_&l)===0||(_&a)!==0)&&(d[S]=me(_,t)):A<=t&&(e.expiredLanes|=_),p&=~_}if(t=Ke,l=be,l=k(e,e===t?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,l===0||e===t&&(Fe===2||Fe===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&kt(a),e.callbackNode=null,e.callbackPriority=0;if((l&3)===0||Z(e,l)){if(t=l&-l,t===e.callbackPriority)return t;switch(a!==null&&kt(a),Ae(l)){case 2:case 8:l=Fi;break;case 32:l=un;break;case 268435456:l=Yn;break;default:l=un}return a=Yd.bind(null,e),l=ut(l,a),e.callbackPriority=t,e.callbackNode=l,t}return a!==null&&a!==null&&kt(a),e.callbackPriority=2,e.callbackNode=null,2}function Yd(e,t){if(gt!==0&&gt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var l=e.callbackNode;if(bs()&&e.callbackNode!==l)return null;var a=be;return a=k(e,e===Ke?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:(Nd(e,a,t),Od(e,et()),e.callbackNode!=null&&e.callbackNode===l?Yd.bind(null,e):null)}function Jd(e,t){if(bs())return null;Nd(e,t,!0)}function Cy(){Uy(function(){(Pe&6)!==0?ut(Si,Ty):Fd()})}function Yr(){if(fi===0){var e=cl;e===0&&(e=cn,cn<<=1,(cn&261888)===0&&(cn=256)),fi=e}return fi}function Qd(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ko(""+e)}function Kd(e,t){var l=t.ownerDocument.createElement("input");return l.name=t.name,l.value=t.value,e.id&&l.setAttribute("form",e.id),t.parentNode.insertBefore(l,t),e=new FormData(e),l.parentNode.removeChild(l),e}function Ey(e,t,l,a,d){if(t==="submit"&&l&&l.stateNode===d){var p=Qd((d[St]||null).action),S=a.submitter;S&&(t=(t=S[St]||null)?Qd(t.formAction):S.getAttribute("formAction"),t!==null&&(p=t,S=null));var _=new Fo("action","action",null,a,d);e.push({event:_,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(fi!==0){var A=S?Kd(d,S):new FormData(d);fr(l,{pending:!0,data:A,method:d.method,action:p},null,A)}}else typeof p=="function"&&(_.preventDefault(),A=S?Kd(d,S):new FormData(d),fr(l,{pending:!0,data:A,method:d.method,action:p},p,A))},currentTarget:d}]})}}for(var Jr=0;Jr<Ra.length;Jr++){var Qr=Ra[Jr],_y=Qr.toLowerCase(),xy=Qr[0].toUpperCase()+Qr.slice(1);dn(_y,"on"+xy)}dn(xc,"onAnimationEnd"),dn(Ac,"onAnimationIteration"),dn(Nc,"onAnimationStart"),dn("dblclick","onDoubleClick"),dn("focusin","onFocus"),dn("focusout","onBlur"),dn(Pg,"onTransitionRun"),dn(Vg,"onTransitionStart"),dn(Bg,"onTransitionCancel"),dn(Mc,"onTransitionEnd"),Zi("onMouseEnter",["mouseout","mouseover"]),Zi("onMouseLeave",["mouseout","mouseover"]),Zi("onPointerEnter",["pointerout","pointerover"]),Zi("onPointerLeave",["pointerout","pointerover"]),Ti("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ti("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ti("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ti("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ti("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ti("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Co="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ay=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Co));function Xd(e,t){t=(t&4)!==0;for(var l=0;l<e.length;l++){var a=e[l],d=a.event;a=a.listeners;e:{var p=void 0;if(t)for(var S=a.length-1;0<=S;S--){var _=a[S],A=_.instance,I=_.currentTarget;if(_=_.listener,A!==p&&d.isPropagationStopped())break e;p=_,d.currentTarget=I;try{p(d)}catch(P){Jo(P)}d.currentTarget=null,p=A}else for(S=0;S<a.length;S++){if(_=a[S],A=_.instance,I=_.currentTarget,_=_.listener,A!==p&&d.isPropagationStopped())break e;p=_,d.currentTarget=I;try{p(d)}catch(P){Jo(P)}d.currentTarget=null,p=A}}}}function Re(e,t){var l=t[sa];l===void 0&&(l=t[sa]=new Set);var a=e+"__bubble";l.has(a)||(Zd(t,e,2,!1),l.add(a))}function Kr(e,t,l){var a=0;t&&(a|=4),Zd(l,e,a,t)}var Is="_reactListening"+Math.random().toString(36).slice(2);function Xr(e){if(!e[Is]){e[Is]=!0,Bu.forEach(function(l){l!=="selectionchange"&&(Ay.has(l)||Kr(l,!1,e),Kr(l,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Is]||(t[Is]=!0,Kr("selectionchange",!1,t))}}function Zd(e,t,l,a){switch(Ap(t)){case 2:var d=jy;break;case 8:d=e0;break;default:d=cu}l=d.bind(null,t,l,e),d=void 0,!ha||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(d=!0),a?d!==void 0?e.addEventListener(t,l,{capture:!0,passive:d}):e.addEventListener(t,l,!0):d!==void 0?e.addEventListener(t,l,{passive:d}):e.addEventListener(t,l,!1)}function Zr(e,t,l,a,d){var p=a;if((t&1)===0&&(t&2)===0&&a!==null)e:for(;;){if(a===null)return;var S=a.tag;if(S===3||S===4){var _=a.stateNode.containerInfo;if(_===d)break;if(S===4)for(S=a.return;S!==null;){var A=S.tag;if((A===3||A===4)&&S.stateNode.containerInfo===d)return;S=S.return}for(;_!==null;){if(S=Qi(_),S===null)return;if(A=S.tag,A===5||A===6||A===26||A===27){a=p=S;continue e}_=_.parentNode}}a=a.return}ec(function(){var I=p,P=pa(l),O=[];e:{var L=Rc.get(e);if(L!==void 0){var H=Fo,ae=e;switch(e){case"keypress":if(Vo(l)===0)break e;case"keydown":case"keyup":H=vg;break;case"focusin":ae="focus",H=Sa;break;case"focusout":ae="blur",H=Sa;break;case"beforeblur":case"afterblur":H=Sa;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=ic;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=sg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=Cg;break;case xc:case Ac:case Nc:H=ug;break;case Mc:H=_g;break;case"scroll":case"scrollend":H=lg;break;case"wheel":H=Ag;break;case"copy":case"cut":case"paste":H=fg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=oc;break;case"toggle":case"beforetoggle":H=Mg}var pe=(t&4)!==0,Qe=!pe&&(e==="scroll"||e==="scrollend"),R=pe?L!==null?L+"Capture":null:L;pe=[];for(var N=I,D;N!==null;){var B=N;if(D=B.stateNode,B=B.tag,B!==5&&B!==26&&B!==27||D===null||R===null||(B=Bl(N,R),B!=null&&pe.push(Eo(N,B,D))),Qe)break;N=N.return}0<pe.length&&(L=new H(L,ae,null,l,P),O.push({event:L,listeners:pe}))}}if((t&7)===0){e:{if(L=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",L&&l!==da&&(ae=l.relatedTarget||l.fromElement)&&(Qi(ae)||ae[Kn]))break e;if((H||L)&&(L=P.window===P?P:(L=P.ownerDocument)?L.defaultView||L.parentWindow:window,H?(ae=l.relatedTarget||l.toElement,H=I,ae=ae?Qi(ae):null,ae!==null&&(Qe=f(ae),pe=ae.tag,ae!==Qe||pe!==5&&pe!==27&&pe!==6)&&(ae=null)):(H=null,ae=I),H!==ae)){if(pe=ic,B="onMouseLeave",R="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(pe=oc,B="onPointerLeave",R="onPointerEnter",N="pointer"),Qe=H==null?L:Vl(H),D=ae==null?L:Vl(ae),L=new pe(B,N+"leave",H,l,P),L.target=Qe,L.relatedTarget=D,B=null,Qi(P)===I&&(pe=new pe(R,N+"enter",ae,l,P),pe.target=D,pe.relatedTarget=Qe,B=pe),Qe=B,H&&ae)t:{for(pe=Ny,R=H,N=ae,D=0,B=R;B;B=pe(B))D++;B=0;for(var fe=N;fe;fe=pe(fe))B++;for(;0<D-B;)R=pe(R),D--;for(;0<B-D;)N=pe(N),B--;for(;D--;){if(R===N||N!==null&&R===N.alternate){pe=R;break t}R=pe(R),N=pe(N)}pe=null}else pe=null;H!==null&&$d(O,L,H,pe,!1),ae!==null&&Qe!==null&&$d(O,Qe,ae,pe,!0)}}e:{if(L=I?Vl(I):window,H=L.nodeName&&L.nodeName.toLowerCase(),H==="select"||H==="input"&&L.type==="file")var He=pc;else if(fc(L))if(mc)He=Hg;else{He=qg;var re=Lg}else H=L.nodeName,!H||H.toLowerCase()!=="input"||L.type!=="checkbox"&&L.type!=="radio"?I&&fa(I.elementType)&&(He=pc):He=Gg;if(He&&(He=He(e,I))){dc(O,He,l,P);break e}re&&re(e,L,I),e==="focusout"&&I&&L.type==="number"&&I.memoizedProps.value!=null&&ca(L,"number",L.value)}switch(re=I?Vl(I):window,e){case"focusin":(fc(re)||re.contentEditable==="true")&&(nl=re,Aa=I,Zl=null);break;case"focusout":Zl=Aa=nl=null;break;case"mousedown":Na=!0;break;case"contextmenu":case"mouseup":case"dragend":Na=!1,Ec(O,l,P);break;case"selectionchange":if(kg)break;case"keydown":case"keyup":Ec(O,l,P)}var _e;if(Ca)e:{switch(e){case"compositionstart":var we="onCompositionStart";break e;case"compositionend":we="onCompositionEnd";break e;case"compositionupdate":we="onCompositionUpdate";break e}we=void 0}else tl?uc(e,l)&&(we="onCompositionEnd"):e==="keydown"&&l.keyCode===229&&(we="onCompositionStart");we&&(sc&&l.locale!=="ko"&&(tl||we!=="onCompositionStart"?we==="onCompositionEnd"&&tl&&(_e=tc()):(Xn=P,ga="value"in Xn?Xn.value:Xn.textContent,tl=!0)),re=Us(I,we),0<re.length&&(we=new lc(we,e,null,l,P),O.push({event:we,listeners:re}),_e?we.data=_e:(_e=cc(l),_e!==null&&(we.data=_e)))),(_e=bg?wg(e,l):Dg(e,l))&&(we=Us(I,"onBeforeInput"),0<we.length&&(re=new lc("onBeforeInput","beforeinput",null,l,P),O.push({event:re,listeners:we}),re.data=_e)),Ey(O,e,I,l,P)}Xd(O,t)})}function Eo(e,t,l){return{instance:e,listener:t,currentTarget:l}}function Us(e,t){for(var l=t+"Capture",a=[];e!==null;){var d=e,p=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||p===null||(d=Bl(e,l),d!=null&&a.unshift(Eo(e,d,p)),d=Bl(e,t),d!=null&&a.push(Eo(e,d,p))),e.tag===3)return a;e=e.return}return[]}function Ny(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function $d(e,t,l,a,d){for(var p=t._reactName,S=[];l!==null&&l!==a;){var _=l,A=_.alternate,I=_.stateNode;if(_=_.tag,A!==null&&A===a)break;_!==5&&_!==26&&_!==27||I===null||(A=I,d?(I=Bl(l,p),I!=null&&S.unshift(Eo(l,I,A))):d||(I=Bl(l,p),I!=null&&S.push(Eo(l,I,A)))),l=l.return}S.length!==0&&e.push({event:t,listeners:S})}var My=/\r\n?/g,Ry=/\u0000|\uFFFD/g;function Wd(e){return(typeof e=="string"?e:""+e).replace(My,`
`).replace(Ry,"")}function jd(e,t){return t=Wd(t),Wd(e)===t}function Je(e,t,l,a,d,p){switch(l){case"children":typeof a=="string"?t==="body"||t==="textarea"&&a===""||Wi(e,a):(typeof a=="number"||typeof a=="bigint")&&t!=="body"&&Wi(e,""+a);break;case"className":Ho(e,"class",a);break;case"tabIndex":Ho(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":Ho(e,l,a);break;case"style":Wu(e,a,p);break;case"data":if(t!=="object"){Ho(e,"data",a);break}case"src":case"href":if(a===""&&(t!=="a"||l!=="href")){e.removeAttribute(l);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(l);break}a=ko(""+a),e.setAttribute(l,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(l==="formAction"?(t!=="input"&&Je(e,t,"name",d.name,d,null),Je(e,t,"formEncType",d.formEncType,d,null),Je(e,t,"formMethod",d.formMethod,d,null),Je(e,t,"formTarget",d.formTarget,d,null)):(Je(e,t,"encType",d.encType,d,null),Je(e,t,"method",d.method,d,null),Je(e,t,"target",d.target,d,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(l);break}a=ko(""+a),e.setAttribute(l,a);break;case"onClick":a!=null&&(e.onclick=An);break;case"onScroll":a!=null&&Re("scroll",e);break;case"onScrollEnd":a!=null&&Re("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(s(61));if(l=a.__html,l!=null){if(d.children!=null)throw Error(s(60));e.innerHTML=l}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}l=ko(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(l,""+a):e.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(l,""):e.removeAttribute(l);break;case"capture":case"download":a===!0?e.setAttribute(l,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(l,a):e.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(l,a):e.removeAttribute(l);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(l):e.setAttribute(l,a);break;case"popover":Re("beforetoggle",e),Re("toggle",e),Go(e,"popover",a);break;case"xlinkActuate":xn(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":xn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":xn(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":xn(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":xn(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":xn(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":xn(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":xn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":xn(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":Go(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=ng.get(l)||l,Go(e,l,a))}}function $r(e,t,l,a,d,p){switch(l){case"style":Wu(e,a,p);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(s(61));if(l=a.__html,l!=null){if(d.children!=null)throw Error(s(60));e.innerHTML=l}}break;case"children":typeof a=="string"?Wi(e,a):(typeof a=="number"||typeof a=="bigint")&&Wi(e,""+a);break;case"onScroll":a!=null&&Re("scroll",e);break;case"onScrollEnd":a!=null&&Re("scrollend",e);break;case"onClick":a!=null&&(e.onclick=An);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Fu.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(d=l.endsWith("Capture"),t=l.slice(2,d?l.length-7:void 0),p=e[St]||null,p=p!=null?p[l]:null,typeof p=="function"&&e.removeEventListener(t,p,d),typeof a=="function")){typeof p!="function"&&p!==null&&(l in e?e[l]=null:e.hasAttribute(l)&&e.removeAttribute(l)),e.addEventListener(t,a,d);break e}l in e?e[l]=a:a===!0?e.setAttribute(l,""):Go(e,l,a)}}}function Mt(e,t,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Re("error",e),Re("load",e);var a=!1,d=!1,p;for(p in l)if(l.hasOwnProperty(p)){var S=l[p];if(S!=null)switch(p){case"src":a=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:Je(e,t,p,S,l,null)}}d&&Je(e,t,"srcSet",l.srcSet,l,null),a&&Je(e,t,"src",l.src,l,null);return;case"input":Re("invalid",e);var _=p=S=d=null,A=null,I=null;for(a in l)if(l.hasOwnProperty(a)){var P=l[a];if(P!=null)switch(a){case"name":d=P;break;case"type":S=P;break;case"checked":A=P;break;case"defaultChecked":I=P;break;case"value":p=P;break;case"defaultValue":_=P;break;case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(s(137,t));break;default:Je(e,t,a,P,l,null)}}Ku(e,p,_,A,I,S,d,!1);return;case"select":Re("invalid",e),a=S=p=null;for(d in l)if(l.hasOwnProperty(d)&&(_=l[d],_!=null))switch(d){case"value":p=_;break;case"defaultValue":S=_;break;case"multiple":a=_;default:Je(e,t,d,_,l,null)}t=p,l=S,e.multiple=!!a,t!=null?$i(e,!!a,t,!1):l!=null&&$i(e,!!a,l,!0);return;case"textarea":Re("invalid",e),p=d=a=null;for(S in l)if(l.hasOwnProperty(S)&&(_=l[S],_!=null))switch(S){case"value":a=_;break;case"defaultValue":d=_;break;case"children":p=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(s(91));break;default:Je(e,t,S,_,l,null)}Zu(e,a,d,p);return;case"option":for(A in l)if(l.hasOwnProperty(A)&&(a=l[A],a!=null))switch(A){case"selected":e.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:Je(e,t,A,a,l,null)}return;case"dialog":Re("beforetoggle",e),Re("toggle",e),Re("cancel",e),Re("close",e);break;case"iframe":case"object":Re("load",e);break;case"video":case"audio":for(a=0;a<Co.length;a++)Re(Co[a],e);break;case"image":Re("error",e),Re("load",e);break;case"details":Re("toggle",e);break;case"embed":case"source":case"link":Re("error",e),Re("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(I in l)if(l.hasOwnProperty(I)&&(a=l[I],a!=null))switch(I){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:Je(e,t,I,a,l,null)}return;default:if(fa(t)){for(P in l)l.hasOwnProperty(P)&&(a=l[P],a!==void 0&&$r(e,t,P,a,l,void 0));return}}for(_ in l)l.hasOwnProperty(_)&&(a=l[_],a!=null&&Je(e,t,_,a,l,null))}function by(e,t,l,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,p=null,S=null,_=null,A=null,I=null,P=null;for(H in l){var O=l[H];if(l.hasOwnProperty(H)&&O!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":A=O;default:a.hasOwnProperty(H)||Je(e,t,H,null,a,O)}}for(var L in a){var H=a[L];if(O=l[L],a.hasOwnProperty(L)&&(H!=null||O!=null))switch(L){case"type":p=H;break;case"name":d=H;break;case"checked":I=H;break;case"defaultChecked":P=H;break;case"value":S=H;break;case"defaultValue":_=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,t));break;default:H!==O&&Je(e,t,L,H,a,O)}}ua(e,S,_,A,I,P,p,d);return;case"select":H=S=_=L=null;for(p in l)if(A=l[p],l.hasOwnProperty(p)&&A!=null)switch(p){case"value":break;case"multiple":H=A;default:a.hasOwnProperty(p)||Je(e,t,p,null,a,A)}for(d in a)if(p=a[d],A=l[d],a.hasOwnProperty(d)&&(p!=null||A!=null))switch(d){case"value":L=p;break;case"defaultValue":_=p;break;case"multiple":S=p;default:p!==A&&Je(e,t,d,p,a,A)}t=_,l=S,a=H,L!=null?$i(e,!!l,L,!1):!!a!=!!l&&(t!=null?$i(e,!!l,t,!0):$i(e,!!l,l?[]:"",!1));return;case"textarea":H=L=null;for(_ in l)if(d=l[_],l.hasOwnProperty(_)&&d!=null&&!a.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:Je(e,t,_,null,a,d)}for(S in a)if(d=a[S],p=l[S],a.hasOwnProperty(S)&&(d!=null||p!=null))switch(S){case"value":L=d;break;case"defaultValue":H=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(s(91));break;default:d!==p&&Je(e,t,S,d,a,p)}Xu(e,L,H);return;case"option":for(var ae in l)if(L=l[ae],l.hasOwnProperty(ae)&&L!=null&&!a.hasOwnProperty(ae))switch(ae){case"selected":e.selected=!1;break;default:Je(e,t,ae,null,a,L)}for(A in a)if(L=a[A],H=l[A],a.hasOwnProperty(A)&&L!==H&&(L!=null||H!=null))switch(A){case"selected":e.selected=L&&typeof L!="function"&&typeof L!="symbol";break;default:Je(e,t,A,L,a,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pe in l)L=l[pe],l.hasOwnProperty(pe)&&L!=null&&!a.hasOwnProperty(pe)&&Je(e,t,pe,null,a,L);for(I in a)if(L=a[I],H=l[I],a.hasOwnProperty(I)&&L!==H&&(L!=null||H!=null))switch(I){case"children":case"dangerouslySetInnerHTML":if(L!=null)throw Error(s(137,t));break;default:Je(e,t,I,L,a,H)}return;default:if(fa(t)){for(var Qe in l)L=l[Qe],l.hasOwnProperty(Qe)&&L!==void 0&&!a.hasOwnProperty(Qe)&&$r(e,t,Qe,void 0,a,L);for(P in a)L=a[P],H=l[P],!a.hasOwnProperty(P)||L===H||L===void 0&&H===void 0||$r(e,t,P,L,a,H);return}}for(var R in l)L=l[R],l.hasOwnProperty(R)&&L!=null&&!a.hasOwnProperty(R)&&Je(e,t,R,null,a,L);for(O in a)L=a[O],H=l[O],!a.hasOwnProperty(O)||L===H||L==null&&H==null||Je(e,t,O,L,a,H)}function ep(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function wy(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,l=performance.getEntriesByType("resource"),a=0;a<l.length;a++){var d=l[a],p=d.transferSize,S=d.initiatorType,_=d.duration;if(p&&_&&ep(S)){for(S=0,_=d.responseEnd,a+=1;a<l.length;a++){var A=l[a],I=A.startTime;if(I>_)break;var P=A.transferSize,O=A.initiatorType;P&&ep(O)&&(A=A.responseEnd,S+=P*(A<_?1:(_-I)/(A-I)))}if(--a,t+=8*(p+S)/(d.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Wr=null,jr=null;function Ls(e){return e.nodeType===9?e:e.ownerDocument}function tp(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function np(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function eu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var tu=null;function Dy(){var e=window.event;return e&&e.type==="popstate"?e===tu?!1:(tu=e,!0):(tu=null,!1)}var ip=typeof setTimeout=="function"?setTimeout:void 0,Iy=typeof clearTimeout=="function"?clearTimeout:void 0,lp=typeof Promise=="function"?Promise:void 0,Uy=typeof queueMicrotask=="function"?queueMicrotask:typeof lp<"u"?function(e){return lp.resolve(null).then(e).catch(Ly)}:ip;function Ly(e){setTimeout(function(){throw e})}function di(e){return e==="head"}function op(e,t){var l=t,a=0;do{var d=l.nextSibling;if(e.removeChild(l),d&&d.nodeType===8)if(l=d.data,l==="/$"||l==="/&"){if(a===0){e.removeChild(d),bl(t);return}a--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")a++;else if(l==="html")_o(e.ownerDocument.documentElement);else if(l==="head"){l=e.ownerDocument.head,_o(l);for(var p=l.firstChild;p;){var S=p.nextSibling,_=p.nodeName;p[Pl]||_==="SCRIPT"||_==="STYLE"||_==="LINK"&&p.rel.toLowerCase()==="stylesheet"||l.removeChild(p),p=S}}else l==="body"&&_o(e.ownerDocument.body);l=d}while(l);bl(t)}function sp(e,t){var l=e;e=0;do{var a=l.nextSibling;if(l.nodeType===1?t?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(t?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),a&&a.nodeType===8)if(l=a.data,l==="/$"){if(e===0)break;e--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||e++;l=a}while(l)}function nu(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var l=t;switch(t=t.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":nu(l),aa(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}e.removeChild(l)}}function qy(e,t,l,a){for(;e.nodeType===1;){var d=l;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[Pl])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(p=e.getAttribute("rel"),p==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(p!==d.rel||e.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||e.getAttribute("title")!==(d.title==null?null:d.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(p=e.getAttribute("src"),(p!==(d.src==null?null:d.src)||e.getAttribute("type")!==(d.type==null?null:d.type)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&p&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var p=d.name==null?null:""+d.name;if(d.type==="hidden"&&e.getAttribute("name")===p)return e}else return e;if(e=on(e.nextSibling),e===null)break}return null}function Gy(e,t,l){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!l||(e=on(e.nextSibling),e===null))return null;return e}function ap(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=on(e.nextSibling),e===null))return null;return e}function iu(e){return e.data==="$?"||e.data==="$~"}function lu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Hy(e,t){var l=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||l.readyState!=="loading")t();else{var a=function(){t(),l.removeEventListener("DOMContentLoaded",a)};l.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function on(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var ou=null;function rp(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var l=e.data;if(l==="/$"||l==="/&"){if(t===0)return on(e.nextSibling);t--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||t++}e=e.nextSibling}return null}function up(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var l=e.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(t===0)return e;t--}else l!=="/$"&&l!=="/&"||t++}e=e.previousSibling}return null}function cp(e,t,l){switch(t=Ls(l),e){case"html":if(e=t.documentElement,!e)throw Error(s(452));return e;case"head":if(e=t.head,!e)throw Error(s(453));return e;case"body":if(e=t.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function _o(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);aa(e)}var sn=new Map,fp=new Set;function qs(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Vn=J.d;J.d={f:zy,r:ky,D:Py,C:Vy,L:By,m:Fy,X:Yy,S:Oy,M:Jy};function zy(){var e=Vn.f(),t=Ns();return e||t}function ky(e){var t=Ki(e);t!==null&&t.tag===5&&t.type==="form"?Rf(t):Vn.r(e)}var Nl=typeof document>"u"?null:document;function dp(e,t,l){var a=Nl;if(a&&typeof t=="string"&&t){var d=$t(t);d='link[rel="'+e+'"][href="'+d+'"]',typeof l=="string"&&(d+='[crossorigin="'+l+'"]'),fp.has(d)||(fp.add(d),e={rel:e,crossOrigin:l,href:t},a.querySelector(d)===null&&(t=a.createElement("link"),Mt(t,"link",e),Tt(t),a.head.appendChild(t)))}}function Py(e){Vn.D(e),dp("dns-prefetch",e,null)}function Vy(e,t){Vn.C(e,t),dp("preconnect",e,t)}function By(e,t,l){Vn.L(e,t,l);var a=Nl;if(a&&e&&t){var d='link[rel="preload"][as="'+$t(t)+'"]';t==="image"&&l&&l.imageSrcSet?(d+='[imagesrcset="'+$t(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(d+='[imagesizes="'+$t(l.imageSizes)+'"]')):d+='[href="'+$t(e)+'"]';var p=d;switch(t){case"style":p=Ml(e);break;case"script":p=Rl(e)}sn.has(p)||(e=T({rel:"preload",href:t==="image"&&l&&l.imageSrcSet?void 0:e,as:t},l),sn.set(p,e),a.querySelector(d)!==null||t==="style"&&a.querySelector(xo(p))||t==="script"&&a.querySelector(Ao(p))||(t=a.createElement("link"),Mt(t,"link",e),Tt(t),a.head.appendChild(t)))}}function Fy(e,t){Vn.m(e,t);var l=Nl;if(l&&e){var a=t&&typeof t.as=="string"?t.as:"script",d='link[rel="modulepreload"][as="'+$t(a)+'"][href="'+$t(e)+'"]',p=d;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=Rl(e)}if(!sn.has(p)&&(e=T({rel:"modulepreload",href:e},t),sn.set(p,e),l.querySelector(d)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Ao(p)))return}a=l.createElement("link"),Mt(a,"link",e),Tt(a),l.head.appendChild(a)}}}function Oy(e,t,l){Vn.S(e,t,l);var a=Nl;if(a&&e){var d=Xi(a).hoistableStyles,p=Ml(e);t=t||"default";var S=d.get(p);if(!S){var _={loading:0,preload:null};if(S=a.querySelector(xo(p)))_.loading=5;else{e=T({rel:"stylesheet",href:e,"data-precedence":t},l),(l=sn.get(p))&&su(e,l);var A=S=a.createElement("link");Tt(A),Mt(A,"link",e),A._p=new Promise(function(I,P){A.onload=I,A.onerror=P}),A.addEventListener("load",function(){_.loading|=1}),A.addEventListener("error",function(){_.loading|=2}),_.loading|=4,Gs(S,t,a)}S={type:"stylesheet",instance:S,count:1,state:_},d.set(p,S)}}}function Yy(e,t){Vn.X(e,t);var l=Nl;if(l&&e){var a=Xi(l).hoistableScripts,d=Rl(e),p=a.get(d);p||(p=l.querySelector(Ao(d)),p||(e=T({src:e,async:!0},t),(t=sn.get(d))&&au(e,t),p=l.createElement("script"),Tt(p),Mt(p,"link",e),l.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},a.set(d,p))}}function Jy(e,t){Vn.M(e,t);var l=Nl;if(l&&e){var a=Xi(l).hoistableScripts,d=Rl(e),p=a.get(d);p||(p=l.querySelector(Ao(d)),p||(e=T({src:e,async:!0,type:"module"},t),(t=sn.get(d))&&au(e,t),p=l.createElement("script"),Tt(p),Mt(p,"link",e),l.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},a.set(d,p))}}function pp(e,t,l,a){var d=(d=ye.current)?qs(d):null;if(!d)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(t=Ml(l.href),l=Xi(d).hoistableStyles,a=l.get(t),a||(a={type:"style",instance:null,count:0,state:null},l.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){e=Ml(l.href);var p=Xi(d).hoistableStyles,S=p.get(e);if(S||(d=d.ownerDocument||d,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(e,S),(p=d.querySelector(xo(e)))&&!p._p&&(S.instance=p,S.state.loading=5),sn.has(e)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},sn.set(e,l),p||Qy(d,e,l,S.state))),t&&a===null)throw Error(s(528,""));return S}if(t&&a!==null)throw Error(s(529,""));return null;case"script":return t=l.async,l=l.src,typeof l=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Rl(l),l=Xi(d).hoistableScripts,a=l.get(t),a||(a={type:"script",instance:null,count:0,state:null},l.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Ml(e){return'href="'+$t(e)+'"'}function xo(e){return'link[rel="stylesheet"]['+e+"]"}function mp(e){return T({},e,{"data-precedence":e.precedence,precedence:null})}function Qy(e,t,l,a){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?a.loading=1:(t=e.createElement("link"),a.preload=t,t.addEventListener("load",function(){return a.loading|=1}),t.addEventListener("error",function(){return a.loading|=2}),Mt(t,"link",l),Tt(t),e.head.appendChild(t))}function Rl(e){return'[src="'+$t(e)+'"]'}function Ao(e){return"script[async]"+e}function hp(e,t,l){if(t.count++,t.instance===null)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+$t(l.href)+'"]');if(a)return t.instance=a,Tt(a),a;var d=T({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),Tt(a),Mt(a,"style",d),Gs(a,l.precedence,e),t.instance=a;case"stylesheet":d=Ml(l.href);var p=e.querySelector(xo(d));if(p)return t.state.loading|=4,t.instance=p,Tt(p),p;a=mp(l),(d=sn.get(d))&&su(a,d),p=(e.ownerDocument||e).createElement("link"),Tt(p);var S=p;return S._p=new Promise(function(_,A){S.onload=_,S.onerror=A}),Mt(p,"link",a),t.state.loading|=4,Gs(p,l.precedence,e),t.instance=p;case"script":return p=Rl(l.src),(d=e.querySelector(Ao(p)))?(t.instance=d,Tt(d),d):(a=l,(d=sn.get(p))&&(a=T({},l),au(a,d)),e=e.ownerDocument||e,d=e.createElement("script"),Tt(d),Mt(d,"link",a),e.head.appendChild(d),t.instance=d);case"void":return null;default:throw Error(s(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(a=t.instance,t.state.loading|=4,Gs(a,l.precedence,e));return t.instance}function Gs(e,t,l){for(var a=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=a.length?a[a.length-1]:null,p=d,S=0;S<a.length;S++){var _=a[S];if(_.dataset.precedence===t)p=_;else if(p!==d)break}p?p.parentNode.insertBefore(e,p.nextSibling):(t=l.nodeType===9?l.head:l,t.insertBefore(e,t.firstChild))}function su(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function au(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Hs=null;function gp(e,t,l){if(Hs===null){var a=new Map,d=Hs=new Map;d.set(l,a)}else d=Hs,a=d.get(l),a||(a=new Map,d.set(l,a));if(a.has(e))return a;for(a.set(e,null),l=l.getElementsByTagName(e),d=0;d<l.length;d++){var p=l[d];if(!(p[Pl]||p[Se]||e==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var S=p.getAttribute(t)||"";S=e+S;var _=a.get(S);_?_.push(p):a.set(S,[p])}}return a}function yp(e,t,l){e=e.ownerDocument||e,e.head.insertBefore(l,t==="title"?e.querySelector("head > title"):null)}function Ky(e,t,l){if(l===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function vp(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Xy(e,t,l,a){if(l.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var d=Ml(a.href),p=t.querySelector(xo(d));if(p){t=p._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=zs.bind(e),t.then(e,e)),l.state.loading|=4,l.instance=p,Tt(p);return}p=t.ownerDocument||t,a=mp(a),(d=sn.get(d))&&su(a,d),p=p.createElement("link"),Tt(p);var S=p;S._p=new Promise(function(_,A){S.onload=_,S.onerror=A}),Mt(p,"link",a),l.instance=p}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(l,t),(t=l.state.preload)&&(l.state.loading&3)===0&&(e.count++,l=zs.bind(e),t.addEventListener("load",l),t.addEventListener("error",l))}}var ru=0;function Zy(e,t){return e.stylesheets&&e.count===0&&Ps(e,e.stylesheets),0<e.count||0<e.imgCount?function(l){var a=setTimeout(function(){if(e.stylesheets&&Ps(e,e.stylesheets),e.unsuspend){var p=e.unsuspend;e.unsuspend=null,p()}},6e4+t);0<e.imgBytes&&ru===0&&(ru=62500*wy());var d=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Ps(e,e.stylesheets),e.unsuspend)){var p=e.unsuspend;e.unsuspend=null,p()}},(e.imgBytes>ru?50:800)+t);return e.unsuspend=l,function(){e.unsuspend=null,clearTimeout(a),clearTimeout(d)}}:null}function zs(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ps(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var ks=null;function Ps(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,ks=new Map,t.forEach($y,e),ks=null,zs.call(e))}function $y(e,t){if(!(t.state.loading&4)){var l=ks.get(e);if(l)var a=l.get(null);else{l=new Map,ks.set(e,l);for(var d=e.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<d.length;p++){var S=d[p];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(l.set(S.dataset.precedence,S),a=S)}a&&l.set(null,a)}d=t.instance,S=d.getAttribute("data-precedence"),p=l.get(S)||a,p===a&&l.set(null,d),l.set(S,d),this.count++,a=zs.bind(this),d.addEventListener("load",a),d.addEventListener("error",a),p?p.parentNode.insertBefore(d,p.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(d,e.firstChild)),t.state.loading|=4}}var No={$$typeof:V,Provider:null,Consumer:null,_currentValue:ue,_currentValue2:ue,_threadCount:0};function Wy(e,t,l,a,d,p,S,_,A){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=z(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=z(0),this.hiddenUpdates=z(null),this.identifierPrefix=a,this.onUncaughtError=d,this.onCaughtError=p,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function Sp(e,t,l,a,d,p,S,_,A,I,P,O){return e=new Wy(e,t,l,S,A,I,P,O,_),t=1,p===!0&&(t|=24),p=Bt(3,null,null,t),e.current=p,p.stateNode=e,t=Va(),t.refCount++,e.pooledCache=t,t.refCount++,p.memoizedState={element:a,isDehydrated:l,cache:t},Ya(p),e}function Tp(e){return e?(e=ol,e):ol}function Cp(e,t,l,a,d,p){d=Tp(d),a.context===null?a.context=d:a.pendingContext=d,a=ti(t),a.payload={element:l},p=p===void 0?null:p,p!==null&&(a.callback=p),l=ni(e,a,t),l!==null&&(Ht(l,e,t),io(l,e,t))}function Ep(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var l=e.retryLane;e.retryLane=l!==0&&l<t?l:t}}function uu(e,t){Ep(e,t),(e=e.alternate)&&Ep(e,t)}function _p(e){if(e.tag===13||e.tag===31){var t=xi(e,67108864);t!==null&&Ht(t,e,67108864),uu(e,67108864)}}function xp(e){if(e.tag===13||e.tag===31){var t=Qt();t=Be(t);var l=xi(e,t);l!==null&&Ht(l,e,t),uu(e,t)}}var Vs=!0;function jy(e,t,l,a){var d=G.T;G.T=null;var p=J.p;try{J.p=2,cu(e,t,l,a)}finally{J.p=p,G.T=d}}function e0(e,t,l,a){var d=G.T;G.T=null;var p=J.p;try{J.p=8,cu(e,t,l,a)}finally{J.p=p,G.T=d}}function cu(e,t,l,a){if(Vs){var d=fu(a);if(d===null)Zr(e,t,a,Bs,l),Np(e,a);else if(n0(d,e,t,l,a))a.stopPropagation();else if(Np(e,a),t&4&&-1<t0.indexOf(e)){for(;d!==null;){var p=Ki(d);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var S=fn(p.pendingLanes);if(S!==0){var _=p;for(_.pendingLanes|=2,_.entangledLanes|=2;S;){var A=1<<31-vt(S);_.entanglements[1]|=A,S&=~A}En(p),(Pe&6)===0&&(xs=et()+500,To(0))}}break;case 31:case 13:_=xi(p,2),_!==null&&Ht(_,p,2),Ns(),uu(p,2)}if(p=fu(a),p===null&&Zr(e,t,a,Bs,l),p===d)break;d=p}d!==null&&a.stopPropagation()}else Zr(e,t,a,null,l)}}function fu(e){return e=pa(e),du(e)}var Bs=null;function du(e){if(Bs=null,e=Qi(e),e!==null){var t=f(e);if(t===null)e=null;else{var l=t.tag;if(l===13){if(e=m(t),e!==null)return e;e=null}else if(l===31){if(e=g(t),e!==null)return e;e=null}else if(l===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Bs=e,null}function Ap(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Bi()){case Si:return 2;case Fi:return 8;case un:case Xt:return 32;case Yn:return 268435456;default:return 32}default:return 32}}var pu=!1,pi=null,mi=null,hi=null,Mo=new Map,Ro=new Map,gi=[],t0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Np(e,t){switch(e){case"focusin":case"focusout":pi=null;break;case"dragenter":case"dragleave":mi=null;break;case"mouseover":case"mouseout":hi=null;break;case"pointerover":case"pointerout":Mo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ro.delete(t.pointerId)}}function bo(e,t,l,a,d,p){return e===null||e.nativeEvent!==p?(e={blockedOn:t,domEventName:l,eventSystemFlags:a,nativeEvent:p,targetContainers:[d]},t!==null&&(t=Ki(t),t!==null&&_p(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,d!==null&&t.indexOf(d)===-1&&t.push(d),e)}function n0(e,t,l,a,d){switch(t){case"focusin":return pi=bo(pi,e,t,l,a,d),!0;case"dragenter":return mi=bo(mi,e,t,l,a,d),!0;case"mouseover":return hi=bo(hi,e,t,l,a,d),!0;case"pointerover":var p=d.pointerId;return Mo.set(p,bo(Mo.get(p)||null,e,t,l,a,d)),!0;case"gotpointercapture":return p=d.pointerId,Ro.set(p,bo(Ro.get(p)||null,e,t,l,a,d)),!0}return!1}function Mp(e){var t=Qi(e.target);if(t!==null){var l=f(t);if(l!==null){if(t=l.tag,t===13){if(t=m(l),t!==null){e.blockedOn=t,tt(e.priority,function(){xp(l)});return}}else if(t===31){if(t=g(l),t!==null){e.blockedOn=t,tt(e.priority,function(){xp(l)});return}}else if(t===3&&l.stateNode.current.memoizedState.isDehydrated){e.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Fs(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var l=fu(e.nativeEvent);if(l===null){l=e.nativeEvent;var a=new l.constructor(l.type,l);da=a,l.target.dispatchEvent(a),da=null}else return t=Ki(l),t!==null&&_p(t),e.blockedOn=l,!1;t.shift()}return!0}function Rp(e,t,l){Fs(e)&&l.delete(t)}function i0(){pu=!1,pi!==null&&Fs(pi)&&(pi=null),mi!==null&&Fs(mi)&&(mi=null),hi!==null&&Fs(hi)&&(hi=null),Mo.forEach(Rp),Ro.forEach(Rp)}function Os(e,t){e.blockedOn===t&&(e.blockedOn=null,pu||(pu=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,i0)))}var Ys=null;function bp(e){Ys!==e&&(Ys=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Ys===e&&(Ys=null);for(var t=0;t<e.length;t+=3){var l=e[t],a=e[t+1],d=e[t+2];if(typeof a!="function"){if(du(a||l)===null)continue;break}var p=Ki(l);p!==null&&(e.splice(t,3),t-=3,fr(p,{pending:!0,data:d,method:l.method,action:a},a,d))}}))}function bl(e){function t(A){return Os(A,e)}pi!==null&&Os(pi,e),mi!==null&&Os(mi,e),hi!==null&&Os(hi,e),Mo.forEach(t),Ro.forEach(t);for(var l=0;l<gi.length;l++){var a=gi[l];a.blockedOn===e&&(a.blockedOn=null)}for(;0<gi.length&&(l=gi[0],l.blockedOn===null);)Mp(l),l.blockedOn===null&&gi.shift();if(l=(e.ownerDocument||e).$$reactFormReplay,l!=null)for(a=0;a<l.length;a+=3){var d=l[a],p=l[a+1],S=d[St]||null;if(typeof p=="function")S||bp(l);else if(S){var _=null;if(p&&p.hasAttribute("formAction")){if(d=p,S=p[St]||null)_=S.formAction;else if(du(d)!==null)continue}else _=S.action;typeof _=="function"?l[a+1]=_:(l.splice(a,3),a-=3),bp(l)}}}function wp(){function e(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(S){return d=S})},focusReset:"manual",scroll:"manual"})}function t(){d!==null&&(d(),d=null),a||setTimeout(l,20)}function l(){if(!a&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var a=!1,d=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(l,100),function(){a=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),d!==null&&(d(),d=null)}}}function mu(e){this._internalRoot=e}Js.prototype.render=mu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(s(409));var l=t.current,a=Qt();Cp(l,a,e,t,null,null)},Js.prototype.unmount=mu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Cp(e.current,2,null,e,null,null),Ns(),t[Kn]=null}};function Js(e){this._internalRoot=e}Js.prototype.unstable_scheduleHydration=function(e){if(e){var t=ct();e={blockedOn:null,target:e,priority:t};for(var l=0;l<gi.length&&t!==0&&t<gi[l].priority;l++);gi.splice(l,0,e),l===0&&Mp(e)}};var Dp=n.version;if(Dp!=="19.2.0")throw Error(s(527,Dp,"19.2.0"));J.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=h(t),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var l0={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qs.isDisabled&&Qs.supportsFiber)try{vn=Qs.inject(l0),Et=Qs}catch{}}return Do.createRoot=function(e,t){if(!r(e))throw Error(s(299));var l=!1,a="",d=zf,p=kf,S=Pf;return t!=null&&(t.unstable_strictMode===!0&&(l=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onUncaughtError!==void 0&&(d=t.onUncaughtError),t.onCaughtError!==void 0&&(p=t.onCaughtError),t.onRecoverableError!==void 0&&(S=t.onRecoverableError)),t=Sp(e,1,!1,null,null,l,a,null,d,p,S,wp),e[Kn]=t.current,Xr(e),new mu(t)},Do.hydrateRoot=function(e,t,l){if(!r(e))throw Error(s(299));var a=!1,d="",p=zf,S=kf,_=Pf,A=null;return l!=null&&(l.unstable_strictMode===!0&&(a=!0),l.identifierPrefix!==void 0&&(d=l.identifierPrefix),l.onUncaughtError!==void 0&&(p=l.onUncaughtError),l.onCaughtError!==void 0&&(S=l.onCaughtError),l.onRecoverableError!==void 0&&(_=l.onRecoverableError),l.formState!==void 0&&(A=l.formState)),t=Sp(e,1,!0,t,l??null,a,d,A,p,S,_,wp),t.context=Tp(null),l=t.current,a=Qt(),a=Be(a),d=ti(a),d.callback=null,ni(l,d,a),l=a,t.current.lanes=l,K(t,l),En(t),e[Kn]=t.current,Xr(e),new Js(t)},Do.version="19.2.0",Do}var Vp;function h0(){if(Vp)return yu.exports;Vp=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(n){console.error(n)}}return i(),yu.exports=m0(),yu.exports}var g0=h0();const y0=gh(g0),Il={comment:"text-slate-500 italic",string:"text-lime-400",number:"text-amber-500 font-semibold",keyword:"text-pink-400 font-semibold",type:"text-sky-300",function:"text-[#4ac94a]",bracket:"text-purple-400 font-bold",op:"text-slate-400",id:"text-slate-300",tag:"text-pink-400 font-semibold","attr-name":"text-sky-300","attr-value":"text-lime-400",color:"text-fuchsia-400 font-semibold",property:"text-sky-300",selector:"text-amber-500",key:"text-sky-300",boolean:"text-pink-400",null:"text-purple-400",meta:"text-cyan-400",variable:"text-teal-300","at-rule":"text-purple-400",unknown:"text-slate-300",error:"bg-red-500/20 underline decoration-red-400 decoration-wavy",whitespace:"text-transparent"},v0={js:[{type:"error",regex:/^`[^`]*$/,errorMessage:"Unterminated template literal."},{type:"error",regex:/^"[^"\n]*$/,errorMessage:"Unterminated string literal."},{type:"error",regex:/^'[^'\n]*$/,errorMessage:"Unterminated string literal."},{type:"comment",regex:/^(\/\/[^\n]*|\/\*[\s\S]*?\*\/)/},{type:"string",regex:/^`(?:\\[\s\S]|[^`])*`|^"(?:\\.|[^"])*"|^'(?:\\.|[^'])*'/},{type:"string",regex:/^\/(?!\*)(?:[^\r\n\[/\\]|\\.|\[(?:[^\r\n\]\\]|\\.)*\])+\/[gimsuy]*/},{type:"number",regex:/^\b(?:0x[a-fA-F0-9]+|[0-9]+(?:\.[0-9]+)?(?:e[+-]?\d+)?)\b/i},{type:"keyword",regex:/^\b(?:if|else|for|while|function|return|const|let|var|class|new|in|of|switch|case|break|continue|try|catch|throw|async|await|export|import|from|default|extends|super|instanceof|typeof|void|delete|yield|debugger|with|get|set)\b/},{type:"boolean",regex:/^\b(true|false)\b/},{type:"null",regex:/^\b(null|undefined)\b/},{type:"function",regex:/^\b[a-zA-Z_$][\w$]*(?=\s*\()/},{type:"bracket",regex:/^[\[\]{}()]/},{type:"op",regex:/^=>|\.\.\.|==|===|!=|!==|<=|>=|[-+*/%=<>!&|^~?:.,;]/},{type:"id",regex:/^\b[a-zA-Z_$][\w$]*\b/},{type:"whitespace",regex:/^\s+/}],html:[{type:"error",regex:/^<[\w\d\-]+(?:(?:"[^"]*"|'[^']*'|[^>])+)?$/,errorMessage:"Unclosed HTML tag."},{type:"meta",regex:/^<!DOCTYPE[\s\S]*?>/i},{type:"comment",regex:/^<!--[\s\S]*?-->/},{type:"tag",regex:/^<\/?[\w\d\-]+/},{type:"attr-name",regex:/^\s+[\w\d\-]+(?==)/},{type:"op",regex:/^=/},{type:"attr-value",regex:/^"(?:\\.|[^"])*"|^'(?:\\.|[^'])*'/},{type:"tag",regex:/^>/},{type:"text",regex:/^[^<]+/},{type:"whitespace",regex:/^\s+/}],css:[{type:"error",regex:/^"[^"\n]*$/,errorMessage:"Unterminated string."},{type:"error",regex:/^'[^'\n]*$/,errorMessage:"Unterminated string."},{type:"error",regex:/^\/\*[\s\S]*?$/,errorMessage:"Unterminated comment block."},{type:"comment",regex:/^\/\*[\s\S]*?\*\//},{type:"at-rule",regex:/^@[\w\-]+/},{type:"string",regex:/^"(?:\\.|[^"])*"|^'(?:\\.|[^'])*'/},{type:"property",regex:/^[a-zA-Z\-]+(?=\s*:)/},{type:"selector",regex:/^(?:[.#]?[a-zA-Z0-9\-_*]+|\[[^\]]+\]|:{1,2}[a-zA-Z\-]+(?:\([^\)]+\))?)/},{type:"function",regex:/^\b(?:url|var|calc|rgb|rgba|hsl|hsla)(?=\()/},{type:"color",regex:/^#(?:[0-9a-fA-F]{3,8})\b/},{type:"number",regex:/^\b-?\d+(\.\d+)?(px|em|rem|%|vw|vh|s|deg|fr|ms)?\b/i},{type:"keyword",regex:/^\b(!important|auto|inherit|initial|unset|none|block|inline|inline-block|flex|grid|absolute|relative|fixed|static|sticky|solid|dashed|dotted|hidden|visible|scroll|uppercase|lowercase|capitalize|center|left|right|justify|start|end|bold|normal|italic)\b/i},{type:"op",regex:/^[:;,>+~]/},{type:"bracket",regex:/^[\[\]{}()]/},{type:"whitespace",regex:/^\s+/}],xml:[{type:"error",regex:/^<[\w\d\-:]+(?:(?:"[^"]*"|'[^']*'|[^>])+)?$/,errorMessage:"Unclosed XML tag."},{type:"comment",regex:/^<!--[\s\S]*?-->/},{type:"meta",regex:/^<\?[\s\S]*?\?>/},{type:"meta",regex:/^<!\[CDATA\[[\s\S]*?\]\]>/},{type:"tag",regex:/^<\/?[\w\d\-:]+/},{type:"attr-name",regex:/^\s+[\w\d\-:]+(?==)/},{type:"op",regex:/^=/},{type:"attr-value",regex:/^"(?:\\.|[^"])*"|^'(?:\\.|[^'])*'/},{type:"tag",regex:/^\/?>/},{type:"text",regex:/^[^<]+/},{type:"whitespace",regex:/^\s+/}],php:[{type:"meta",regex:/^<\?php|^\?>|<\?=/},{type:"comment",regex:/^(\/\/[^\n]*|\/\*[\s\S]*?\*\/|#[^\n]*)/},{type:"variable",regex:/^\$[a-zA-Z_\x7f-\xff][a-zA-Z0-9_\x7f-\xff]*/},{type:"string",regex:/^"(?:\\.|[^"\\])*"|^'(?:\\.|[^'\\])*'/},{type:"number",regex:/^\b\d+(\.\d+)?(?:e[+-]?\d+)?\b/},{type:"keyword",regex:/^\b(?:echo|if|else|elseif|while|for|foreach|function|return|const|class|new|public|protected|private|static|__halt_compiler|abstract|and|array|as|break|callable|case|catch|clone|continue|declare|default|die|do|empty|enddeclare|endfor|endforeach|endif|endswitch|endwhile|eval|exit|extends|final|finally|global|goto|implements|include|include_once|instanceof|insteadof|interface|isset|list|namespace|or|print|require|require_once|switch|throw|trait|try|unset|use|var|xor|yield|__CLASS__|__DIR__|__FILE__|__FUNCTION__|__LINE__|__METHOD__|__NAMESPACE__|__TRAIT__)\b/i},{type:"boolean",regex:/^\b(true|false)\b/i},{type:"null",regex:/^\bnull\b/i},{type:"function",regex:/^\b[a-zA-Z_][\w_]*(?=\s*\()/},{type:"op",regex:/^->|=>|==|===|!=|!==|<=|>=|[-+*\/%<>&|^~?:.,;]/},{type:"bracket",regex:/^[\[\]{}()]/},{type:"comment",regex:/^<!--[\s\S]*?-->/},{type:"tag",regex:/^<\/?[\w\d\-]+/},{type:"attr-name",regex:/^\s+[\w\d\-]+(?==)/},{type:"op",regex:/^=/},{type:"attr-value",regex:/^"(?:\\.|[^"])*"|^'(?:\\.|[^'])*'/},{type:"tag",regex:/^>/},{type:"text",regex:/^[^<>$]+/},{type:"whitespace",regex:/^\s+/}],sql:[{type:"comment",regex:/^(--[^\n]*|\/\*[\s\S]*?\*\/)/},{type:"string",regex:/^'(?:[^']|'')*'/},{type:"number",regex:/^\b-?\d+(\.\d+)?\b/},{type:"keyword",regex:/^\b(SELECT|FROM|WHERE|INSERT|INTO|VALUES|UPDATE|SET|DELETE|CREATE|TABLE|DATABASE|ALTER|DROP|JOIN|LEFT|RIGHT|INNER|OUTER|ON|GROUP\sBY|ORDER\sBY|ASC|DESC|LIMIT|OFFSET|HAVING|AS|DISTINCT|COUNT|SUM|AVG|MAX|MIN|CASE|WHEN|THEN|ELSE|END|AND|OR|NOT|IN|LIKE|BETWEEN|IS|NULL|PRIMARY|KEY|FOREIGN|REFERENCES|UNIQUE|INDEX|VIEW)\b/i},{type:"boolean",regex:/^\b(TRUE|FALSE)\b/i},{type:"function",regex:/^\b[a-zA-Z_]\w*(?=\s*\()/i},{type:"id",regex:/^`[^`]*`|"[^"]*"/},{type:"op",regex:/^[,;*<>=!%|&^~.\-+/]+/},{type:"bracket",regex:/^[()]/},{type:"id",regex:/^\b[a-zA-Z_]\w*\b/},{type:"whitespace",regex:/^\s+/}],json:[{type:"error",regex:/^"[^"\n]*$/,errorMessage:"Unterminated string."},{type:"key",regex:/^"(?:\\.|[^"])*"(?=\s*:)/},{type:"string",regex:/^"(?:\\.|[^"])*"/},{type:"number",regex:/^-?\d+(?:\.\d+)?(?:e[+-]?\d+)?/i},{type:"keyword",regex:/^\b(true|false|null)\b/},{type:"op",regex:/^[:,]/},{type:"bracket",regex:/^[\[\]{}()]/},{type:"whitespace",regex:/^\s+/}],py:[{type:"error",regex:/^(?:'''[\s\S]*?$|"""[\s\S]*?$)/,errorMessage:"Unterminated multi-line string."},{type:"error",regex:/^'[^'\n]*$/,errorMessage:"Unterminated string."},{type:"error",regex:/^"[^"\n]*$/,errorMessage:"Unterminated string."},{type:"comment",regex:/^#[^\n]*/},{type:"string",regex:/^(?:[furbFUBR]{0,2})?(?:'''[\s\S]*?'''|"""[\s\S]*?"""|'[^'\n]*'|"[^"\n]*")/},{type:"keyword",regex:/^\b(def|return|if|else|elif|for|while|import|from|as|class|try|except|finally|with|lambda|yield|in|is|not|and|or|pass|continue|break|async|await|assert|del|global|nonlocal|raise)\b/},{type:"boolean",regex:/^\b(True|False)\b/},{type:"null",regex:/^\b(None)\b/},{type:"function",regex:/^\b[a-zA-Z_]\w*(?=\s*\()/},{type:"meta",regex:/^@\w+/},{type:"number",regex:/^\b\d+(\.\d+)?\b/},{type:"op",regex:/^[-+*/%=<>!&|^~:.,;@]/},{type:"bracket",regex:/^[\[\]{}()]/},{type:"whitespace",regex:/^\s+/}],bash:[{type:"comment",regex:/^#[^\n]*/},{type:"string",regex:/^"(?:\\.|[^"])*"|^'(?:\\.|[^'])*'/},{type:"keyword",regex:/^\b(if|then|else|elif|fi|case|esac|for|select|while|until|do|done|in|function|time|coproc)\b/},{type:"function",regex:/^\b(alias|bg|bind|break|builtin|caller|cd|command|compgen|complete|compopt|continue|declare|dirs|disown|echo|enable|eval|exec|exit|export|false|fc|fg|getopts|hash|help|history|jobs|kill|let|local|logout|mapfile|popd|printf|pushd|pwd|read|readarray|readonly|return|set|shift|shopt|source|suspend|test|times|trap|true|type|typeset|ulimit|umask|unalias|unset|wait)\b/},{type:"variable",regex:/^\$([a-zA-Z_]\w*|\d+|\?|#|@|\*|\$)/},{type:"variable",regex:/^\$\{[^}]*\}/},{type:"number",regex:/^\b\d+\b/},{type:"op",regex:/^(\[\[|\]\]|\|\||&&|;|\||&|>|<|>>|<<|`)/},{type:"bracket",regex:/^[()]/},{type:"whitespace",regex:/^\s+/}]},yh=(i,n)=>{const o=v0[n]||[];if(o.length===0)return[{type:"unknown",value:i}];const s=[];let r=0;for(;r<i.length;){let f=!1;for(const m of o){const g=m.regex.exec(i.slice(r));if(g&&g[0].length>0){s.push({type:m.type,value:g[0],errorMessage:m.errorMessage}),r+=g[0].length,f=!0;break}}f||(s.push({type:"unknown",value:i[r],errorMessage:"Invalid or unexpected token."}),r++)}return s},zi=i=>i.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),Uo=(i,n,o=[],s=-1)=>{if(!i)return"";const r=yh(i,n);let f=0;return r.map(m=>{const g=!!m.errorMessage,y=m.errorMessage?.replace(/"/g,"&quot;"),h=g?`title="${y}"`:"",v=g?Il.error:Il[m.type]||Il.unknown;let T=zi(m.value);const C=f,x=f+m.value.length;let b="",w=0;return o.forEach((Y,q)=>{const Q=Y.start,V=Y.end,j=Math.max(C,Q),te=Math.min(x,V);if(j<te){const ie=T.substring(w,j-C),X=T.substring(j-C,te-C);b+=ie+`<span class="${q===s?"editor-active-match":"editor-search-match"}">${X}</span>`,w=te-C}}),b!==""&&(T=b+T.substring(w)),f+=m.value.length,`<span class="${v}" ${h}>${T}</span>`}).join("")},S0=({snippets:i,onAddSnippet:n,onUpdateSnippet:o,onDeleteSnippet:s,onInsertSnippet:r,editorFontSize:f})=>{const[m,g]=U.useState(""),[y,h]=U.useState(""),[v,T]=U.useState(null),[C,x]=U.useState(""),[b,w]=U.useState(""),Y=U.useRef(null),q=U.useRef(null),Q=()=>{m.trim()&&y.trim()&&(n(m.trim(),y.trim()),g(""),h(""))},V=le=>{T(le.id),x(le.title),w(le.code),setTimeout(()=>q.current?.focus(),50)},j=()=>{v&&C.trim()&&b.trim()&&(o(v,C.trim(),b.trim()),T(null),x(""),w(""))},te=()=>{T(null),x(""),w("")},ie=le=>{window.confirm("Are you sure you want to delete this snippet?")&&s(le)},X=U.useCallback(le=>{navigator.clipboard.writeText(le).then(()=>{console.log("Snippet copied to clipboard!")}).catch(ee=>{console.error("Failed to copy snippet: ",ee)})},[]);return U.useEffect(()=>{const le=ee=>{ee.current&&(ee.current.style.height="auto",ee.current.style.height=`${ee.current.scrollHeight}px`)};le(Y),v&&le(q)},[y,b,v]),E.jsxs("div",{className:"flex flex-col gap-3 pt-1 text-xs text-[#999966]",children:[E.jsxs("div",{className:"bg-black/20 p-2 rounded border border-white/10 flex flex-col gap-2",children:[E.jsx("input",{type:"text",placeholder:"Snippet Title",value:m,onChange:le=>g(le.target.value),className:"w-full p-1 bg-[#22241e] text-[#f0f0e0] border border-[#999966] rounded focus:outline-none focus:ring-1 focus:ring-[#BB86FC]",style:{fontFamily:"Fira Code, monospace"},"aria-label":"New snippet title"}),E.jsxs("div",{className:"relative",children:[E.jsx("textarea",{ref:Y,placeholder:"Code content...",value:y,onChange:le=>h(le.target.value),className:"w-full p-1 bg-[#22241e] text-transparent caret-white font-mono border border-[#999966] rounded focus:outline-none focus:ring-1 focus:ring-[#BB86FC] resize-none overflow-hidden min-h-[4em]",style:{fontFamily:"Fira Code, monospace",fontSize:`${f*.9}px`,lineHeight:"1.5em"},spellCheck:"false","aria-label":"New snippet code content"}),E.jsx("pre",{className:"absolute top-0 left-0 w-full p-1 font-mono pointer-events-none text-[#f0f0e0] overflow-hidden whitespace-pre-wrap","aria-hidden":"true",style:{fontFamily:"Fira Code, monospace",fontSize:`${f*.9}px`,lineHeight:"1.5em",minHeight:"4em",maxHeight:`${Y.current?.scrollHeight||0}px`},children:E.jsx("code",{dangerouslySetInnerHTML:{__html:Uo(y,"js")}})})]}),E.jsx("button",{onClick:Q,disabled:!m.trim()||!y.trim(),className:"bg-[#BB86FC] hover:bg-[#a082f0] text-white px-2 py-1 rounded transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Add Snippet"})]}),i.length>0?E.jsx("div",{className:"flex flex-col gap-2 max-h-60 overflow-y-auto pr-1",children:i.map(le=>E.jsx("div",{className:"bg-black/20 p-2 rounded border border-white/10 flex flex-col gap-1",children:v===le.id?E.jsxs(E.Fragment,{children:[E.jsx("input",{type:"text",value:C,onChange:ee=>x(ee.target.value),className:"w-full p-1 bg-[#22241e] text-[#f0f0e0] border border-[#999966] rounded focus:outline-none focus:ring-1 focus:ring-[#BB86FC]",style:{fontFamily:"Fira Code, monospace"},"aria-label":`Edit title for ${le.title}`}),E.jsxs("div",{className:"relative",children:[E.jsx("textarea",{ref:q,value:b,onChange:ee=>w(ee.target.value),className:"w-full p-1 bg-[#22241e] text-transparent caret-white font-mono border border-[#999966] rounded focus:outline-none focus:ring-1 focus:ring-[#BB86FC] resize-none overflow-hidden min-h-[4em]",style:{fontFamily:"Fira Code, monospace",fontSize:`${f*.9}px`,lineHeight:"1.5em"},spellCheck:"false","aria-label":`Edit code for ${le.title}`}),E.jsx("pre",{className:"absolute top-0 left-0 w-full p-1 font-mono pointer-events-none text-[#f0f0e0] overflow-hidden whitespace-pre-wrap","aria-hidden":"true",style:{fontFamily:"Fira Code, monospace",fontSize:`${f*.9}px`,lineHeight:"1.5em",minHeight:"4em",maxHeight:`${q.current?.scrollHeight||0}px`},children:E.jsx("code",{dangerouslySetInnerHTML:{__html:Uo(b,"js")}})})]}),E.jsxs("div",{className:"flex gap-1 mt-1",children:[E.jsx("button",{onClick:j,className:"flex-1 bg-green-600 hover:bg-green-700 text-white px-2 py-1 rounded transition-colors",disabled:!C.trim()||!b.trim(),children:"Save"}),E.jsx("button",{onClick:te,className:"flex-1 bg-red-600 hover:bg-red-700 text-white px-2 py-1 rounded transition-colors",children:"Cancel"})]})]}):E.jsxs(E.Fragment,{children:[E.jsx("div",{className:"font-bold text-[#f0f0e0]",children:le.title}),E.jsx("div",{className:"relative",children:E.jsx("pre",{className:"w-full p-1 bg-[#22241e] text-[#f0f0e0] font-mono border border-[#999966] rounded overflow-x-auto whitespace-pre-wrap text-ellipsis max-h-16",style:{fontFamily:"Fira Code, monospace",fontSize:`${f*.8}px`},children:E.jsx("code",{dangerouslySetInnerHTML:{__html:Uo(le.code,"js")}})})}),E.jsxs("div",{className:"flex justify-end gap-1 mt-1",children:[E.jsx("button",{onClick:()=>X(le.code),className:"bg-[#03DAC6] hover:bg-[#03a99e] text-black px-2 py-1 rounded transition-colors",children:"Copy"}),E.jsx("button",{onClick:()=>r(le.code),className:"bg-[#4ac94a] hover:bg-green-400 text-white px-2 py-1 rounded transition-colors",children:"Insert"}),E.jsx("button",{onClick:()=>V(le),className:"bg-blue-600 hover:bg-blue-700 text-white px-2 py-1 rounded transition-colors",children:"Edit"}),E.jsx("button",{onClick:()=>ie(le.id),className:"bg-red-600 hover:bg-red-700 text-white px-2 py-1 rounded transition-colors",children:"Delete"})]})]})},le.id))}):E.jsx("p",{className:"text-gray-500 text-center mt-4",children:"No snippets added yet."})]})},T0=i=>E.jsxs("header",{className:"grid-in-header bg-[#2e3026] border-b border-[#22241e] flex items-center justify-between px-3 py-1.5 relative overflow-hidden quantum-scan",children:[E.jsxs("div",{className:"flex gap-3 items-center z-10",children:[E.jsx("button",{onClick:i.onToggleLeftPanel,className:"bg-[#a03333] hover:bg-[#3366a0] text-sm px-2 py-1.5 rounded transition-colors",children:""}),E.jsx("div",{className:"font-extrabold quantum-pulse",children:"Nemodian 2244-1 :: Quantum Fractal AI"})]}),E.jsxs("div",{className:"flex gap-2 items-center z-10",children:[E.jsxs("div",{className:"flex items-center gap-1.5",children:[E.jsx("div",{className:"w-2 h-2 rounded-full bg-[#4ac94a]"}),E.jsx("div",{className:"text-xs text-[#cfcfbd]",children:"Quantum AI: Ready"})]}),E.jsx("button",{onClick:i.onTogglePreview,className:`text-xs px-2 py-1.5 rounded transition-colors ${i.isPreviewing?"bg-yellow-600 text-white hover:bg-yellow-700 ring-2 ring-offset-2 ring-offset-[#2e3026] ring-yellow-400":"bg-[#f0ad4e] border-[#f0ad4e] text-[#3a3c31] hover:bg-yellow-400"}`,children:i.isPreviewing?"Close Preview":"Live Preview"}),E.jsx("button",{onClick:i.onLoadScript,className:"bg-[#f0ad4e] border-[#f0ad4e] text-[#3a3c31] hover:bg-yellow-400 text-xs px-2 py-1.5 rounded transition-colors",children:"Load Script"}),E.jsx("button",{onClick:i.onGenerateCode,className:"bg-[#BB86FC] hover:bg-[#a082f0] text-xs px-2 py-1.5 rounded transition-colors",children:"AI Generate Code"}),E.jsx("button",{onClick:i.onFixCode,className:"bg-[#673AB7] hover:bg-[#855CCB] text-xs px-2 py-1.5 rounded transition-colors",children:"AI Fix Code"}),E.jsx("button",{onClick:i.onRunAI,className:"bg-[#5bc0de] border-[#5bc0de] hover:bg-cyan-400 text-xs px-2 py-1.5 rounded transition-colors",children:"Quantum AI"}),E.jsx("button",{onClick:i.onRunOrchestrator,className:"bg-[#4ac94a] border-[#4ac94a] hover:bg-green-400 text-xs px-2 py-1.5 rounded transition-colors",children:"Orchestrator"}),E.jsx("button",{onClick:i.onFindReplaceToggle,className:"bg-[#03DAC6] hover:bg-[#03a99e] text-xs px-2 py-1.5 rounded transition-colors",children:"Find/Replace"})]})]}),C0=({fileName:i,stats:n})=>E.jsxs("div",{id:"status-bar",className:"grid-in-status bg-[#22241e] flex justify-between items-center px-3 text-xs h-[1.5em] relative",children:[E.jsx("div",{className:"absolute top-0 left-0 w-full h-full pointer-events-none opacity-30",children:[...Array(5)].map((o,s)=>E.jsx("div",{className:"quantum-thread absolute w-px h-full bg-gradient-to-b from-transparent via-[#BB86FC] to-transparent",style:{left:`${20+s*15}%`,animationDelay:`${s*.3}s`}},s))}),E.jsx("div",{children:i||"No File Open"}),E.jsx("div",{children:`Cursor: ${n.cursor} | Lines: ${n.lines} | Chars: ${n.chars} | History: ${n.history}`})]}),E0=i=>E.jsx("div",{className:"text-xs text-[#999966] font-mono",children:E.jsx(vh,{...i,node:i.fileSystem,path:"",depth:0})}),vh=({node:i,path:n,depth:o,...s})=>{const r=Object.entries(i.children).sort(([f,m],[g,y])=>m.type==="folder"&&y.type==="file"?-1:m.type==="file"&&y.type==="folder"?1:f.localeCompare(g));return E.jsx("div",{children:r.map(([f,m])=>E.jsx(_0,{name:f,node:m,path:`${n}/${f}`,depth:o,...s},f))})},_0=({name:i,node:n,path:o,depth:s,onOpenFile:r,activePath:f,...m})=>{const[g,y]=U.useState(!1),[h,v]=U.useState(!1),[T,C]=U.useState(i),x=U.useRef(null);U.useEffect(()=>{h&&(x.current?.focus(),x.current?.select())},[h]);const b=()=>{T.trim()&&T.trim()!==i&&m.onRename(o,T.trim()),v(!1)},w=n.type==="folder",Y=f===o,q=({title:Q,onClick:V,children:j})=>E.jsx("button",{title:Q,onClick:te=>{te.stopPropagation(),V()},className:"w-5 h-5 flex items-center justify-center rounded hover:bg-white/20 text-gray-400 hover:text-white",children:j});return E.jsxs("div",{children:[E.jsxs("div",{onClick:()=>w?y(!g):r(o),className:`flex items-center justify-between group p-1 rounded cursor-pointer ${Y?"bg-[#4ac94a]/30":"hover:bg-white/10"}`,style:{paddingLeft:`${s*12+4}px`},children:[E.jsxs("div",{className:"flex items-center gap-1.5 truncate",children:[w?E.jsx("span",{className:`transition-transform duration-200 ${g?"rotate-90":""}`,children:""}):E.jsx("svg",{className:"w-3 h-3 text-[#999966]",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"})}),h?E.jsx("input",{ref:x,type:"text",value:T,onChange:Q=>C(Q.target.value),onBlur:b,onKeyDown:Q=>Q.key==="Enter"&&b(),onClick:Q=>Q.stopPropagation(),className:"bg-[#22241e] text-white p-0 m-0 border border-[#999966] rounded h-5 text-xs w-full",style:{fontFamily:"Fira Code, monospace"}}):E.jsx("span",{className:"truncate",children:i})]}),!h&&E.jsxs("div",{className:"flex items-center gap-0.5 opacity-0 group-hover:opacity-100 transition-opacity",children:[!w&&E.jsx(q,{title:"Open File",onClick:()=>r(o),children:E.jsxs("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:[E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})}),w&&E.jsxs(E.Fragment,{children:[E.jsx(q,{title:"New File",onClick:()=>m.onCreateFile(o),children:E.jsxs("svg",{className:"w-3 h-3",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[E.jsx("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),E.jsx("polyline",{points:"14 2 14 8 20 8"}),E.jsx("line",{x1:"12",y1:"18",x2:"12",y2:"12"}),E.jsx("line",{x1:"9",y1:"15",x2:"15",y2:"15"})]})}),E.jsx(q,{title:"New Folder",onClick:()=>m.onCreateFolder(o),children:E.jsxs("svg",{className:"w-3 h-3",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[E.jsx("path",{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h5l2 3h9a2 2 0 0 1 2 2z"}),E.jsx("line",{x1:"12",y1:"10",x2:"12",y2:"16"}),E.jsx("line",{x1:"9",y1:"13",x2:"15",y2:"13"})]})})]}),E.jsx(q,{title:"Rename",onClick:()=>v(!0),children:E.jsxs("svg",{className:"w-3 h-3",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[E.jsx("path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}),E.jsx("path",{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"})]})}),E.jsx(q,{title:"Delete",onClick:()=>m.onDelete(o),children:E.jsxs("svg",{className:"w-3 h-3",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[E.jsx("polyline",{points:"3 6 5 6 21 6"}),E.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}),E.jsx("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),E.jsx("line",{x1:"14",y1:"11",x2:"14",y2:"17"})]})})]})]}),w&&g&&E.jsx(vh,{node:n,path:o,depth:s+1,...m,onOpenFile:r,activePath:f})]})},Hi=({title:i,children:n,defaultOpen:o=!1})=>{const[s,r]=U.useState(o);return E.jsxs("div",{className:"text-xs text-[#999966] border-b border-[#22241e]",children:[E.jsxs("button",{onClick:()=>r(f=>!f),className:"font-bold w-full text-left flex justify-between items-center p-2 rounded hover:bg-white/5",children:[E.jsx("span",{children:i}),E.jsx("span",{className:`transition-transform duration-200 ${s?"rotate-90":""}`,children:""})]}),s&&E.jsx("div",{className:"p-2 pt-0",children:n})]})},x0=i=>{const{isOpen:n,settings:o,onSettingsChange:s,onUndo:r,onRedo:f,onQuickAction:m,onAnalyzeSelection:g,onRunOrchestrator:y,history:h,historyIndex:v,onRevertToState:T,editorFontSize:C,onFontSizeChange:x,onSaveDraft:b,onLoadDraft:w,onCodeReview:Y,onFixCode:q,onGenerateCode:Q,fileSystem:V,activePath:j,onOpenFile:te,onCreateFile:ie,onCreateFolder:X,onRename:le,onDelete:ee,codeSnippets:W,onAddSnippet:ge,onUpdateSnippet:ce,onDeleteSnippet:Ue,onInsertSnippet:ht}=i,Xe=v>0,G=v<h.length-1;return E.jsxs("aside",{className:`bg-[#313328] border-r border-[#22241e] flex flex-col w-60 transition-all duration-300 overflow-y-auto ${n?"ml-0":"-ml-60"}`,children:[E.jsx(Hi,{title:"File Explorer",defaultOpen:!0,children:E.jsx(E0,{fileSystem:V,activePath:j,onOpenFile:te,onCreateFile:ie,onCreateFolder:X,onRename:le,onDelete:ee})}),E.jsx(Hi,{title:"Quantum Actions",children:E.jsxs("div",{className:"flex flex-col gap-1 pt-1",children:[E.jsx("button",{onClick:r,disabled:!Xe,className:`bg-[#a03333] text-white text-xs w-full text-left p-1.5 rounded transition-colors ${Xe?"hover:bg-[#3366a0]":"opacity-50 cursor-not-allowed"}`,children:"UNDO"}),E.jsx("button",{onClick:f,disabled:!G,className:`bg-[#a03333] text-white text-xs w-full text-left p-1.5 rounded transition-colors ${G?"hover:bg-[#3366a0]":"opacity-50 cursor-not-allowed"}`,children:"REDO"}),E.jsx("button",{onClick:Q,className:"bg-[#BB86FC] hover:bg-[#a082f0] text-white text-xs w-full text-left mt-2 p-1.5 rounded",children:"AI Generate Code"}),E.jsx("button",{onClick:q,className:"bg-[#673AB7] hover:bg-[#855CCB] text-white text-xs w-full text-left p-1.5 rounded",children:"AI Fix Code"}),E.jsx("button",{onClick:()=>m("optimize"),className:"bg-[#a03333] hover:bg-[#3366a0] text-white text-xs w-full text-left p-1.5 rounded",children:"Quantum Optimize"}),E.jsx("button",{onClick:()=>m("document"),className:"bg-[#a03333] hover:bg-[#3366a0] text-white text-xs w-full text-left p-1.5 rounded",children:"Fractal Document"}),E.jsx("button",{onClick:()=>m("refactor"),className:"bg-[#a03333] hover:bg-[#3366a0] text-white text-xs w-full text-left p-1.5 rounded",children:"Hyper Refactor"}),E.jsx("button",{onClick:Y,className:"bg-[#a033a0] hover:bg-[#6c236c] text-white text-xs w-full text-left p-1.5 rounded",children:"AI Code Review"}),E.jsx("button",{onClick:g,className:"bg-[#5bc0de] hover:bg-cyan-400 text-white text-xs w-full text-left p-1.5 rounded",children:"Analyze Selection"}),E.jsx("button",{onClick:y,className:"bg-[#4ac94a] hover:bg-green-400 text-white text-xs w-full text-left p-1.5 rounded",children:"Multi-Agent Consensus"})]})}),E.jsx(Hi,{title:"Local Drafts",children:E.jsxs("div",{className:"flex flex-col gap-1 pt-1",children:[E.jsx("button",{onClick:b,className:"bg-[#f0ad4e] hover:bg-yellow-400 text-white text-xs w-full text-left p-1.5 rounded",children:"Save Draft"}),E.jsx("button",{onClick:w,className:"bg-[#f0ad4e] hover:bg-yellow-400 text-white text-xs w-full text-left p-1.5 rounded",children:"Load Draft"})]})}),E.jsx(Hi,{title:"Code Snippets",children:E.jsx(S0,{snippets:W,onAddSnippet:ge,onUpdateSnippet:ce,onDeleteSnippet:Ue,onInsertSnippet:ht,editorFontSize:C})}),E.jsx(Hi,{title:"Orchestrator Settings",children:E.jsxs("div",{className:"pt-1",children:[E.jsxs("div",{className:"mt-1",children:[E.jsx("label",{htmlFor:"agent-count",children:"Agent Count:"}),E.jsx("input",{type:"number",id:"agent-count",min:"2",max:"8",value:o.agentCount,onChange:J=>s({...o,agentCount:parseInt(J.target.value)}),className:"w-16 ml-2 bg-[#22241e] text-white border border-[#999966] p-0.5 rounded",style:{fontFamily:"Fira Code, monospace"}})]}),E.jsxs("div",{className:"mt-1",children:[E.jsx("label",{htmlFor:"max-rounds",children:"Max Rounds:"}),E.jsx("input",{type:"number",id:"max-rounds",min:"1",max:"10",value:o.maxRounds,onChange:J=>s({...o,maxRounds:parseInt(J.target.value)}),className:"w-16 ml-2 bg-[#22241e] text-white border border-[#999966] p-0.5 rounded",style:{fontFamily:"Fira Code, monospace"}})]})]})}),E.jsx(Hi,{title:"Editor Settings",children:E.jsx("div",{className:"pt-1",children:E.jsxs("div",{className:"mt-1 flex items-center justify-between",children:[E.jsx("label",{htmlFor:"font-size",children:"Font Size (px):"}),E.jsx("input",{type:"number",id:"font-size",min:"8",max:"24",value:C,onChange:J=>x(parseInt(J.target.value,10)),className:"w-16 ml-2 bg-[#22241e] text-white border border-[#999966] p-0.5 rounded",style:{fontFamily:"Fira Code, monospace"}})]})})}),E.jsx(Hi,{title:"Editor History",children:E.jsx("div",{className:"max-h-48 overflow-y-auto pr-1 border-l-2 border-gray-700 pl-2",children:h.map((J,ue)=>E.jsxs("button",{onClick:()=>T(ue),title:J,className:`w-full text-left p-1 rounded text-xs mt-1 truncate transition-colors ${v===ue?"bg-[#4ac94a]/30 text-white font-semibold":"bg-[#22241e]/50 hover:bg-[#a03333]"}`,style:{fontFamily:"Fira Code, monospace"},children:["State ",ue+1,": ",J.substring(0,30).replace(/\s+/g," "),"..."]},ue)).reverse()})})]})},A0=i=>E.jsxs("footer",{className:"grid-in-footer flex items-center justify-between px-3 py-1.5 bg-[#2e3026] border-t border-[#22241e]",children:[E.jsx("div",{}),E.jsx("button",{onClick:i.onInvoke,className:"bg-[#4ac94a] hover:bg-green-400 text-white font-bold px-8 py-2.5 rounded transition-colors disabled:bg-gray-500 text-lg quantum-pulse",disabled:i.isLoading,children:i.isLoading?"Processing...":"Invoke Quantum AI..."}),E.jsx("button",{onClick:i.onToggleTerminal,className:"bg-gray-700 hover:bg-gray-600 text-white text-xs px-3 py-1.5 rounded transition-colors",children:"Terminal"})]}),N0=({htmlContent:i,onClose:n})=>{const[o,s]=U.useState({x:0,y:0}),[r,f]=U.useState({width:0,height:0}),[m,g]=U.useState(!1),[y,h]=U.useState(!1),v=U.useRef(null);U.useEffect(()=>{const x=window.innerWidth*.92,b=window.innerHeight*.88;f({width:x,height:b}),s({x:(window.innerWidth-x)/2,y:(window.innerHeight-b)/2})},[]);const T=x=>{if(y)return;g(!0);const b=v.current;if(b){const w=x.clientX-b.offsetLeft,Y=x.clientY-b.offsetTop,q=V=>{s({x:V.clientX-w,y:V.clientY-Y})},Q=()=>{window.removeEventListener("mousemove",q),window.removeEventListener("mouseup",Q),g(!1)};window.addEventListener("mousemove",q),window.removeEventListener("mouseup",Q)}},C=x=>{x.stopPropagation(),h(!0);const b=v.current;if(b){const w=b.offsetWidth,Y=b.offsetHeight,q=x.clientX,Q=x.clientY,V=te=>{const ie=te.clientX-q,X=te.clientY-Q;f({width:Math.max(300,w+ie),height:Math.max(200,Y+X)})},j=()=>{window.removeEventListener("mousemove",V),window.removeEventListener("mouseup",j),h(!1)};window.addEventListener("mousemove",V),window.removeEventListener("mouseup",j)}};return E.jsxs("div",{ref:v,style:{position:"fixed",left:`${o.x}px`,top:`${o.y}px`,width:`${r.width}px`,height:`${r.height}px`,zIndex:100},className:"flex flex-col bg-white border-2 border-[#4ac94a] shadow-2xl rounded-lg overflow-hidden",children:[E.jsxs("div",{onMouseDown:T,className:"bg-[#2e3026] text-[#f0f0e0] p-2 flex justify-between items-center border-b border-[#4ac94a] flex-shrink-0 cursor-move",children:[E.jsx("span",{className:"font-bold",children:"Live Preview"}),E.jsx("button",{onClick:n,className:"text-xl leading-none text-gray-400 hover:text-white transition-colors cursor-pointer",children:""})]}),E.jsx("iframe",{srcDoc:i,title:"Preview",className:"w-full h-full border-none",sandbox:"allow-scripts"}),E.jsx("div",{onMouseDown:C,className:"absolute bottom-0 right-0 w-4 h-4 cursor-se-resize",style:{zIndex:101}})]})},M0=({content:i})=>{const n=/```(\w+)?\n([\s\S]+?)```/g,o=[];let s=0,r;for(;(r=n.exec(i))!==null;){r.index>s&&o.push({type:"text",content:i.substring(s,r.index)});const f=r[1]||"plaintext",m=r[2];o.push({type:"code",language:f,content:m}),s=n.lastIndex}return s<i.length&&o.push({type:"text",content:i.substring(s)}),o.length===0&&o.push({type:"text",content:i}),E.jsx(E.Fragment,{children:o.map((f,m)=>f.type==="code"?E.jsx("pre",{className:"bg-black/30 rounded p-2 my-1 overflow-x-auto text-xs",children:E.jsx("code",{dangerouslySetInnerHTML:{__html:Uo(f.content,f.language)}})},m):E.jsx("span",{dangerouslySetInnerHTML:{__html:zi(f.content).replace(/\n/g,"<br/>")}},m))})},R0=({isOpen:i,onClose:n,history:o,onSubmit:s})=>{const[r,f]=U.useState(""),[m,g]=U.useState([]),[y,h]=U.useState(-1),v=U.useRef(null),T=U.useRef(null);U.useEffect(()=>{v.current?.scrollIntoView({behavior:"smooth"})},[o]),U.useEffect(()=>{i&&T.current?.focus()},[i]);const C=w=>{w.preventDefault(),r.trim()&&(s(r.trim()),g(Y=>[r.trim(),...Y]),h(-1),f(""))},x=w=>{if(w.key==="ArrowUp"){if(w.preventDefault(),y<m.length-1){const Y=y+1;h(Y),f(m[Y])}}else if(w.key==="ArrowDown")if(w.preventDefault(),y>0){const Y=y-1;h(Y),f(m[Y])}else h(-1),f("")},b={input:"text-cyan-400",output:"text-slate-300 whitespace-pre-wrap",error:"text-red-500",system:"text-yellow-500",help:"text-slate-400 whitespace-pre-wrap"};return E.jsx("div",{className:`fixed bottom-0 left-0 right-0 h-1/2 bg-[#22241e]/95 backdrop-blur-md border-t-2 border-[#4ac94a] shadow-2xl z-50 transform transition-transform duration-300 ease-in-out ${i?"translate-y-0":"translate-y-full"}`,children:E.jsxs("div",{className:"flex flex-col h-full",children:[E.jsxs("div",{className:"p-2 flex justify-between items-center border-b border-gray-700 flex-shrink-0",children:[E.jsx("h3",{className:"font-bold text-sm text-[#f0f0e0]",children:"Quantum Terminal"}),E.jsx("button",{onClick:n,className:"text-xl text-gray-500 hover:text-white",children:""})]}),E.jsxs("div",{className:"flex-1 overflow-y-auto p-3 text-sm font-mono",onClick:()=>T.current?.focus(),children:[o.map((w,Y)=>E.jsxs("div",{className:"flex gap-2",children:[E.jsx("span",{className:"text-gray-600 select-none",children:w.type==="input"?"QF>":"..."}),E.jsx("div",{className:`${b[w.type]}`,children:w.type==="output"?E.jsx(M0,{content:w.content}):w.content})]},Y)),E.jsx("div",{ref:v})]}),E.jsx("form",{onSubmit:C,className:"p-2 border-t border-gray-700 flex-shrink-0",children:E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("span",{className:"text-cyan-400 font-mono text-sm select-none",children:"QF>"}),E.jsx("input",{ref:T,type:"text",value:r,onChange:w=>f(w.target.value),onKeyDown:x,className:"w-full bg-transparent text-slate-300 font-mono text-sm focus:outline-none",placeholder:"Type a command...",spellCheck:"false",style:{fontFamily:"Fira Code, monospace"}})]})})]})})};let b0,w0;function D0(){return{geminiUrl:b0,vertexUrl:w0}}function I0(i,n,o,s){var r,f;if(!i?.baseUrl){const m=D0();return n?(r=m.vertexUrl)!==null&&r!==void 0?r:o:(f=m.geminiUrl)!==null&&f!==void 0?f:s}return i.baseUrl}class Fn{}function ne(i,n){const o=/\{([^}]+)\}/g;return i.replace(o,(s,r)=>{if(Object.prototype.hasOwnProperty.call(n,r)){const f=n[r];return f!=null?String(f):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function c(i,n,o){for(let f=0;f<n.length-1;f++){const m=n[f];if(m.endsWith("[]")){const g=m.slice(0,-2);if(!(g in i))if(Array.isArray(o))i[g]=Array.from({length:o.length},()=>({}));else throw new Error(`Value must be a list given an array path ${m}`);if(Array.isArray(i[g])){const y=i[g];if(Array.isArray(o))for(let h=0;h<y.length;h++){const v=y[h];c(v,n.slice(f+1),o[h])}else for(const h of y)c(h,n.slice(f+1),o)}return}else if(m.endsWith("[0]")){const g=m.slice(0,-3);g in i||(i[g]=[{}]);const y=i[g];c(y[0],n.slice(f+1),o);return}(!i[m]||typeof i[m]!="object")&&(i[m]={}),i=i[m]}const s=n[n.length-1],r=i[s];if(r!==void 0){if(!o||typeof o=="object"&&Object.keys(o).length===0||o===r)return;if(typeof r=="object"&&typeof o=="object"&&r!==null&&o!==null)Object.assign(r,o);else throw new Error(`Cannot set value for an existing key. Key: ${s}`)}else s==="_self"&&typeof o=="object"&&o!==null&&!Array.isArray(o)?Object.assign(i,o):i[s]=o}function u(i,n,o=void 0){try{if(n.length===1&&n[0]==="_self")return i;for(let s=0;s<n.length;s++){if(typeof i!="object"||i===null)return o;const r=n[s];if(r.endsWith("[]")){const f=r.slice(0,-2);if(f in i){const m=i[f];return Array.isArray(m)?m.map(g=>u(g,n.slice(s+1),o)):o}else return o}else i=i[r]}return i}catch(s){if(s instanceof TypeError)return o;throw s}}function U0(i,n){for(const[o,s]of Object.entries(n)){const r=o.split("."),f=s.split("."),m=new Set;let g=-1;for(let y=0;y<r.length;y++)if(r[y]==="*"){g=y;break}if(g!==-1&&f.length>g)for(let y=g;y<f.length;y++){const h=f[y];h!=="*"&&!h.endsWith("[]")&&!h.endsWith("[0]")&&m.add(h)}_u(i,r,f,0,m)}}function _u(i,n,o,s,r){if(s>=n.length||typeof i!="object"||i===null)return;const f=n[s];if(f.endsWith("[]")){const m=f.slice(0,-2),g=i;if(m in g&&Array.isArray(g[m]))for(const y of g[m])_u(y,n,o,s+1,r)}else if(f==="*"){if(typeof i=="object"&&i!==null&&!Array.isArray(i)){const m=i,g=Object.keys(m).filter(h=>!h.startsWith("_")&&!r.has(h)),y={};for(const h of g)y[h]=m[h];for(const[h,v]of Object.entries(y)){const T=[];for(const C of o.slice(s))C==="*"?T.push(h):T.push(C);c(m,T,v)}for(const h of g)delete m[h]}}else{const m=i;f in m&&_u(m[f],n,o,s+1,r)}}function Uu(i){if(typeof i!="string")throw new Error("fromImageBytes must be a string");return i}function L0(i){const n={},o=u(i,["operationName"]);o!=null&&c(n,["operationName"],o);const s=u(i,["resourceName"]);return s!=null&&c(n,["_url","resourceName"],s),n}function q0(i){const n={},o=u(i,["name"]);o!=null&&c(n,["name"],o);const s=u(i,["metadata"]);s!=null&&c(n,["metadata"],s);const r=u(i,["done"]);r!=null&&c(n,["done"],r);const f=u(i,["error"]);f!=null&&c(n,["error"],f);const m=u(i,["response","generateVideoResponse"]);return m!=null&&c(n,["response"],H0(m)),n}function G0(i){const n={},o=u(i,["name"]);o!=null&&c(n,["name"],o);const s=u(i,["metadata"]);s!=null&&c(n,["metadata"],s);const r=u(i,["done"]);r!=null&&c(n,["done"],r);const f=u(i,["error"]);f!=null&&c(n,["error"],f);const m=u(i,["response"]);return m!=null&&c(n,["response"],z0(m)),n}function H0(i){const n={},o=u(i,["generatedSamples"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(m=>k0(m))),c(n,["generatedVideos"],f)}const s=u(i,["raiMediaFilteredCount"]);s!=null&&c(n,["raiMediaFilteredCount"],s);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&c(n,["raiMediaFilteredReasons"],r),n}function z0(i){const n={},o=u(i,["videos"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(m=>P0(m))),c(n,["generatedVideos"],f)}const s=u(i,["raiMediaFilteredCount"]);s!=null&&c(n,["raiMediaFilteredCount"],s);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&c(n,["raiMediaFilteredReasons"],r),n}function k0(i){const n={},o=u(i,["video"]);return o!=null&&c(n,["video"],J0(o)),n}function P0(i){const n={},o=u(i,["_self"]);return o!=null&&c(n,["video"],Q0(o)),n}function V0(i){const n={},o=u(i,["operationName"]);return o!=null&&c(n,["_url","operationName"],o),n}function B0(i){const n={},o=u(i,["operationName"]);return o!=null&&c(n,["_url","operationName"],o),n}function F0(i){const n={},o=u(i,["name"]);o!=null&&c(n,["name"],o);const s=u(i,["metadata"]);s!=null&&c(n,["metadata"],s);const r=u(i,["done"]);r!=null&&c(n,["done"],r);const f=u(i,["error"]);f!=null&&c(n,["error"],f);const m=u(i,["response"]);return m!=null&&c(n,["response"],O0(m)),n}function O0(i){const n={},o=u(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=u(i,["parent"]);s!=null&&c(n,["parent"],s);const r=u(i,["documentName"]);return r!=null&&c(n,["documentName"],r),n}function Sh(i){const n={},o=u(i,["name"]);o!=null&&c(n,["name"],o);const s=u(i,["metadata"]);s!=null&&c(n,["metadata"],s);const r=u(i,["done"]);r!=null&&c(n,["done"],r);const f=u(i,["error"]);f!=null&&c(n,["error"],f);const m=u(i,["response"]);return m!=null&&c(n,["response"],Y0(m)),n}function Y0(i){const n={},o=u(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=u(i,["parent"]);s!=null&&c(n,["parent"],s);const r=u(i,["documentName"]);return r!=null&&c(n,["documentName"],r),n}function J0(i){const n={},o=u(i,["uri"]);o!=null&&c(n,["uri"],o);const s=u(i,["encodedVideo"]);s!=null&&c(n,["videoBytes"],Uu(s));const r=u(i,["encoding"]);return r!=null&&c(n,["mimeType"],r),n}function Q0(i){const n={},o=u(i,["gcsUri"]);o!=null&&c(n,["uri"],o);const s=u(i,["bytesBase64Encoded"]);s!=null&&c(n,["videoBytes"],Uu(s));const r=u(i,["mimeType"]);return r!=null&&c(n,["mimeType"],r),n}var Bp;(function(i){i.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",i.OUTCOME_OK="OUTCOME_OK",i.OUTCOME_FAILED="OUTCOME_FAILED",i.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Bp||(Bp={}));var Fp;(function(i){i.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",i.PYTHON="PYTHON"})(Fp||(Fp={}));var Op;(function(i){i.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",i.SILENT="SILENT",i.WHEN_IDLE="WHEN_IDLE",i.INTERRUPT="INTERRUPT"})(Op||(Op={}));var yt;(function(i){i.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",i.STRING="STRING",i.NUMBER="NUMBER",i.INTEGER="INTEGER",i.BOOLEAN="BOOLEAN",i.ARRAY="ARRAY",i.OBJECT="OBJECT",i.NULL="NULL"})(yt||(yt={}));var Yp;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.MODE_DYNAMIC="MODE_DYNAMIC"})(Yp||(Yp={}));var Jp;(function(i){i.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",i.SIMPLE_SEARCH="SIMPLE_SEARCH",i.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Jp||(Jp={}));var Qp;(function(i){i.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",i.NO_AUTH="NO_AUTH",i.API_KEY_AUTH="API_KEY_AUTH",i.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",i.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",i.OAUTH="OAUTH",i.OIDC_AUTH="OIDC_AUTH"})(Qp||(Qp={}));var Kp;(function(i){i.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",i.HTTP_IN_QUERY="HTTP_IN_QUERY",i.HTTP_IN_HEADER="HTTP_IN_HEADER",i.HTTP_IN_PATH="HTTP_IN_PATH",i.HTTP_IN_BODY="HTTP_IN_BODY",i.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(Kp||(Kp={}));var Xp;(function(i){i.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",i.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",i.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",i.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(Xp||(Xp={}));var Zp;(function(i){i.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",i.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",i.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",i.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",i.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",i.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",i.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",i.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",i.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Zp||(Zp={}));var $p;(function(i){i.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",i.SEVERITY="SEVERITY",i.PROBABILITY="PROBABILITY"})($p||($p={}));var Wp;(function(i){i.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE",i.OFF="OFF"})(Wp||(Wp={}));var jp;(function(i){i.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",i.STOP="STOP",i.MAX_TOKENS="MAX_TOKENS",i.SAFETY="SAFETY",i.RECITATION="RECITATION",i.LANGUAGE="LANGUAGE",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.SPII="SPII",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.IMAGE_SAFETY="IMAGE_SAFETY",i.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",i.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",i.NO_IMAGE="NO_IMAGE"})(jp||(jp={}));var em;(function(i){i.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",i.NEGLIGIBLE="NEGLIGIBLE",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH"})(em||(em={}));var tm;(function(i){i.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",i.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",i.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",i.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",i.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(tm||(tm={}));var nm;(function(i){i.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",i.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",i.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",i.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",i.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(nm||(nm={}));var im;(function(i){i.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",i.SAFETY="SAFETY",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.IMAGE_SAFETY="IMAGE_SAFETY",i.MODEL_ARMOR="MODEL_ARMOR",i.JAILBREAK="JAILBREAK"})(im||(im={}));var lm;(function(i){i.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",i.ON_DEMAND="ON_DEMAND",i.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(lm||(lm={}));var Ws;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.AUDIO="AUDIO"})(Ws||(Ws={}));var om;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(om||(om={}));var sm;(function(i){i.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",i.TUNING_MODE_FULL="TUNING_MODE_FULL",i.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(sm||(sm={}));var am;(function(i){i.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",i.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",i.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",i.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",i.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",i.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",i.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(am||(am={}));var xu;(function(i){i.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",i.JOB_STATE_QUEUED="JOB_STATE_QUEUED",i.JOB_STATE_PENDING="JOB_STATE_PENDING",i.JOB_STATE_RUNNING="JOB_STATE_RUNNING",i.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",i.JOB_STATE_FAILED="JOB_STATE_FAILED",i.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",i.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",i.JOB_STATE_PAUSED="JOB_STATE_PAUSED",i.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",i.JOB_STATE_UPDATING="JOB_STATE_UPDATING",i.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(xu||(xu={}));var rm;(function(i){i.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",i.TUNING_TASK_I2V="TUNING_TASK_I2V",i.TUNING_TASK_T2V="TUNING_TASK_T2V",i.TUNING_TASK_R2V="TUNING_TASK_R2V"})(rm||(rm={}));var um;(function(i){i.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",i.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",i.BALANCED="BALANCED",i.PRIORITIZE_COST="PRIORITIZE_COST"})(um||(um={}));var cm;(function(i){i.UNSPECIFIED="UNSPECIFIED",i.BLOCKING="BLOCKING",i.NON_BLOCKING="NON_BLOCKING"})(cm||(cm={}));var fm;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.MODE_DYNAMIC="MODE_DYNAMIC"})(fm||(fm={}));var dm;(function(i){i.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",i.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(dm||(dm={}));var pm;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.AUTO="AUTO",i.ANY="ANY",i.NONE="NONE",i.VALIDATED="VALIDATED"})(pm||(pm={}));var mm;(function(i){i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE"})(mm||(mm={}));var hm;(function(i){i.DONT_ALLOW="DONT_ALLOW",i.ALLOW_ADULT="ALLOW_ADULT",i.ALLOW_ALL="ALLOW_ALL"})(hm||(hm={}));var gm;(function(i){i.auto="auto",i.en="en",i.ja="ja",i.ko="ko",i.hi="hi",i.zh="zh",i.pt="pt",i.es="es"})(gm||(gm={}));var ym;(function(i){i.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",i.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",i.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",i.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",i.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(ym||(ym={}));var vm;(function(i){i.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",i.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",i.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",i.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(vm||(vm={}));var Sm;(function(i){i.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",i.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",i.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",i.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Sm||(Sm={}));var Tm;(function(i){i.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",i.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",i.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",i.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",i.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",i.EDIT_MODE_STYLE="EDIT_MODE_STYLE",i.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",i.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Tm||(Tm={}));var Cm;(function(i){i.FOREGROUND="FOREGROUND",i.BACKGROUND="BACKGROUND",i.PROMPT="PROMPT",i.SEMANTIC="SEMANTIC",i.INTERACTIVE="INTERACTIVE"})(Cm||(Cm={}));var Em;(function(i){i.ASSET="ASSET",i.STYLE="STYLE"})(Em||(Em={}));var _m;(function(i){i.INSERT="INSERT",i.REMOVE="REMOVE",i.REMOVE_STATIC="REMOVE_STATIC",i.OUTPAINT="OUTPAINT"})(_m||(_m={}));var xm;(function(i){i.OPTIMIZED="OPTIMIZED",i.LOSSLESS="LOSSLESS"})(xm||(xm={}));var Am;(function(i){i.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",i.PREFERENCE_TUNING="PREFERENCE_TUNING"})(Am||(Am={}));var Nm;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.STATE_PENDING="STATE_PENDING",i.STATE_ACTIVE="STATE_ACTIVE",i.STATE_FAILED="STATE_FAILED"})(Nm||(Nm={}));var Mm;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.PROCESSING="PROCESSING",i.ACTIVE="ACTIVE",i.FAILED="FAILED"})(Mm||(Mm={}));var Rm;(function(i){i.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",i.UPLOADED="UPLOADED",i.GENERATED="GENERATED"})(Rm||(Rm={}));var bm;(function(i){i.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.RESPONSE_REJECTED="RESPONSE_REJECTED",i.NEED_MORE_INPUT="NEED_MORE_INPUT"})(bm||(bm={}));var wm;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.VIDEO="VIDEO",i.AUDIO="AUDIO",i.DOCUMENT="DOCUMENT"})(wm||(wm={}));var Dm;(function(i){i.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",i.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",i.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Dm||(Dm={}));var Im;(function(i){i.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",i.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",i.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Im||(Im={}));var Um;(function(i){i.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",i.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",i.NO_INTERRUPTION="NO_INTERRUPTION"})(Um||(Um={}));var Lm;(function(i){i.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",i.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",i.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Lm||(Lm={}));var qm;(function(i){i.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",i.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",i.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",i.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",i.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",i.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",i.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",i.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",i.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",i.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",i.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",i.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",i.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(qm||(qm={}));var Gm;(function(i){i.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",i.QUALITY="QUALITY",i.DIVERSITY="DIVERSITY",i.VOCALIZATION="VOCALIZATION"})(Gm||(Gm={}));var Dl;(function(i){i.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",i.PLAY="PLAY",i.PAUSE="PAUSE",i.STOP="STOP",i.RESET_CONTEXT="RESET_CONTEXT"})(Dl||(Dl={}));class Au{constructor(n){const o={};for(const s of n.headers.entries())o[s[0]]=s[1];this.headers=o,this.responseInternal=n}json(){return this.responseInternal.json()}}class Io{get text(){var n,o,s,r,f,m,g,y;if(((r=(s=(o=(n=this.candidates)===null||n===void 0?void 0:n[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let h="",v=!1;const T=[];for(const C of(y=(g=(m=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)!==null&&y!==void 0?y:[]){for(const[x,b]of Object.entries(C))x!=="text"&&x!=="thought"&&(b!==null||b!==void 0)&&T.push(x);if(typeof C.text=="string"){if(typeof C.thought=="boolean"&&C.thought)continue;v=!0,h+=C.text}}return T.length>0&&console.warn(`there are non-text parts ${T} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),v?h:void 0}get data(){var n,o,s,r,f,m,g,y;if(((r=(s=(o=(n=this.candidates)===null||n===void 0?void 0:n[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let h="";const v=[];for(const T of(y=(g=(m=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)!==null&&y!==void 0?y:[]){for(const[C,x]of Object.entries(T))C!=="inlineData"&&(x!==null||x!==void 0)&&v.push(C);T.inlineData&&typeof T.inlineData.data=="string"&&(h+=atob(T.inlineData.data))}return v.length>0&&console.warn(`there are non-data parts ${v} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),h.length>0?btoa(h):void 0}get functionCalls(){var n,o,s,r,f,m,g,y;if(((r=(s=(o=(n=this.candidates)===null||n===void 0?void 0:n[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const h=(y=(g=(m=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(v=>v.functionCall).map(v=>v.functionCall).filter(v=>v!==void 0);if(h?.length!==0)return h}get executableCode(){var n,o,s,r,f,m,g,y,h;if(((r=(s=(o=(n=this.candidates)===null||n===void 0?void 0:n[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const v=(y=(g=(m=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(T=>T.executableCode).map(T=>T.executableCode).filter(T=>T!==void 0);if(v?.length!==0)return(h=v?.[0])===null||h===void 0?void 0:h.code}get codeExecutionResult(){var n,o,s,r,f,m,g,y,h;if(((r=(s=(o=(n=this.candidates)===null||n===void 0?void 0:n[0])===null||o===void 0?void 0:o.content)===null||s===void 0?void 0:s.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const v=(y=(g=(m=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(T=>T.codeExecutionResult).map(T=>T.codeExecutionResult).filter(T=>T!==void 0);if(v?.length!==0)return(h=v?.[0])===null||h===void 0?void 0:h.output}}class Hm{}class zm{}class K0{}class X0{}class Z0{}class $0{}class km{}class Pm{}class Vm{}class W0{}class js{_fromAPIResponse({apiResponse:n,_isVertexAI:o}){const s=new js;let r;const f=n;return o?r=G0(f):r=q0(f),Object.assign(s,r),s}}class Bm{}class Fm{}class Om{}class j0{}class ev{}class tv{}class Lu{_fromAPIResponse({apiResponse:n,_isVertexAI:o}){const s=new Lu,f=F0(n);return Object.assign(s,f),s}}class nv{}class iv{}class lv{}class Ym{}class ov{get text(){var n,o,s;let r="",f=!1;const m=[];for(const g of(s=(o=(n=this.serverContent)===null||n===void 0?void 0:n.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&s!==void 0?s:[]){for(const[y,h]of Object.entries(g))y!=="text"&&y!=="thought"&&h!==null&&m.push(y);if(typeof g.text=="string"){if(typeof g.thought=="boolean"&&g.thought)continue;f=!0,r+=g.text}}return m.length>0&&console.warn(`there are non-text parts ${m} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),f?r:void 0}get data(){var n,o,s;let r="";const f=[];for(const m of(s=(o=(n=this.serverContent)===null||n===void 0?void 0:n.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&s!==void 0?s:[]){for(const[g,y]of Object.entries(m))g!=="inlineData"&&y!==null&&f.push(g);m.inlineData&&typeof m.inlineData.data=="string"&&(r+=atob(m.inlineData.data))}return f.length>0&&console.warn(`there are non-data parts ${f} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class sv{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class qu{_fromAPIResponse({apiResponse:n,_isVertexAI:o}){const s=new qu,f=Sh(n);return Object.assign(s,f),s}}function ke(i,n){if(!n||typeof n!="string")throw new Error("model is required and must be a string");if(i.isVertexAI()){if(n.startsWith("publishers/")||n.startsWith("projects/")||n.startsWith("models/"))return n;if(n.indexOf("/")>=0){const o=n.split("/",2);return`publishers/${o[0]}/models/${o[1]}`}else return`publishers/google/models/${n}`}else return n.startsWith("models/")||n.startsWith("tunedModels/")?n:`models/${n}`}function Th(i,n){const o=ke(i,n);return o?o.startsWith("publishers/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/${o}`:o.startsWith("models/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/publishers/google/${o}`:o:""}function Ch(i){return Array.isArray(i)?i.map(n=>ea(n)):[ea(i)]}function ea(i){if(typeof i=="object"&&i!==null)return i;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof i}`)}function Eh(i){const n=ea(i);if(n.mimeType&&n.mimeType.startsWith("image/"))return n;throw new Error(`Unsupported mime type: ${n.mimeType}`)}function _h(i){const n=ea(i);if(n.mimeType&&n.mimeType.startsWith("audio/"))return n;throw new Error(`Unsupported mime type: ${n.mimeType}`)}function Jm(i){if(i==null)throw new Error("PartUnion is required");if(typeof i=="object")return i;if(typeof i=="string")return{text:i};throw new Error(`Unsupported part type: ${typeof i}`)}function xh(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("PartListUnion is required");return Array.isArray(i)?i.map(n=>Jm(n)):[Jm(i)]}function Nu(i){return i!=null&&typeof i=="object"&&"parts"in i&&Array.isArray(i.parts)}function Qm(i){return i!=null&&typeof i=="object"&&"functionCall"in i}function Km(i){return i!=null&&typeof i=="object"&&"functionResponse"in i}function bt(i){if(i==null)throw new Error("ContentUnion is required");return Nu(i)?i:{role:"user",parts:xh(i)}}function Gu(i,n){if(!n)return[];if(i.isVertexAI()&&Array.isArray(n))return n.flatMap(o=>{const s=bt(o);return s.parts&&s.parts.length>0&&s.parts[0].text!==void 0?[s.parts[0].text]:[]});if(i.isVertexAI()){const o=bt(n);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]}return Array.isArray(n)?n.map(o=>bt(o)):[bt(n)]}function an(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("contents are required");if(!Array.isArray(i)){if(Qm(i)||Km(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[bt(i)]}const n=[],o=[],s=Nu(i[0]);for(const r of i){const f=Nu(r);if(f!=s)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(f)n.push(r);else{if(Qm(r)||Km(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");o.push(r)}}return s||n.push({role:"user",parts:xh(o)}),n}function av(i,n){i.includes("null")&&(n.nullable=!0);const o=i.filter(s=>s!=="null");if(o.length===1)n.type=Object.values(yt).includes(o[0].toUpperCase())?o[0].toUpperCase():yt.TYPE_UNSPECIFIED;else{n.anyOf=[];for(const s of o)n.anyOf.push({type:Object.values(yt).includes(s.toUpperCase())?s.toUpperCase():yt.TYPE_UNSPECIFIED})}}function Ul(i){const n={},o=["items"],s=["anyOf"],r=["properties"];if(i.type&&i.anyOf)throw new Error("type and anyOf cannot be both populated.");const f=i.anyOf;f!=null&&f.length==2&&(f[0].type==="null"?(n.nullable=!0,i=f[1]):f[1].type==="null"&&(n.nullable=!0,i=f[0])),i.type instanceof Array&&av(i.type,n);for(const[m,g]of Object.entries(i))if(g!=null)if(m=="type"){if(g==="null")throw new Error("type: null can not be the only possible type for the field.");if(g instanceof Array)continue;n.type=Object.values(yt).includes(g.toUpperCase())?g.toUpperCase():yt.TYPE_UNSPECIFIED}else if(o.includes(m))n[m]=Ul(g);else if(s.includes(m)){const y=[];for(const h of g){if(h.type=="null"){n.nullable=!0;continue}y.push(Ul(h))}n[m]=y}else if(r.includes(m)){const y={};for(const[h,v]of Object.entries(g))y[h]=Ul(v);n[m]=y}else{if(m==="additionalProperties")continue;n[m]=g}return n}function Hu(i){return Ul(i)}function zu(i){if(typeof i=="object")return i;if(typeof i=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:i}}};throw new Error(`Unsupported speechConfig type: ${typeof i}`)}function ku(i){if("multiSpeakerVoiceConfig"in i)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return i}function Gl(i){if(i.functionDeclarations)for(const n of i.functionDeclarations)n.parameters&&(Object.keys(n.parameters).includes("$schema")?n.parametersJsonSchema||(n.parametersJsonSchema=n.parameters,delete n.parameters):n.parameters=Ul(n.parameters)),n.response&&(Object.keys(n.response).includes("$schema")?n.responseJsonSchema||(n.responseJsonSchema=n.response,delete n.response):n.response=Ul(n.response));return i}function Hl(i){if(i==null)throw new Error("tools is required");if(!Array.isArray(i))throw new Error("tools is required and must be an array of Tools");const n=[];for(const o of i)n.push(o);return n}function rv(i,n,o,s=1){const r=!n.startsWith(`${o}/`)&&n.split("/").length===s;return i.isVertexAI()?n.startsWith("projects/")?n:n.startsWith("locations/")?`projects/${i.getProject()}/${n}`:n.startsWith(`${o}/`)?`projects/${i.getProject()}/locations/${i.getLocation()}/${n}`:r?`projects/${i.getProject()}/locations/${i.getLocation()}/${o}/${n}`:n:r?`${o}/${n}`:n}function On(i,n){if(typeof n!="string")throw new Error("name must be a string");return rv(i,n,"cachedContents")}function Ah(i){switch(i){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return i}}function vi(i){return Uu(i)}function uv(i){return i!=null&&typeof i=="object"&&"name"in i}function cv(i){return i!=null&&typeof i=="object"&&"video"in i}function fv(i){return i!=null&&typeof i=="object"&&"uri"in i}function Nh(i){var n;let o;if(uv(i)&&(o=i.name),!(fv(i)&&(o=i.uri,o===void 0))&&!(cv(i)&&(o=(n=i.video)===null||n===void 0?void 0:n.uri,o===void 0))){if(typeof i=="string"&&(o=i),o===void 0)throw new Error("Could not extract file name from the provided input.");if(o.startsWith("https://")){const r=o.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${o}`);o=r[0]}else o.startsWith("files/")&&(o=o.split("files/")[1]);return o}}function Mh(i,n){let o;return i.isVertexAI()?o=n?"publishers/google/models":"models":o=n?"models":"tunedModels",o}function Rh(i){for(const n of["models","tunedModels","publisherModels"])if(dv(i,n))return i[n];return[]}function dv(i,n){return i!==null&&typeof i=="object"&&n in i}function pv(i,n={}){const o=i,s={name:o.name,description:o.description,parametersJsonSchema:o.inputSchema};return o.outputSchema&&(s.responseJsonSchema=o.outputSchema),n.behavior&&(s.behavior=n.behavior),{functionDeclarations:[s]}}function mv(i,n={}){const o=[],s=new Set;for(const r of i){const f=r.name;if(s.has(f))throw new Error(`Duplicate function name ${f} found in MCP tools. Please ensure function names are unique.`);s.add(f);const m=pv(r,n);m.functionDeclarations&&o.push(...m.functionDeclarations)}return{functionDeclarations:o}}function bh(i,n){let o;if(typeof n=="string")if(i.isVertexAI())if(n.startsWith("gs://"))o={format:"jsonl",gcsUri:[n]};else if(n.startsWith("bq://"))o={format:"bigquery",bigqueryUri:n};else throw new Error(`Unsupported string source for Vertex AI: ${n}`);else if(n.startsWith("files/"))o={fileName:n};else throw new Error(`Unsupported string source for Gemini API: ${n}`);else if(Array.isArray(n)){if(i.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");o={inlinedRequests:n}}else o=n;const s=[o.gcsUri,o.bigqueryUri].filter(Boolean).length,r=[o.inlinedRequests,o.fileName].filter(Boolean).length;if(i.isVertexAI()){if(r>0||s!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(s>0||r!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return o}function hv(i){if(typeof i!="string")return i;const n=i;if(n.startsWith("gs://"))return{format:"jsonl",gcsUri:n};if(n.startsWith("bq://"))return{format:"bigquery",bigqueryUri:n};throw new Error(`Unsupported destination: ${n}`)}function wh(i){if(typeof i!="object"||i===null)return{};const n=i,o=n.inlinedResponses;if(typeof o!="object"||o===null)return i;const r=o.inlinedResponses;if(!Array.isArray(r)||r.length===0)return i;let f=!1;for(const m of r){if(typeof m!="object"||m===null)continue;const y=m.response;if(typeof y!="object"||y===null)continue;if(y.embedding!==void 0){f=!0;break}}return f&&(n.inlinedEmbedContentResponses=n.inlinedResponses,delete n.inlinedResponses),i}function zl(i,n){const o=n;if(!i.isVertexAI()){if(/batches\/[^/]+$/.test(o))return o.split("/").pop();throw new Error(`Invalid batch job name: ${o}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(o))return o.split("/").pop();if(/^\d+$/.test(o))return o;throw new Error(`Invalid batch job name: ${o}.`)}function Dh(i){const n=i;return n==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":n==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":n==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":n==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":n==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":n==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":n==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":n}function gv(i){const n={},o=u(i,["responsesFile"]);o!=null&&c(n,["fileName"],o);const s=u(i,["inlinedResponses","inlinedResponses"]);if(s!=null){let f=s;Array.isArray(f)&&(f=f.map(m=>Qv(m))),c(n,["inlinedResponses"],f)}const r=u(i,["inlinedEmbedContentResponses","inlinedResponses"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(m=>m)),c(n,["inlinedEmbedContentResponses"],f)}return n}function yv(i){const n={},o=u(i,["predictionsFormat"]);o!=null&&c(n,["format"],o);const s=u(i,["gcsDestination","outputUriPrefix"]);s!=null&&c(n,["gcsUri"],s);const r=u(i,["bigqueryDestination","outputUri"]);return r!=null&&c(n,["bigqueryUri"],r),n}function vv(i){const n={},o=u(i,["format"]);o!=null&&c(n,["predictionsFormat"],o);const s=u(i,["gcsUri"]);s!=null&&c(n,["gcsDestination","outputUriPrefix"],s);const r=u(i,["bigqueryUri"]);if(r!=null&&c(n,["bigqueryDestination","outputUri"],r),u(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(i,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(u(i,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return n}function Zs(i){const n={},o=u(i,["name"]);o!=null&&c(n,["name"],o);const s=u(i,["metadata","displayName"]);s!=null&&c(n,["displayName"],s);const r=u(i,["metadata","state"]);r!=null&&c(n,["state"],Dh(r));const f=u(i,["metadata","createTime"]);f!=null&&c(n,["createTime"],f);const m=u(i,["metadata","endTime"]);m!=null&&c(n,["endTime"],m);const g=u(i,["metadata","updateTime"]);g!=null&&c(n,["updateTime"],g);const y=u(i,["metadata","model"]);y!=null&&c(n,["model"],y);const h=u(i,["metadata","output"]);return h!=null&&c(n,["dest"],gv(wh(h))),n}function Mu(i){const n={},o=u(i,["name"]);o!=null&&c(n,["name"],o);const s=u(i,["displayName"]);s!=null&&c(n,["displayName"],s);const r=u(i,["state"]);r!=null&&c(n,["state"],Dh(r));const f=u(i,["error"]);f!=null&&c(n,["error"],f);const m=u(i,["createTime"]);m!=null&&c(n,["createTime"],m);const g=u(i,["startTime"]);g!=null&&c(n,["startTime"],g);const y=u(i,["endTime"]);y!=null&&c(n,["endTime"],y);const h=u(i,["updateTime"]);h!=null&&c(n,["updateTime"],h);const v=u(i,["model"]);v!=null&&c(n,["model"],v);const T=u(i,["inputConfig"]);T!=null&&c(n,["src"],Sv(T));const C=u(i,["outputConfig"]);C!=null&&c(n,["dest"],yv(wh(C)));const x=u(i,["completionStats"]);return x!=null&&c(n,["completionStats"],x),n}function Sv(i){const n={},o=u(i,["instancesFormat"]);o!=null&&c(n,["format"],o);const s=u(i,["gcsSource","uris"]);s!=null&&c(n,["gcsUri"],s);const r=u(i,["bigquerySource","inputUri"]);return r!=null&&c(n,["bigqueryUri"],r),n}function Tv(i,n){const o={};if(u(n,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(u(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(n,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const s=u(n,["fileName"]);s!=null&&c(o,["fileName"],s);const r=u(n,["inlinedRequests"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(m=>Jv(i,m))),c(o,["requests","requests"],f)}return o}function Cv(i){const n={},o=u(i,["format"]);o!=null&&c(n,["instancesFormat"],o);const s=u(i,["gcsUri"]);s!=null&&c(n,["gcsSource","uris"],s);const r=u(i,["bigqueryUri"]);if(r!=null&&c(n,["bigquerySource","inputUri"],r),u(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(i,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return n}function Ev(i){const n={},o=u(i,["data"]);if(o!=null&&c(n,["data"],o),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=u(i,["mimeType"]);return s!=null&&c(n,["mimeType"],s),n}function _v(i,n){const o={},s=u(n,["name"]);return s!=null&&c(o,["_url","name"],zl(i,s)),o}function xv(i,n){const o={},s=u(n,["name"]);return s!=null&&c(o,["_url","name"],zl(i,s)),o}function Av(i){const n={},o=u(i,["content"]);o!=null&&c(n,["content"],o);const s=u(i,["citationMetadata"]);s!=null&&c(n,["citationMetadata"],Nv(s));const r=u(i,["tokenCount"]);r!=null&&c(n,["tokenCount"],r);const f=u(i,["finishReason"]);f!=null&&c(n,["finishReason"],f);const m=u(i,["avgLogprobs"]);m!=null&&c(n,["avgLogprobs"],m);const g=u(i,["groundingMetadata"]);g!=null&&c(n,["groundingMetadata"],g);const y=u(i,["index"]);y!=null&&c(n,["index"],y);const h=u(i,["logprobsResult"]);h!=null&&c(n,["logprobsResult"],h);const v=u(i,["safetyRatings"]);if(v!=null){let C=v;Array.isArray(C)&&(C=C.map(x=>x)),c(n,["safetyRatings"],C)}const T=u(i,["urlContextMetadata"]);return T!=null&&c(n,["urlContextMetadata"],T),n}function Nv(i){const n={},o=u(i,["citationSources"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(r=>r)),c(n,["citations"],s)}return n}function Ih(i){const n={},o=u(i,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(f=>eS(f))),c(n,["parts"],r)}const s=u(i,["role"]);return s!=null&&c(n,["role"],s),n}function Mv(i,n){const o={},s=u(i,["displayName"]);if(n!==void 0&&s!=null&&c(n,["batch","displayName"],s),u(i,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return o}function Rv(i,n){const o={},s=u(i,["displayName"]);n!==void 0&&s!=null&&c(n,["displayName"],s);const r=u(i,["dest"]);return n!==void 0&&r!=null&&c(n,["outputConfig"],vv(hv(r))),o}function Xm(i,n){const o={},s=u(n,["model"]);s!=null&&c(o,["_url","model"],ke(i,s));const r=u(n,["src"]);r!=null&&c(o,["batch","inputConfig"],Tv(i,bh(i,r)));const f=u(n,["config"]);return f!=null&&Mv(f,o),o}function bv(i,n){const o={},s=u(n,["model"]);s!=null&&c(o,["model"],ke(i,s));const r=u(n,["src"]);r!=null&&c(o,["inputConfig"],Cv(bh(i,r)));const f=u(n,["config"]);return f!=null&&Rv(f,o),o}function wv(i,n){const o={},s=u(i,["displayName"]);return n!==void 0&&s!=null&&c(n,["batch","displayName"],s),o}function Dv(i,n){const o={},s=u(n,["model"]);s!=null&&c(o,["_url","model"],ke(i,s));const r=u(n,["src"]);r!=null&&c(o,["batch","inputConfig"],zv(i,r));const f=u(n,["config"]);return f!=null&&wv(f,o),o}function Iv(i,n){const o={},s=u(n,["name"]);return s!=null&&c(o,["_url","name"],zl(i,s)),o}function Uv(i,n){const o={},s=u(n,["name"]);return s!=null&&c(o,["_url","name"],zl(i,s)),o}function Lv(i){const n={},o=u(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=u(i,["name"]);s!=null&&c(n,["name"],s);const r=u(i,["done"]);r!=null&&c(n,["done"],r);const f=u(i,["error"]);return f!=null&&c(n,["error"],f),n}function qv(i){const n={},o=u(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=u(i,["name"]);s!=null&&c(n,["name"],s);const r=u(i,["done"]);r!=null&&c(n,["done"],r);const f=u(i,["error"]);return f!=null&&c(n,["error"],f),n}function Gv(i,n){const o={},s=u(n,["contents"]);if(s!=null){let f=Gu(i,s);Array.isArray(f)&&(f=f.map(m=>m)),c(o,["requests[]","request","content"],f)}const r=u(n,["config"]);return r!=null&&(c(o,["_self"],Hv(r,o)),U0(o,{"requests[].*":"requests[].request.*"})),o}function Hv(i,n){const o={},s=u(i,["taskType"]);n!==void 0&&s!=null&&c(n,["requests[]","taskType"],s);const r=u(i,["title"]);n!==void 0&&r!=null&&c(n,["requests[]","title"],r);const f=u(i,["outputDimensionality"]);if(n!==void 0&&f!=null&&c(n,["requests[]","outputDimensionality"],f),u(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function zv(i,n){const o={},s=u(n,["fileName"]);s!=null&&c(o,["file_name"],s);const r=u(n,["inlinedRequests"]);return r!=null&&c(o,["requests"],Gv(i,r)),o}function kv(i){const n={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(i,["fileUri"]);o!=null&&c(n,["fileUri"],o);const s=u(i,["mimeType"]);return s!=null&&c(n,["mimeType"],s),n}function Pv(i,n,o){const s={},r=u(n,["systemInstruction"]);o!==void 0&&r!=null&&c(o,["systemInstruction"],Ih(bt(r)));const f=u(n,["temperature"]);f!=null&&c(s,["temperature"],f);const m=u(n,["topP"]);m!=null&&c(s,["topP"],m);const g=u(n,["topK"]);g!=null&&c(s,["topK"],g);const y=u(n,["candidateCount"]);y!=null&&c(s,["candidateCount"],y);const h=u(n,["maxOutputTokens"]);h!=null&&c(s,["maxOutputTokens"],h);const v=u(n,["stopSequences"]);v!=null&&c(s,["stopSequences"],v);const T=u(n,["responseLogprobs"]);T!=null&&c(s,["responseLogprobs"],T);const C=u(n,["logprobs"]);C!=null&&c(s,["logprobs"],C);const x=u(n,["presencePenalty"]);x!=null&&c(s,["presencePenalty"],x);const b=u(n,["frequencyPenalty"]);b!=null&&c(s,["frequencyPenalty"],b);const w=u(n,["seed"]);w!=null&&c(s,["seed"],w);const Y=u(n,["responseMimeType"]);Y!=null&&c(s,["responseMimeType"],Y);const q=u(n,["responseSchema"]);q!=null&&c(s,["responseSchema"],Hu(q));const Q=u(n,["responseJsonSchema"]);if(Q!=null&&c(s,["responseJsonSchema"],Q),u(n,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(n,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const V=u(n,["safetySettings"]);if(o!==void 0&&V!=null){let ce=V;Array.isArray(ce)&&(ce=ce.map(Ue=>tS(Ue))),c(o,["safetySettings"],ce)}const j=u(n,["tools"]);if(o!==void 0&&j!=null){let ce=Hl(j);Array.isArray(ce)&&(ce=ce.map(Ue=>nS(Gl(Ue)))),c(o,["tools"],ce)}const te=u(n,["toolConfig"]);if(o!==void 0&&te!=null&&c(o,["toolConfig"],te),u(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const ie=u(n,["cachedContent"]);o!==void 0&&ie!=null&&c(o,["cachedContent"],On(i,ie));const X=u(n,["responseModalities"]);X!=null&&c(s,["responseModalities"],X);const le=u(n,["mediaResolution"]);le!=null&&c(s,["mediaResolution"],le);const ee=u(n,["speechConfig"]);if(ee!=null&&c(s,["speechConfig"],zu(ee)),u(n,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const W=u(n,["thinkingConfig"]);W!=null&&c(s,["thinkingConfig"],W);const ge=u(n,["imageConfig"]);return ge!=null&&c(s,["imageConfig"],ge),s}function Vv(i){const n={},o=u(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=u(i,["candidates"]);if(s!=null){let y=s;Array.isArray(y)&&(y=y.map(h=>Av(h))),c(n,["candidates"],y)}const r=u(i,["modelVersion"]);r!=null&&c(n,["modelVersion"],r);const f=u(i,["promptFeedback"]);f!=null&&c(n,["promptFeedback"],f);const m=u(i,["responseId"]);m!=null&&c(n,["responseId"],m);const g=u(i,["usageMetadata"]);return g!=null&&c(n,["usageMetadata"],g),n}function Bv(i,n){const o={},s=u(n,["name"]);return s!=null&&c(o,["_url","name"],zl(i,s)),o}function Fv(i,n){const o={},s=u(n,["name"]);return s!=null&&c(o,["_url","name"],zl(i,s)),o}function Ov(i){const n={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(i,["enableWidget"]);return o!=null&&c(n,["enableWidget"],o),n}function Yv(i){const n={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(i,["timeRangeFilter"]);return o!=null&&c(n,["timeRangeFilter"],o),n}function Jv(i,n){const o={},s=u(n,["model"]);s!=null&&c(o,["request","model"],ke(i,s));const r=u(n,["contents"]);if(r!=null){let g=an(r);Array.isArray(g)&&(g=g.map(y=>Ih(y))),c(o,["request","contents"],g)}const f=u(n,["metadata"]);f!=null&&c(o,["metadata"],f);const m=u(n,["config"]);return m!=null&&c(o,["request","generationConfig"],Pv(i,m,u(o,["request"],{}))),o}function Qv(i){const n={},o=u(i,["response"]);o!=null&&c(n,["response"],Vv(o));const s=u(i,["error"]);return s!=null&&c(n,["error"],s),n}function Kv(i,n){const o={},s=u(i,["pageSize"]);n!==void 0&&s!=null&&c(n,["_query","pageSize"],s);const r=u(i,["pageToken"]);if(n!==void 0&&r!=null&&c(n,["_query","pageToken"],r),u(i,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return o}function Xv(i,n){const o={},s=u(i,["pageSize"]);n!==void 0&&s!=null&&c(n,["_query","pageSize"],s);const r=u(i,["pageToken"]);n!==void 0&&r!=null&&c(n,["_query","pageToken"],r);const f=u(i,["filter"]);return n!==void 0&&f!=null&&c(n,["_query","filter"],f),o}function Zv(i){const n={},o=u(i,["config"]);return o!=null&&Kv(o,n),n}function $v(i){const n={},o=u(i,["config"]);return o!=null&&Xv(o,n),n}function Wv(i){const n={},o=u(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=u(i,["nextPageToken"]);s!=null&&c(n,["nextPageToken"],s);const r=u(i,["operations"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(m=>Zs(m))),c(n,["batchJobs"],f)}return n}function jv(i){const n={},o=u(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=u(i,["nextPageToken"]);s!=null&&c(n,["nextPageToken"],s);const r=u(i,["batchPredictionJobs"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(m=>Mu(m))),c(n,["batchJobs"],f)}return n}function eS(i){const n={},o=u(i,["functionCall"]);o!=null&&c(n,["functionCall"],o);const s=u(i,["codeExecutionResult"]);s!=null&&c(n,["codeExecutionResult"],s);const r=u(i,["executableCode"]);r!=null&&c(n,["executableCode"],r);const f=u(i,["fileData"]);f!=null&&c(n,["fileData"],kv(f));const m=u(i,["functionResponse"]);m!=null&&c(n,["functionResponse"],m);const g=u(i,["inlineData"]);g!=null&&c(n,["inlineData"],Ev(g));const y=u(i,["text"]);y!=null&&c(n,["text"],y);const h=u(i,["thought"]);h!=null&&c(n,["thought"],h);const v=u(i,["thoughtSignature"]);v!=null&&c(n,["thoughtSignature"],v);const T=u(i,["videoMetadata"]);return T!=null&&c(n,["videoMetadata"],T),n}function tS(i){const n={},o=u(i,["category"]);if(o!=null&&c(n,["category"],o),u(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const s=u(i,["threshold"]);return s!=null&&c(n,["threshold"],s),n}function nS(i){const n={},o=u(i,["functionDeclarations"]);if(o!=null){let v=o;Array.isArray(v)&&(v=v.map(T=>T)),c(n,["functionDeclarations"],v)}if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=u(i,["googleSearchRetrieval"]);s!=null&&c(n,["googleSearchRetrieval"],s);const r=u(i,["computerUse"]);r!=null&&c(n,["computerUse"],r);const f=u(i,["fileSearch"]);f!=null&&c(n,["fileSearch"],f);const m=u(i,["codeExecution"]);if(m!=null&&c(n,["codeExecution"],m),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=u(i,["googleMaps"]);g!=null&&c(n,["googleMaps"],Ov(g));const y=u(i,["googleSearch"]);y!=null&&c(n,["googleSearch"],Yv(y));const h=u(i,["urlContext"]);return h!=null&&c(n,["urlContext"],h),n}var Bn;(function(i){i.PAGED_ITEM_BATCH_JOBS="batchJobs",i.PAGED_ITEM_MODELS="models",i.PAGED_ITEM_TUNING_JOBS="tuningJobs",i.PAGED_ITEM_FILES="files",i.PAGED_ITEM_CACHED_CONTENTS="cachedContents",i.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",i.PAGED_ITEM_DOCUMENTS="documents"})(Bn||(Bn={}));class ki{constructor(n,o,s,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=o,this.init(n,s,r)}init(n,o,s){var r,f;this.nameInternal=n,this.pageInternal=o[this.nameInternal]||[],this.sdkHttpResponseInternal=o?.sdkHttpResponse,this.idxInternal=0;let m={config:{}};!s||Object.keys(s).length===0?m={config:{}}:typeof s=="object"?m=Object.assign({},s):m=s,m.config&&(m.config.pageToken=o.nextPageToken),this.paramsInternal=m,this.pageInternalSize=(f=(r=m.config)===null||r===void 0?void 0:r.pageSize)!==null&&f!==void 0?f:this.pageInternal.length}initNextPage(n){this.init(this.nameInternal,n,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(n){return this.pageInternal[n]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const n=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:n,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const n=await this.requestInternal(this.params);return this.initNextPage(n),this.page}hasNextPage(){var n;return((n=this.params.config)===null||n===void 0?void 0:n.pageToken)!==void 0}}class iS extends Fn{constructor(n){super(),this.apiClient=n,this.create=async o=>(this.apiClient.isVertexAI()&&(o.config=this.formatDestination(o.src,o.config)),this.createInternal(o)),this.createEmbeddings=async o=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(o)},this.list=async(o={})=>new ki(Bn.PAGED_ITEM_BATCH_JOBS,s=>this.listInternal(s),await this.listInternal(o),o)}createInlinedGenerateContentRequest(n){const o=Xm(this.apiClient,n),s=o._url,r=ne("{model}:batchGenerateContent",s),g=o.batch.inputConfig.requests,y=g.requests,h=[];for(const v of y){const T=Object.assign({},v);if(T.systemInstruction){const C=T.systemInstruction;delete T.systemInstruction;const x=T.request;x.systemInstruction=C,T.request=x}h.push(T)}return g.requests=h,delete o.config,delete o._url,delete o._query,{path:r,body:o}}getGcsUri(n){if(typeof n=="string")return n.startsWith("gs://")?n:void 0;if(!Array.isArray(n)&&n.gcsUri&&n.gcsUri.length>0)return n.gcsUri[0]}getBigqueryUri(n){if(typeof n=="string")return n.startsWith("bq://")?n:void 0;if(!Array.isArray(n))return n.bigqueryUri}formatDestination(n,o){const s=o?Object.assign({},o):{},r=Date.now().toString();if(s.displayName||(s.displayName=`genaiBatchJob_${r}`),s.dest===void 0){const f=this.getGcsUri(n),m=this.getBigqueryUri(n);if(f)f.endsWith(".jsonl")?s.dest=`${f.slice(0,-6)}/dest`:s.dest=`${f}_dest_${r}`;else if(m)s.dest=`${m}_dest_${r}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return s}async createInternal(n){var o,s,r,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=bv(this.apiClient,n);return g=ne("batchPredictionJobs",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),m.then(v=>Mu(v))}else{const h=Xm(this.apiClient,n);return g=ne("{model}:batchGenerateContent",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),m.then(v=>Zs(v))}}async createEmbeddingsInternal(n){var o,s;let r,f="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=Dv(this.apiClient,n);return f=ne("{model}:asyncBatchEmbedContent",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),r.then(y=>Zs(y))}}async get(n){var o,s,r,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=Fv(this.apiClient,n);return g=ne("batchPredictionJobs/{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),m.then(v=>Mu(v))}else{const h=Bv(this.apiClient,n);return g=ne("batches/{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),m.then(v=>Zs(v))}}async cancel(n){var o,s,r,f;let m="",g={};if(this.apiClient.isVertexAI()){const y=xv(this.apiClient,n);m=ne("batchPredictionJobs/{name}:cancel",y._url),g=y._query,delete y._url,delete y._query,await this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal})}else{const y=_v(this.apiClient,n);m=ne("batches/{name}:cancel",y._url),g=y._query,delete y._url,delete y._query,await this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal})}}async listInternal(n){var o,s,r,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=$v(n);return g=ne("batchPredictionJobs",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:v.headers},C})),m.then(v=>{const T=jv(v),C=new Ym;return Object.assign(C,T),C})}else{const h=Zv(n);return g=ne("batches",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:v.headers},C})),m.then(v=>{const T=Wv(v),C=new Ym;return Object.assign(C,T),C})}}async delete(n){var o,s,r,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=Uv(this.apiClient,n);return g=ne("batchPredictionJobs/{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:v.headers},C})),m.then(v=>qv(v))}else{const h=Iv(this.apiClient,n);return g=ne("batches/{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:v.headers},C})),m.then(v=>Lv(v))}}}function lS(i){const n={},o=u(i,["data"]);if(o!=null&&c(n,["data"],o),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=u(i,["mimeType"]);return s!=null&&c(n,["mimeType"],s),n}function Zm(i){const n={},o=u(i,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(f=>AS(f))),c(n,["parts"],r)}const s=u(i,["role"]);return s!=null&&c(n,["role"],s),n}function oS(i,n){const o={},s=u(i,["ttl"]);n!==void 0&&s!=null&&c(n,["ttl"],s);const r=u(i,["expireTime"]);n!==void 0&&r!=null&&c(n,["expireTime"],r);const f=u(i,["displayName"]);n!==void 0&&f!=null&&c(n,["displayName"],f);const m=u(i,["contents"]);if(n!==void 0&&m!=null){let v=an(m);Array.isArray(v)&&(v=v.map(T=>Zm(T))),c(n,["contents"],v)}const g=u(i,["systemInstruction"]);n!==void 0&&g!=null&&c(n,["systemInstruction"],Zm(bt(g)));const y=u(i,["tools"]);if(n!==void 0&&y!=null){let v=y;Array.isArray(v)&&(v=v.map(T=>NS(T))),c(n,["tools"],v)}const h=u(i,["toolConfig"]);if(n!==void 0&&h!=null&&c(n,["toolConfig"],h),u(i,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return o}function sS(i,n){const o={},s=u(i,["ttl"]);n!==void 0&&s!=null&&c(n,["ttl"],s);const r=u(i,["expireTime"]);n!==void 0&&r!=null&&c(n,["expireTime"],r);const f=u(i,["displayName"]);n!==void 0&&f!=null&&c(n,["displayName"],f);const m=u(i,["contents"]);if(n!==void 0&&m!=null){let T=an(m);Array.isArray(T)&&(T=T.map(C=>C)),c(n,["contents"],T)}const g=u(i,["systemInstruction"]);n!==void 0&&g!=null&&c(n,["systemInstruction"],bt(g));const y=u(i,["tools"]);if(n!==void 0&&y!=null){let T=y;Array.isArray(T)&&(T=T.map(C=>MS(C))),c(n,["tools"],T)}const h=u(i,["toolConfig"]);n!==void 0&&h!=null&&c(n,["toolConfig"],h);const v=u(i,["kmsKeyName"]);return n!==void 0&&v!=null&&c(n,["encryption_spec","kmsKeyName"],v),o}function aS(i,n){const o={},s=u(n,["model"]);s!=null&&c(o,["model"],Th(i,s));const r=u(n,["config"]);return r!=null&&oS(r,o),o}function rS(i,n){const o={},s=u(n,["model"]);s!=null&&c(o,["model"],Th(i,s));const r=u(n,["config"]);return r!=null&&sS(r,o),o}function uS(i,n){const o={},s=u(n,["name"]);return s!=null&&c(o,["_url","name"],On(i,s)),o}function cS(i,n){const o={},s=u(n,["name"]);return s!=null&&c(o,["_url","name"],On(i,s)),o}function fS(i){const n={},o=u(i,["sdkHttpResponse"]);return o!=null&&c(n,["sdkHttpResponse"],o),n}function dS(i){const n={},o=u(i,["sdkHttpResponse"]);return o!=null&&c(n,["sdkHttpResponse"],o),n}function pS(i){const n={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(i,["fileUri"]);o!=null&&c(n,["fileUri"],o);const s=u(i,["mimeType"]);return s!=null&&c(n,["mimeType"],s),n}function mS(i){const n={};if(u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=u(i,["description"]);o!=null&&c(n,["description"],o);const s=u(i,["name"]);s!=null&&c(n,["name"],s);const r=u(i,["parameters"]);r!=null&&c(n,["parameters"],r);const f=u(i,["parametersJsonSchema"]);f!=null&&c(n,["parametersJsonSchema"],f);const m=u(i,["response"]);m!=null&&c(n,["response"],m);const g=u(i,["responseJsonSchema"]);return g!=null&&c(n,["responseJsonSchema"],g),n}function hS(i,n){const o={},s=u(n,["name"]);return s!=null&&c(o,["_url","name"],On(i,s)),o}function gS(i,n){const o={},s=u(n,["name"]);return s!=null&&c(o,["_url","name"],On(i,s)),o}function yS(i){const n={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(i,["enableWidget"]);return o!=null&&c(n,["enableWidget"],o),n}function vS(i){const n={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(i,["timeRangeFilter"]);return o!=null&&c(n,["timeRangeFilter"],o),n}function SS(i,n){const o={},s=u(i,["pageSize"]);n!==void 0&&s!=null&&c(n,["_query","pageSize"],s);const r=u(i,["pageToken"]);return n!==void 0&&r!=null&&c(n,["_query","pageToken"],r),o}function TS(i,n){const o={},s=u(i,["pageSize"]);n!==void 0&&s!=null&&c(n,["_query","pageSize"],s);const r=u(i,["pageToken"]);return n!==void 0&&r!=null&&c(n,["_query","pageToken"],r),o}function CS(i){const n={},o=u(i,["config"]);return o!=null&&SS(o,n),n}function ES(i){const n={},o=u(i,["config"]);return o!=null&&TS(o,n),n}function _S(i){const n={},o=u(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=u(i,["nextPageToken"]);s!=null&&c(n,["nextPageToken"],s);const r=u(i,["cachedContents"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(m=>m)),c(n,["cachedContents"],f)}return n}function xS(i){const n={},o=u(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=u(i,["nextPageToken"]);s!=null&&c(n,["nextPageToken"],s);const r=u(i,["cachedContents"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(m=>m)),c(n,["cachedContents"],f)}return n}function AS(i){const n={},o=u(i,["functionCall"]);o!=null&&c(n,["functionCall"],o);const s=u(i,["codeExecutionResult"]);s!=null&&c(n,["codeExecutionResult"],s);const r=u(i,["executableCode"]);r!=null&&c(n,["executableCode"],r);const f=u(i,["fileData"]);f!=null&&c(n,["fileData"],pS(f));const m=u(i,["functionResponse"]);m!=null&&c(n,["functionResponse"],m);const g=u(i,["inlineData"]);g!=null&&c(n,["inlineData"],lS(g));const y=u(i,["text"]);y!=null&&c(n,["text"],y);const h=u(i,["thought"]);h!=null&&c(n,["thought"],h);const v=u(i,["thoughtSignature"]);v!=null&&c(n,["thoughtSignature"],v);const T=u(i,["videoMetadata"]);return T!=null&&c(n,["videoMetadata"],T),n}function NS(i){const n={},o=u(i,["functionDeclarations"]);if(o!=null){let v=o;Array.isArray(v)&&(v=v.map(T=>T)),c(n,["functionDeclarations"],v)}if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=u(i,["googleSearchRetrieval"]);s!=null&&c(n,["googleSearchRetrieval"],s);const r=u(i,["computerUse"]);r!=null&&c(n,["computerUse"],r);const f=u(i,["fileSearch"]);f!=null&&c(n,["fileSearch"],f);const m=u(i,["codeExecution"]);if(m!=null&&c(n,["codeExecution"],m),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=u(i,["googleMaps"]);g!=null&&c(n,["googleMaps"],yS(g));const y=u(i,["googleSearch"]);y!=null&&c(n,["googleSearch"],vS(y));const h=u(i,["urlContext"]);return h!=null&&c(n,["urlContext"],h),n}function MS(i){const n={},o=u(i,["functionDeclarations"]);if(o!=null){let T=o;Array.isArray(T)&&(T=T.map(C=>mS(C))),c(n,["functionDeclarations"],T)}const s=u(i,["retrieval"]);s!=null&&c(n,["retrieval"],s);const r=u(i,["googleSearchRetrieval"]);r!=null&&c(n,["googleSearchRetrieval"],r);const f=u(i,["computerUse"]);if(f!=null&&c(n,["computerUse"],f),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const m=u(i,["codeExecution"]);m!=null&&c(n,["codeExecution"],m);const g=u(i,["enterpriseWebSearch"]);g!=null&&c(n,["enterpriseWebSearch"],g);const y=u(i,["googleMaps"]);y!=null&&c(n,["googleMaps"],y);const h=u(i,["googleSearch"]);h!=null&&c(n,["googleSearch"],h);const v=u(i,["urlContext"]);return v!=null&&c(n,["urlContext"],v),n}function RS(i,n){const o={},s=u(i,["ttl"]);n!==void 0&&s!=null&&c(n,["ttl"],s);const r=u(i,["expireTime"]);return n!==void 0&&r!=null&&c(n,["expireTime"],r),o}function bS(i,n){const o={},s=u(i,["ttl"]);n!==void 0&&s!=null&&c(n,["ttl"],s);const r=u(i,["expireTime"]);return n!==void 0&&r!=null&&c(n,["expireTime"],r),o}function wS(i,n){const o={},s=u(n,["name"]);s!=null&&c(o,["_url","name"],On(i,s));const r=u(n,["config"]);return r!=null&&RS(r,o),o}function DS(i,n){const o={},s=u(n,["name"]);s!=null&&c(o,["_url","name"],On(i,s));const r=u(n,["config"]);return r!=null&&bS(r,o),o}class IS extends Fn{constructor(n){super(),this.apiClient=n,this.list=async(o={})=>new ki(Bn.PAGED_ITEM_CACHED_CONTENTS,s=>this.listInternal(s),await this.listInternal(o),o)}async create(n){var o,s,r,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=rS(this.apiClient,n);return g=ne("cachedContents",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),m.then(v=>v)}else{const h=aS(this.apiClient,n);return g=ne("cachedContents",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),m.then(v=>v)}}async get(n){var o,s,r,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=gS(this.apiClient,n);return g=ne("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),m.then(v=>v)}else{const h=hS(this.apiClient,n);return g=ne("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),m.then(v=>v)}}async delete(n){var o,s,r,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=cS(this.apiClient,n);return g=ne("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:v.headers},C})),m.then(v=>{const T=dS(v),C=new Fm;return Object.assign(C,T),C})}else{const h=uS(this.apiClient,n);return g=ne("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:v.headers},C})),m.then(v=>{const T=fS(v),C=new Fm;return Object.assign(C,T),C})}}async update(n){var o,s,r,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=DS(this.apiClient,n);return g=ne("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),m.then(v=>v)}else{const h=wS(this.apiClient,n);return g=ne("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),m.then(v=>v)}}async listInternal(n){var o,s,r,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=ES(n);return g=ne("cachedContents",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:v.headers},C})),m.then(v=>{const T=xS(v),C=new Om;return Object.assign(C,T),C})}else{const h=CS(n);return g=ne("cachedContents",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:v.headers},C})),m.then(v=>{const T=_S(v),C=new Om;return Object.assign(C,T),C})}}}function $m(i){var n=typeof Symbol=="function"&&Symbol.iterator,o=n&&i[n],s=0;if(o)return o.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&s>=i.length&&(i=void 0),{value:i&&i[s++],done:!i}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function je(i){return this instanceof je?(this.v=i,this):new je(i)}function Ll(i,n,o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=o.apply(i,n||[]),r,f=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),g("next"),g("throw"),g("return",m),r[Symbol.asyncIterator]=function(){return this},r;function m(x){return function(b){return Promise.resolve(b).then(x,T)}}function g(x,b){s[x]&&(r[x]=function(w){return new Promise(function(Y,q){f.push([x,w,Y,q])>1||y(x,w)})},b&&(r[x]=b(r[x])))}function y(x,b){try{h(s[x](b))}catch(w){C(f[0][3],w)}}function h(x){x.value instanceof je?Promise.resolve(x.value.v).then(v,T):C(f[0][2],x)}function v(x){y("next",x)}function T(x){y("throw",x)}function C(x,b){x(b),f.shift(),f.length&&y(f[0][0],f[0][1])}}function Lo(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=i[Symbol.asyncIterator],o;return n?n.call(i):(i=typeof $m=="function"?$m(i):i[Symbol.iterator](),o={},s("next"),s("throw"),s("return"),o[Symbol.asyncIterator]=function(){return this},o);function s(f){o[f]=i[f]&&function(m){return new Promise(function(g,y){m=i[f](m),r(g,y,m.done,m.value)})}}function r(f,m,g,y){Promise.resolve(y).then(function(h){f({value:h,done:g})},m)}}function US(i){var n;if(i.candidates==null||i.candidates.length===0)return!1;const o=(n=i.candidates[0])===null||n===void 0?void 0:n.content;return o===void 0?!1:Uh(o)}function Uh(i){if(i.parts===void 0||i.parts.length===0)return!1;for(const n of i.parts)if(n===void 0||Object.keys(n).length===0)return!1;return!0}function LS(i){if(i.length!==0){for(const n of i)if(n.role!=="user"&&n.role!=="model")throw new Error(`Role must be user or model, but got ${n.role}.`)}}function Wm(i){if(i===void 0||i.length===0)return[];const n=[],o=i.length;let s=0;for(;s<o;)if(i[s].role==="user")n.push(i[s]),s++;else{const r=[];let f=!0;for(;s<o&&i[s].role==="model";)r.push(i[s]),f&&!Uh(i[s])&&(f=!1),s++;f?n.push(...r):n.pop()}return n}class qS{constructor(n,o){this.modelsModule=n,this.apiClient=o}create(n){return new GS(this.apiClient,this.modelsModule,n.model,n.config,structuredClone(n.history))}}class GS{constructor(n,o,s,r={},f=[]){this.apiClient=n,this.modelsModule=o,this.model=s,this.config=r,this.history=f,this.sendPromise=Promise.resolve(),LS(f)}async sendMessage(n){var o;await this.sendPromise;const s=bt(n.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(s),config:(o=n.config)!==null&&o!==void 0?o:this.config});return this.sendPromise=(async()=>{var f,m,g;const y=await r,h=(m=(f=y.candidates)===null||f===void 0?void 0:f[0])===null||m===void 0?void 0:m.content,v=y.automaticFunctionCallingHistory,T=this.getHistory(!0).length;let C=[];v!=null&&(C=(g=v.slice(T))!==null&&g!==void 0?g:[]);const x=h?[h]:[];this.recordHistory(s,x,C)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(n){var o;await this.sendPromise;const s=bt(n.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(s),config:(o=n.config)!==null&&o!==void 0?o:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const f=await r;return this.processStreamResponse(f,s)}getHistory(n=!1){const o=n?Wm(this.history):this.history;return structuredClone(o)}processStreamResponse(n,o){var s,r;return Ll(this,arguments,function*(){var m,g,y,h;const v=[];try{for(var T=!0,C=Lo(n),x;x=yield je(C.next()),m=x.done,!m;T=!0){h=x.value,T=!1;const b=h;if(US(b)){const w=(r=(s=b.candidates)===null||s===void 0?void 0:s[0])===null||r===void 0?void 0:r.content;w!==void 0&&v.push(w)}yield yield je(b)}}catch(b){g={error:b}}finally{try{!T&&!m&&(y=C.return)&&(yield je(y.call(C)))}finally{if(g)throw g.error}}this.recordHistory(o,v)})}recordHistory(n,o,s){let r=[];o.length>0&&o.every(f=>f.role!==void 0)?r=o:r.push({role:"model",parts:[]}),s&&s.length>0?this.history.push(...Wm(s)):this.history.push(n),this.history.push(...r)}}class na extends Error{constructor(n){super(n.message),this.name="ApiError",this.status=n.status,Object.setPrototypeOf(this,na.prototype)}}function HS(i){const n={},o=u(i,["file"]);return o!=null&&c(n,["file"],o),n}function zS(i){const n={},o=u(i,["sdkHttpResponse"]);return o!=null&&c(n,["sdkHttpResponse"],o),n}function kS(i){const n={},o=u(i,["name"]);return o!=null&&c(n,["_url","file"],Nh(o)),n}function PS(i){const n={},o=u(i,["sdkHttpResponse"]);return o!=null&&c(n,["sdkHttpResponse"],o),n}function VS(i){const n={},o=u(i,["name"]);return o!=null&&c(n,["_url","file"],Nh(o)),n}function BS(i,n){const o={},s=u(i,["pageSize"]);n!==void 0&&s!=null&&c(n,["_query","pageSize"],s);const r=u(i,["pageToken"]);return n!==void 0&&r!=null&&c(n,["_query","pageToken"],r),o}function FS(i){const n={},o=u(i,["config"]);return o!=null&&BS(o,n),n}function OS(i){const n={},o=u(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=u(i,["nextPageToken"]);s!=null&&c(n,["nextPageToken"],s);const r=u(i,["files"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(m=>m)),c(n,["files"],f)}return n}class YS extends Fn{constructor(n){super(),this.apiClient=n,this.list=async(o={})=>new ki(Bn.PAGED_ITEM_FILES,s=>this.listInternal(s),await this.listInternal(o),o)}async upload(n){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(n.file,n.config).then(o=>o)}async download(n){await this.apiClient.downloadFile(n)}async listInternal(n){var o,s;let r,f="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=FS(n);return f=ne("files",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const h=OS(y),v=new nv;return Object.assign(v,h),v})}}async createInternal(n){var o,s;let r,f="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=HS(n);return f=ne("upload/v1beta/files",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),r.then(y=>{const h=zS(y),v=new iv;return Object.assign(v,h),v})}}async get(n){var o,s;let r,f="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=VS(n);return f=ne("files/{file}",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(n){var o,s;let r,f="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=kS(n);return f=ne("files/{file}",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const h=PS(y),v=new lv;return Object.assign(v,h),v})}}}function $s(i){const n={},o=u(i,["data"]);if(o!=null&&c(n,["data"],o),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=u(i,["mimeType"]);return s!=null&&c(n,["mimeType"],s),n}function JS(i){const n={},o=u(i,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(f=>aT(f))),c(n,["parts"],r)}const s=u(i,["role"]);return s!=null&&c(n,["role"],s),n}function QS(i){const n={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(i,["fileUri"]);o!=null&&c(n,["fileUri"],o);const s=u(i,["mimeType"]);return s!=null&&c(n,["mimeType"],s),n}function KS(i){const n={};if(u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=u(i,["description"]);o!=null&&c(n,["description"],o);const s=u(i,["name"]);s!=null&&c(n,["name"],s);const r=u(i,["parameters"]);r!=null&&c(n,["parameters"],r);const f=u(i,["parametersJsonSchema"]);f!=null&&c(n,["parametersJsonSchema"],f);const m=u(i,["response"]);m!=null&&c(n,["response"],m);const g=u(i,["responseJsonSchema"]);return g!=null&&c(n,["responseJsonSchema"],g),n}function XS(i){const n={},o=u(i,["modelSelectionConfig"]);o!=null&&c(n,["modelConfig"],o);const s=u(i,["responseJsonSchema"]);s!=null&&c(n,["responseJsonSchema"],s);const r=u(i,["audioTimestamp"]);r!=null&&c(n,["audioTimestamp"],r);const f=u(i,["candidateCount"]);f!=null&&c(n,["candidateCount"],f);const m=u(i,["enableAffectiveDialog"]);m!=null&&c(n,["enableAffectiveDialog"],m);const g=u(i,["frequencyPenalty"]);g!=null&&c(n,["frequencyPenalty"],g);const y=u(i,["logprobs"]);y!=null&&c(n,["logprobs"],y);const h=u(i,["maxOutputTokens"]);h!=null&&c(n,["maxOutputTokens"],h);const v=u(i,["mediaResolution"]);v!=null&&c(n,["mediaResolution"],v);const T=u(i,["presencePenalty"]);T!=null&&c(n,["presencePenalty"],T);const C=u(i,["responseLogprobs"]);C!=null&&c(n,["responseLogprobs"],C);const x=u(i,["responseMimeType"]);x!=null&&c(n,["responseMimeType"],x);const b=u(i,["responseModalities"]);b!=null&&c(n,["responseModalities"],b);const w=u(i,["responseSchema"]);w!=null&&c(n,["responseSchema"],w);const Y=u(i,["routingConfig"]);Y!=null&&c(n,["routingConfig"],Y);const q=u(i,["seed"]);q!=null&&c(n,["seed"],q);const Q=u(i,["speechConfig"]);Q!=null&&c(n,["speechConfig"],Lh(Q));const V=u(i,["stopSequences"]);V!=null&&c(n,["stopSequences"],V);const j=u(i,["temperature"]);j!=null&&c(n,["temperature"],j);const te=u(i,["thinkingConfig"]);te!=null&&c(n,["thinkingConfig"],te);const ie=u(i,["topK"]);ie!=null&&c(n,["topK"],ie);const X=u(i,["topP"]);if(X!=null&&c(n,["topP"],X),u(i,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return n}function ZS(i){const n={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(i,["enableWidget"]);return o!=null&&c(n,["enableWidget"],o),n}function $S(i){const n={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(i,["timeRangeFilter"]);return o!=null&&c(n,["timeRangeFilter"],o),n}function WS(i,n){const o={},s=u(i,["generationConfig"]);n!==void 0&&s!=null&&c(n,["setup","generationConfig"],s);const r=u(i,["responseModalities"]);n!==void 0&&r!=null&&c(n,["setup","generationConfig","responseModalities"],r);const f=u(i,["temperature"]);n!==void 0&&f!=null&&c(n,["setup","generationConfig","temperature"],f);const m=u(i,["topP"]);n!==void 0&&m!=null&&c(n,["setup","generationConfig","topP"],m);const g=u(i,["topK"]);n!==void 0&&g!=null&&c(n,["setup","generationConfig","topK"],g);const y=u(i,["maxOutputTokens"]);n!==void 0&&y!=null&&c(n,["setup","generationConfig","maxOutputTokens"],y);const h=u(i,["mediaResolution"]);n!==void 0&&h!=null&&c(n,["setup","generationConfig","mediaResolution"],h);const v=u(i,["seed"]);n!==void 0&&v!=null&&c(n,["setup","generationConfig","seed"],v);const T=u(i,["speechConfig"]);n!==void 0&&T!=null&&c(n,["setup","generationConfig","speechConfig"],ku(T));const C=u(i,["thinkingConfig"]);n!==void 0&&C!=null&&c(n,["setup","generationConfig","thinkingConfig"],C);const x=u(i,["enableAffectiveDialog"]);n!==void 0&&x!=null&&c(n,["setup","generationConfig","enableAffectiveDialog"],x);const b=u(i,["systemInstruction"]);n!==void 0&&b!=null&&c(n,["setup","systemInstruction"],JS(bt(b)));const w=u(i,["tools"]);if(n!==void 0&&w!=null){let ie=Hl(w);Array.isArray(ie)&&(ie=ie.map(X=>uT(Gl(X)))),c(n,["setup","tools"],ie)}const Y=u(i,["sessionResumption"]);n!==void 0&&Y!=null&&c(n,["setup","sessionResumption"],rT(Y));const q=u(i,["inputAudioTranscription"]);n!==void 0&&q!=null&&c(n,["setup","inputAudioTranscription"],q);const Q=u(i,["outputAudioTranscription"]);n!==void 0&&Q!=null&&c(n,["setup","outputAudioTranscription"],Q);const V=u(i,["realtimeInputConfig"]);n!==void 0&&V!=null&&c(n,["setup","realtimeInputConfig"],V);const j=u(i,["contextWindowCompression"]);n!==void 0&&j!=null&&c(n,["setup","contextWindowCompression"],j);const te=u(i,["proactivity"]);return n!==void 0&&te!=null&&c(n,["setup","proactivity"],te),o}function jS(i,n){const o={},s=u(i,["generationConfig"]);n!==void 0&&s!=null&&c(n,["setup","generationConfig"],XS(s));const r=u(i,["responseModalities"]);n!==void 0&&r!=null&&c(n,["setup","generationConfig","responseModalities"],r);const f=u(i,["temperature"]);n!==void 0&&f!=null&&c(n,["setup","generationConfig","temperature"],f);const m=u(i,["topP"]);n!==void 0&&m!=null&&c(n,["setup","generationConfig","topP"],m);const g=u(i,["topK"]);n!==void 0&&g!=null&&c(n,["setup","generationConfig","topK"],g);const y=u(i,["maxOutputTokens"]);n!==void 0&&y!=null&&c(n,["setup","generationConfig","maxOutputTokens"],y);const h=u(i,["mediaResolution"]);n!==void 0&&h!=null&&c(n,["setup","generationConfig","mediaResolution"],h);const v=u(i,["seed"]);n!==void 0&&v!=null&&c(n,["setup","generationConfig","seed"],v);const T=u(i,["speechConfig"]);n!==void 0&&T!=null&&c(n,["setup","generationConfig","speechConfig"],Lh(ku(T)));const C=u(i,["thinkingConfig"]);n!==void 0&&C!=null&&c(n,["setup","generationConfig","thinkingConfig"],C);const x=u(i,["enableAffectiveDialog"]);n!==void 0&&x!=null&&c(n,["setup","generationConfig","enableAffectiveDialog"],x);const b=u(i,["systemInstruction"]);n!==void 0&&b!=null&&c(n,["setup","systemInstruction"],bt(b));const w=u(i,["tools"]);if(n!==void 0&&w!=null){let ie=Hl(w);Array.isArray(ie)&&(ie=ie.map(X=>cT(Gl(X)))),c(n,["setup","tools"],ie)}const Y=u(i,["sessionResumption"]);n!==void 0&&Y!=null&&c(n,["setup","sessionResumption"],Y);const q=u(i,["inputAudioTranscription"]);n!==void 0&&q!=null&&c(n,["setup","inputAudioTranscription"],q);const Q=u(i,["outputAudioTranscription"]);n!==void 0&&Q!=null&&c(n,["setup","outputAudioTranscription"],Q);const V=u(i,["realtimeInputConfig"]);n!==void 0&&V!=null&&c(n,["setup","realtimeInputConfig"],V);const j=u(i,["contextWindowCompression"]);n!==void 0&&j!=null&&c(n,["setup","contextWindowCompression"],j);const te=u(i,["proactivity"]);return n!==void 0&&te!=null&&c(n,["setup","proactivity"],te),o}function eT(i,n){const o={},s=u(n,["model"]);s!=null&&c(o,["setup","model"],ke(i,s));const r=u(n,["config"]);return r!=null&&c(o,["config"],WS(r,o)),o}function tT(i,n){const o={},s=u(n,["model"]);s!=null&&c(o,["setup","model"],ke(i,s));const r=u(n,["config"]);return r!=null&&c(o,["config"],jS(r,o)),o}function nT(i){const n={},o=u(i,["musicGenerationConfig"]);return o!=null&&c(n,["musicGenerationConfig"],o),n}function iT(i){const n={},o=u(i,["weightedPrompts"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(r=>r)),c(n,["weightedPrompts"],s)}return n}function lT(i){const n={},o=u(i,["media"]);if(o!=null){let h=Ch(o);Array.isArray(h)&&(h=h.map(v=>$s(v))),c(n,["mediaChunks"],h)}const s=u(i,["audio"]);s!=null&&c(n,["audio"],$s(_h(s)));const r=u(i,["audioStreamEnd"]);r!=null&&c(n,["audioStreamEnd"],r);const f=u(i,["video"]);f!=null&&c(n,["video"],$s(Eh(f)));const m=u(i,["text"]);m!=null&&c(n,["text"],m);const g=u(i,["activityStart"]);g!=null&&c(n,["activityStart"],g);const y=u(i,["activityEnd"]);return y!=null&&c(n,["activityEnd"],y),n}function oT(i){const n={},o=u(i,["media"]);if(o!=null){let h=Ch(o);Array.isArray(h)&&(h=h.map(v=>v)),c(n,["mediaChunks"],h)}const s=u(i,["audio"]);s!=null&&c(n,["audio"],_h(s));const r=u(i,["audioStreamEnd"]);r!=null&&c(n,["audioStreamEnd"],r);const f=u(i,["video"]);f!=null&&c(n,["video"],Eh(f));const m=u(i,["text"]);m!=null&&c(n,["text"],m);const g=u(i,["activityStart"]);g!=null&&c(n,["activityStart"],g);const y=u(i,["activityEnd"]);return y!=null&&c(n,["activityEnd"],y),n}function sT(i){const n={},o=u(i,["setupComplete"]);o!=null&&c(n,["setupComplete"],o);const s=u(i,["serverContent"]);s!=null&&c(n,["serverContent"],s);const r=u(i,["toolCall"]);r!=null&&c(n,["toolCall"],r);const f=u(i,["toolCallCancellation"]);f!=null&&c(n,["toolCallCancellation"],f);const m=u(i,["usageMetadata"]);m!=null&&c(n,["usageMetadata"],fT(m));const g=u(i,["goAway"]);g!=null&&c(n,["goAway"],g);const y=u(i,["sessionResumptionUpdate"]);return y!=null&&c(n,["sessionResumptionUpdate"],y),n}function aT(i){const n={},o=u(i,["functionCall"]);o!=null&&c(n,["functionCall"],o);const s=u(i,["codeExecutionResult"]);s!=null&&c(n,["codeExecutionResult"],s);const r=u(i,["executableCode"]);r!=null&&c(n,["executableCode"],r);const f=u(i,["fileData"]);f!=null&&c(n,["fileData"],QS(f));const m=u(i,["functionResponse"]);m!=null&&c(n,["functionResponse"],m);const g=u(i,["inlineData"]);g!=null&&c(n,["inlineData"],$s(g));const y=u(i,["text"]);y!=null&&c(n,["text"],y);const h=u(i,["thought"]);h!=null&&c(n,["thought"],h);const v=u(i,["thoughtSignature"]);v!=null&&c(n,["thoughtSignature"],v);const T=u(i,["videoMetadata"]);return T!=null&&c(n,["videoMetadata"],T),n}function rT(i){const n={},o=u(i,["handle"]);if(o!=null&&c(n,["handle"],o),u(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return n}function Lh(i){const n={},o=u(i,["languageCode"]);o!=null&&c(n,["languageCode"],o);const s=u(i,["voiceConfig"]);if(s!=null&&c(n,["voiceConfig"],s),u(i,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return n}function uT(i){const n={},o=u(i,["functionDeclarations"]);if(o!=null){let v=o;Array.isArray(v)&&(v=v.map(T=>T)),c(n,["functionDeclarations"],v)}if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=u(i,["googleSearchRetrieval"]);s!=null&&c(n,["googleSearchRetrieval"],s);const r=u(i,["computerUse"]);r!=null&&c(n,["computerUse"],r);const f=u(i,["fileSearch"]);f!=null&&c(n,["fileSearch"],f);const m=u(i,["codeExecution"]);if(m!=null&&c(n,["codeExecution"],m),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=u(i,["googleMaps"]);g!=null&&c(n,["googleMaps"],ZS(g));const y=u(i,["googleSearch"]);y!=null&&c(n,["googleSearch"],$S(y));const h=u(i,["urlContext"]);return h!=null&&c(n,["urlContext"],h),n}function cT(i){const n={},o=u(i,["functionDeclarations"]);if(o!=null){let T=o;Array.isArray(T)&&(T=T.map(C=>KS(C))),c(n,["functionDeclarations"],T)}const s=u(i,["retrieval"]);s!=null&&c(n,["retrieval"],s);const r=u(i,["googleSearchRetrieval"]);r!=null&&c(n,["googleSearchRetrieval"],r);const f=u(i,["computerUse"]);if(f!=null&&c(n,["computerUse"],f),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const m=u(i,["codeExecution"]);m!=null&&c(n,["codeExecution"],m);const g=u(i,["enterpriseWebSearch"]);g!=null&&c(n,["enterpriseWebSearch"],g);const y=u(i,["googleMaps"]);y!=null&&c(n,["googleMaps"],y);const h=u(i,["googleSearch"]);h!=null&&c(n,["googleSearch"],h);const v=u(i,["urlContext"]);return v!=null&&c(n,["urlContext"],v),n}function fT(i){const n={},o=u(i,["promptTokenCount"]);o!=null&&c(n,["promptTokenCount"],o);const s=u(i,["cachedContentTokenCount"]);s!=null&&c(n,["cachedContentTokenCount"],s);const r=u(i,["candidatesTokenCount"]);r!=null&&c(n,["responseTokenCount"],r);const f=u(i,["toolUsePromptTokenCount"]);f!=null&&c(n,["toolUsePromptTokenCount"],f);const m=u(i,["thoughtsTokenCount"]);m!=null&&c(n,["thoughtsTokenCount"],m);const g=u(i,["totalTokenCount"]);g!=null&&c(n,["totalTokenCount"],g);const y=u(i,["promptTokensDetails"]);if(y!=null){let x=y;Array.isArray(x)&&(x=x.map(b=>b)),c(n,["promptTokensDetails"],x)}const h=u(i,["cacheTokensDetails"]);if(h!=null){let x=h;Array.isArray(x)&&(x=x.map(b=>b)),c(n,["cacheTokensDetails"],x)}const v=u(i,["candidatesTokensDetails"]);if(v!=null){let x=v;Array.isArray(x)&&(x=x.map(b=>b)),c(n,["responseTokensDetails"],x)}const T=u(i,["toolUsePromptTokensDetails"]);if(T!=null){let x=T;Array.isArray(x)&&(x=x.map(b=>b)),c(n,["toolUsePromptTokensDetails"],x)}const C=u(i,["trafficType"]);return C!=null&&c(n,["trafficType"],C),n}function dT(i){const n={},o=u(i,["data"]);if(o!=null&&c(n,["data"],o),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=u(i,["mimeType"]);return s!=null&&c(n,["mimeType"],s),n}function pT(i){const n={},o=u(i,["content"]);o!=null&&c(n,["content"],o);const s=u(i,["citationMetadata"]);s!=null&&c(n,["citationMetadata"],mT(s));const r=u(i,["tokenCount"]);r!=null&&c(n,["tokenCount"],r);const f=u(i,["finishReason"]);f!=null&&c(n,["finishReason"],f);const m=u(i,["avgLogprobs"]);m!=null&&c(n,["avgLogprobs"],m);const g=u(i,["groundingMetadata"]);g!=null&&c(n,["groundingMetadata"],g);const y=u(i,["index"]);y!=null&&c(n,["index"],y);const h=u(i,["logprobsResult"]);h!=null&&c(n,["logprobsResult"],h);const v=u(i,["safetyRatings"]);if(v!=null){let C=v;Array.isArray(C)&&(C=C.map(x=>x)),c(n,["safetyRatings"],C)}const T=u(i,["urlContextMetadata"]);return T!=null&&c(n,["urlContextMetadata"],T),n}function mT(i){const n={},o=u(i,["citationSources"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(r=>r)),c(n,["citations"],s)}return n}function hT(i,n){const o={},s=u(n,["model"]);s!=null&&c(o,["_url","model"],ke(i,s));const r=u(n,["contents"]);if(r!=null){let f=an(r);Array.isArray(f)&&(f=f.map(m=>m)),c(o,["contents"],f)}return o}function gT(i){const n={},o=u(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=u(i,["tokensInfo"]);if(s!=null){let r=s;Array.isArray(r)&&(r=r.map(f=>f)),c(n,["tokensInfo"],r)}return n}function yT(i){const n={},o=u(i,["values"]);o!=null&&c(n,["values"],o);const s=u(i,["statistics"]);return s!=null&&c(n,["statistics"],vT(s)),n}function vT(i){const n={},o=u(i,["truncated"]);o!=null&&c(n,["truncated"],o);const s=u(i,["token_count"]);return s!=null&&c(n,["tokenCount"],s),n}function ia(i){const n={},o=u(i,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(f=>_C(f))),c(n,["parts"],r)}const s=u(i,["role"]);return s!=null&&c(n,["role"],s),n}function ST(i){const n={},o=u(i,["controlType"]);o!=null&&c(n,["controlType"],o);const s=u(i,["enableControlImageComputation"]);return s!=null&&c(n,["computeControl"],s),n}function TT(i){const n={};if(u(i,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(u(i,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(u(i,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return n}function CT(i,n){const o={},s=u(i,["systemInstruction"]);n!==void 0&&s!=null&&c(n,["systemInstruction"],bt(s));const r=u(i,["tools"]);if(n!==void 0&&r!=null){let m=r;Array.isArray(m)&&(m=m.map(g=>kh(g))),c(n,["tools"],m)}const f=u(i,["generationConfig"]);return n!==void 0&&f!=null&&c(n,["generationConfig"],cC(f)),o}function ET(i,n){const o={},s=u(n,["model"]);s!=null&&c(o,["_url","model"],ke(i,s));const r=u(n,["contents"]);if(r!=null){let m=an(r);Array.isArray(m)&&(m=m.map(g=>ia(g))),c(o,["contents"],m)}const f=u(n,["config"]);return f!=null&&TT(f),o}function _T(i,n){const o={},s=u(n,["model"]);s!=null&&c(o,["_url","model"],ke(i,s));const r=u(n,["contents"]);if(r!=null){let m=an(r);Array.isArray(m)&&(m=m.map(g=>g)),c(o,["contents"],m)}const f=u(n,["config"]);return f!=null&&CT(f,o),o}function xT(i){const n={},o=u(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=u(i,["totalTokens"]);s!=null&&c(n,["totalTokens"],s);const r=u(i,["cachedContentTokenCount"]);return r!=null&&c(n,["cachedContentTokenCount"],r),n}function AT(i){const n={},o=u(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=u(i,["totalTokens"]);return s!=null&&c(n,["totalTokens"],s),n}function NT(i,n){const o={},s=u(n,["model"]);return s!=null&&c(o,["_url","name"],ke(i,s)),o}function MT(i,n){const o={},s=u(n,["model"]);return s!=null&&c(o,["_url","name"],ke(i,s)),o}function RT(i){const n={},o=u(i,["sdkHttpResponse"]);return o!=null&&c(n,["sdkHttpResponse"],o),n}function bT(i){const n={},o=u(i,["sdkHttpResponse"]);return o!=null&&c(n,["sdkHttpResponse"],o),n}function wT(i,n){const o={},s=u(i,["outputGcsUri"]);n!==void 0&&s!=null&&c(n,["parameters","storageUri"],s);const r=u(i,["negativePrompt"]);n!==void 0&&r!=null&&c(n,["parameters","negativePrompt"],r);const f=u(i,["numberOfImages"]);n!==void 0&&f!=null&&c(n,["parameters","sampleCount"],f);const m=u(i,["aspectRatio"]);n!==void 0&&m!=null&&c(n,["parameters","aspectRatio"],m);const g=u(i,["guidanceScale"]);n!==void 0&&g!=null&&c(n,["parameters","guidanceScale"],g);const y=u(i,["seed"]);n!==void 0&&y!=null&&c(n,["parameters","seed"],y);const h=u(i,["safetyFilterLevel"]);n!==void 0&&h!=null&&c(n,["parameters","safetySetting"],h);const v=u(i,["personGeneration"]);n!==void 0&&v!=null&&c(n,["parameters","personGeneration"],v);const T=u(i,["includeSafetyAttributes"]);n!==void 0&&T!=null&&c(n,["parameters","includeSafetyAttributes"],T);const C=u(i,["includeRaiReason"]);n!==void 0&&C!=null&&c(n,["parameters","includeRaiReason"],C);const x=u(i,["language"]);n!==void 0&&x!=null&&c(n,["parameters","language"],x);const b=u(i,["outputMimeType"]);n!==void 0&&b!=null&&c(n,["parameters","outputOptions","mimeType"],b);const w=u(i,["outputCompressionQuality"]);n!==void 0&&w!=null&&c(n,["parameters","outputOptions","compressionQuality"],w);const Y=u(i,["addWatermark"]);n!==void 0&&Y!=null&&c(n,["parameters","addWatermark"],Y);const q=u(i,["labels"]);n!==void 0&&q!=null&&c(n,["labels"],q);const Q=u(i,["editMode"]);n!==void 0&&Q!=null&&c(n,["parameters","editMode"],Q);const V=u(i,["baseSteps"]);return n!==void 0&&V!=null&&c(n,["parameters","editConfig","baseSteps"],V),o}function DT(i,n){const o={},s=u(n,["model"]);s!=null&&c(o,["_url","model"],ke(i,s));const r=u(n,["prompt"]);r!=null&&c(o,["instances[0]","prompt"],r);const f=u(n,["referenceImages"]);if(f!=null){let g=f;Array.isArray(g)&&(g=g.map(y=>bC(y))),c(o,["instances[0]","referenceImages"],g)}const m=u(n,["config"]);return m!=null&&wT(m,o),o}function IT(i){const n={},o=u(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=u(i,["predictions"]);if(s!=null){let r=s;Array.isArray(r)&&(r=r.map(f=>la(f))),c(n,["generatedImages"],r)}return n}function UT(i,n){const o={},s=u(i,["taskType"]);n!==void 0&&s!=null&&c(n,["requests[]","taskType"],s);const r=u(i,["title"]);n!==void 0&&r!=null&&c(n,["requests[]","title"],r);const f=u(i,["outputDimensionality"]);if(n!==void 0&&f!=null&&c(n,["requests[]","outputDimensionality"],f),u(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function LT(i,n){const o={},s=u(i,["taskType"]);n!==void 0&&s!=null&&c(n,["instances[]","task_type"],s);const r=u(i,["title"]);n!==void 0&&r!=null&&c(n,["instances[]","title"],r);const f=u(i,["outputDimensionality"]);n!==void 0&&f!=null&&c(n,["parameters","outputDimensionality"],f);const m=u(i,["mimeType"]);n!==void 0&&m!=null&&c(n,["instances[]","mimeType"],m);const g=u(i,["autoTruncate"]);return n!==void 0&&g!=null&&c(n,["parameters","autoTruncate"],g),o}function qT(i,n){const o={},s=u(n,["model"]);s!=null&&c(o,["_url","model"],ke(i,s));const r=u(n,["contents"]);if(r!=null){let g=Gu(i,r);Array.isArray(g)&&(g=g.map(y=>y)),c(o,["requests[]","content"],g)}const f=u(n,["config"]);f!=null&&UT(f,o);const m=u(n,["model"]);return m!==void 0&&c(o,["requests[]","model"],ke(i,m)),o}function GT(i,n){const o={},s=u(n,["model"]);s!=null&&c(o,["_url","model"],ke(i,s));const r=u(n,["contents"]);if(r!=null){let m=Gu(i,r);Array.isArray(m)&&(m=m.map(g=>g)),c(o,["instances[]","content"],m)}const f=u(n,["config"]);return f!=null&&LT(f,o),o}function HT(i){const n={},o=u(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=u(i,["embeddings"]);if(s!=null){let f=s;Array.isArray(f)&&(f=f.map(m=>m)),c(n,["embeddings"],f)}const r=u(i,["metadata"]);return r!=null&&c(n,["metadata"],r),n}function zT(i){const n={},o=u(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=u(i,["predictions[]","embeddings"]);if(s!=null){let f=s;Array.isArray(f)&&(f=f.map(m=>yT(m))),c(n,["embeddings"],f)}const r=u(i,["metadata"]);return r!=null&&c(n,["metadata"],r),n}function kT(i){const n={},o=u(i,["endpoint"]);o!=null&&c(n,["name"],o);const s=u(i,["deployedModelId"]);return s!=null&&c(n,["deployedModelId"],s),n}function PT(i){const n={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(i,["fileUri"]);o!=null&&c(n,["fileUri"],o);const s=u(i,["mimeType"]);return s!=null&&c(n,["mimeType"],s),n}function VT(i){const n={};if(u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=u(i,["description"]);o!=null&&c(n,["description"],o);const s=u(i,["name"]);s!=null&&c(n,["name"],s);const r=u(i,["parameters"]);r!=null&&c(n,["parameters"],r);const f=u(i,["parametersJsonSchema"]);f!=null&&c(n,["parametersJsonSchema"],f);const m=u(i,["response"]);m!=null&&c(n,["response"],m);const g=u(i,["responseJsonSchema"]);return g!=null&&c(n,["responseJsonSchema"],g),n}function BT(i,n,o){const s={},r=u(n,["systemInstruction"]);o!==void 0&&r!=null&&c(o,["systemInstruction"],ia(bt(r)));const f=u(n,["temperature"]);f!=null&&c(s,["temperature"],f);const m=u(n,["topP"]);m!=null&&c(s,["topP"],m);const g=u(n,["topK"]);g!=null&&c(s,["topK"],g);const y=u(n,["candidateCount"]);y!=null&&c(s,["candidateCount"],y);const h=u(n,["maxOutputTokens"]);h!=null&&c(s,["maxOutputTokens"],h);const v=u(n,["stopSequences"]);v!=null&&c(s,["stopSequences"],v);const T=u(n,["responseLogprobs"]);T!=null&&c(s,["responseLogprobs"],T);const C=u(n,["logprobs"]);C!=null&&c(s,["logprobs"],C);const x=u(n,["presencePenalty"]);x!=null&&c(s,["presencePenalty"],x);const b=u(n,["frequencyPenalty"]);b!=null&&c(s,["frequencyPenalty"],b);const w=u(n,["seed"]);w!=null&&c(s,["seed"],w);const Y=u(n,["responseMimeType"]);Y!=null&&c(s,["responseMimeType"],Y);const q=u(n,["responseSchema"]);q!=null&&c(s,["responseSchema"],Hu(q));const Q=u(n,["responseJsonSchema"]);if(Q!=null&&c(s,["responseJsonSchema"],Q),u(n,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(n,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const V=u(n,["safetySettings"]);if(o!==void 0&&V!=null){let ce=V;Array.isArray(ce)&&(ce=ce.map(Ue=>wC(Ue))),c(o,["safetySettings"],ce)}const j=u(n,["tools"]);if(o!==void 0&&j!=null){let ce=Hl(j);Array.isArray(ce)&&(ce=ce.map(Ue=>GC(Gl(Ue)))),c(o,["tools"],ce)}const te=u(n,["toolConfig"]);if(o!==void 0&&te!=null&&c(o,["toolConfig"],te),u(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const ie=u(n,["cachedContent"]);o!==void 0&&ie!=null&&c(o,["cachedContent"],On(i,ie));const X=u(n,["responseModalities"]);X!=null&&c(s,["responseModalities"],X);const le=u(n,["mediaResolution"]);le!=null&&c(s,["mediaResolution"],le);const ee=u(n,["speechConfig"]);if(ee!=null&&c(s,["speechConfig"],zu(ee)),u(n,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const W=u(n,["thinkingConfig"]);W!=null&&c(s,["thinkingConfig"],W);const ge=u(n,["imageConfig"]);return ge!=null&&c(s,["imageConfig"],ge),s}function FT(i,n,o){const s={},r=u(n,["systemInstruction"]);o!==void 0&&r!=null&&c(o,["systemInstruction"],bt(r));const f=u(n,["temperature"]);f!=null&&c(s,["temperature"],f);const m=u(n,["topP"]);m!=null&&c(s,["topP"],m);const g=u(n,["topK"]);g!=null&&c(s,["topK"],g);const y=u(n,["candidateCount"]);y!=null&&c(s,["candidateCount"],y);const h=u(n,["maxOutputTokens"]);h!=null&&c(s,["maxOutputTokens"],h);const v=u(n,["stopSequences"]);v!=null&&c(s,["stopSequences"],v);const T=u(n,["responseLogprobs"]);T!=null&&c(s,["responseLogprobs"],T);const C=u(n,["logprobs"]);C!=null&&c(s,["logprobs"],C);const x=u(n,["presencePenalty"]);x!=null&&c(s,["presencePenalty"],x);const b=u(n,["frequencyPenalty"]);b!=null&&c(s,["frequencyPenalty"],b);const w=u(n,["seed"]);w!=null&&c(s,["seed"],w);const Y=u(n,["responseMimeType"]);Y!=null&&c(s,["responseMimeType"],Y);const q=u(n,["responseSchema"]);q!=null&&c(s,["responseSchema"],Hu(q));const Q=u(n,["responseJsonSchema"]);Q!=null&&c(s,["responseJsonSchema"],Q);const V=u(n,["routingConfig"]);V!=null&&c(s,["routingConfig"],V);const j=u(n,["modelSelectionConfig"]);j!=null&&c(s,["modelConfig"],j);const te=u(n,["safetySettings"]);if(o!==void 0&&te!=null){let G=te;Array.isArray(G)&&(G=G.map(J=>J)),c(o,["safetySettings"],G)}const ie=u(n,["tools"]);if(o!==void 0&&ie!=null){let G=Hl(ie);Array.isArray(G)&&(G=G.map(J=>kh(Gl(J)))),c(o,["tools"],G)}const X=u(n,["toolConfig"]);o!==void 0&&X!=null&&c(o,["toolConfig"],X);const le=u(n,["labels"]);o!==void 0&&le!=null&&c(o,["labels"],le);const ee=u(n,["cachedContent"]);o!==void 0&&ee!=null&&c(o,["cachedContent"],On(i,ee));const W=u(n,["responseModalities"]);W!=null&&c(s,["responseModalities"],W);const ge=u(n,["mediaResolution"]);ge!=null&&c(s,["mediaResolution"],ge);const ce=u(n,["speechConfig"]);ce!=null&&c(s,["speechConfig"],zh(zu(ce)));const Ue=u(n,["audioTimestamp"]);Ue!=null&&c(s,["audioTimestamp"],Ue);const ht=u(n,["thinkingConfig"]);ht!=null&&c(s,["thinkingConfig"],ht);const Xe=u(n,["imageConfig"]);return Xe!=null&&c(s,["imageConfig"],Xe),s}function jm(i,n){const o={},s=u(n,["model"]);s!=null&&c(o,["_url","model"],ke(i,s));const r=u(n,["contents"]);if(r!=null){let m=an(r);Array.isArray(m)&&(m=m.map(g=>ia(g))),c(o,["contents"],m)}const f=u(n,["config"]);return f!=null&&c(o,["generationConfig"],BT(i,f,o)),o}function eh(i,n){const o={},s=u(n,["model"]);s!=null&&c(o,["_url","model"],ke(i,s));const r=u(n,["contents"]);if(r!=null){let m=an(r);Array.isArray(m)&&(m=m.map(g=>g)),c(o,["contents"],m)}const f=u(n,["config"]);return f!=null&&c(o,["generationConfig"],FT(i,f,o)),o}function th(i){const n={},o=u(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=u(i,["candidates"]);if(s!=null){let y=s;Array.isArray(y)&&(y=y.map(h=>pT(h))),c(n,["candidates"],y)}const r=u(i,["modelVersion"]);r!=null&&c(n,["modelVersion"],r);const f=u(i,["promptFeedback"]);f!=null&&c(n,["promptFeedback"],f);const m=u(i,["responseId"]);m!=null&&c(n,["responseId"],m);const g=u(i,["usageMetadata"]);return g!=null&&c(n,["usageMetadata"],g),n}function nh(i){const n={},o=u(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=u(i,["candidates"]);if(s!=null){let h=s;Array.isArray(h)&&(h=h.map(v=>v)),c(n,["candidates"],h)}const r=u(i,["createTime"]);r!=null&&c(n,["createTime"],r);const f=u(i,["modelVersion"]);f!=null&&c(n,["modelVersion"],f);const m=u(i,["promptFeedback"]);m!=null&&c(n,["promptFeedback"],m);const g=u(i,["responseId"]);g!=null&&c(n,["responseId"],g);const y=u(i,["usageMetadata"]);return y!=null&&c(n,["usageMetadata"],y),n}function OT(i,n){const o={};if(u(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(i,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const s=u(i,["numberOfImages"]);n!==void 0&&s!=null&&c(n,["parameters","sampleCount"],s);const r=u(i,["aspectRatio"]);n!==void 0&&r!=null&&c(n,["parameters","aspectRatio"],r);const f=u(i,["guidanceScale"]);if(n!==void 0&&f!=null&&c(n,["parameters","guidanceScale"],f),u(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const m=u(i,["safetyFilterLevel"]);n!==void 0&&m!=null&&c(n,["parameters","safetySetting"],m);const g=u(i,["personGeneration"]);n!==void 0&&g!=null&&c(n,["parameters","personGeneration"],g);const y=u(i,["includeSafetyAttributes"]);n!==void 0&&y!=null&&c(n,["parameters","includeSafetyAttributes"],y);const h=u(i,["includeRaiReason"]);n!==void 0&&h!=null&&c(n,["parameters","includeRaiReason"],h);const v=u(i,["language"]);n!==void 0&&v!=null&&c(n,["parameters","language"],v);const T=u(i,["outputMimeType"]);n!==void 0&&T!=null&&c(n,["parameters","outputOptions","mimeType"],T);const C=u(i,["outputCompressionQuality"]);if(n!==void 0&&C!=null&&c(n,["parameters","outputOptions","compressionQuality"],C),u(i,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(u(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const x=u(i,["imageSize"]);if(n!==void 0&&x!=null&&c(n,["parameters","sampleImageSize"],x),u(i,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return o}function YT(i,n){const o={},s=u(i,["outputGcsUri"]);n!==void 0&&s!=null&&c(n,["parameters","storageUri"],s);const r=u(i,["negativePrompt"]);n!==void 0&&r!=null&&c(n,["parameters","negativePrompt"],r);const f=u(i,["numberOfImages"]);n!==void 0&&f!=null&&c(n,["parameters","sampleCount"],f);const m=u(i,["aspectRatio"]);n!==void 0&&m!=null&&c(n,["parameters","aspectRatio"],m);const g=u(i,["guidanceScale"]);n!==void 0&&g!=null&&c(n,["parameters","guidanceScale"],g);const y=u(i,["seed"]);n!==void 0&&y!=null&&c(n,["parameters","seed"],y);const h=u(i,["safetyFilterLevel"]);n!==void 0&&h!=null&&c(n,["parameters","safetySetting"],h);const v=u(i,["personGeneration"]);n!==void 0&&v!=null&&c(n,["parameters","personGeneration"],v);const T=u(i,["includeSafetyAttributes"]);n!==void 0&&T!=null&&c(n,["parameters","includeSafetyAttributes"],T);const C=u(i,["includeRaiReason"]);n!==void 0&&C!=null&&c(n,["parameters","includeRaiReason"],C);const x=u(i,["language"]);n!==void 0&&x!=null&&c(n,["parameters","language"],x);const b=u(i,["outputMimeType"]);n!==void 0&&b!=null&&c(n,["parameters","outputOptions","mimeType"],b);const w=u(i,["outputCompressionQuality"]);n!==void 0&&w!=null&&c(n,["parameters","outputOptions","compressionQuality"],w);const Y=u(i,["addWatermark"]);n!==void 0&&Y!=null&&c(n,["parameters","addWatermark"],Y);const q=u(i,["labels"]);n!==void 0&&q!=null&&c(n,["labels"],q);const Q=u(i,["imageSize"]);n!==void 0&&Q!=null&&c(n,["parameters","sampleImageSize"],Q);const V=u(i,["enhancePrompt"]);return n!==void 0&&V!=null&&c(n,["parameters","enhancePrompt"],V),o}function JT(i,n){const o={},s=u(n,["model"]);s!=null&&c(o,["_url","model"],ke(i,s));const r=u(n,["prompt"]);r!=null&&c(o,["instances[0]","prompt"],r);const f=u(n,["config"]);return f!=null&&OT(f,o),o}function QT(i,n){const o={},s=u(n,["model"]);s!=null&&c(o,["_url","model"],ke(i,s));const r=u(n,["prompt"]);r!=null&&c(o,["instances[0]","prompt"],r);const f=u(n,["config"]);return f!=null&&YT(f,o),o}function KT(i){const n={},o=u(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=u(i,["predictions"]);if(s!=null){let f=s;Array.isArray(f)&&(f=f.map(m=>sC(m))),c(n,["generatedImages"],f)}const r=u(i,["positivePromptSafetyAttributes"]);return r!=null&&c(n,["positivePromptSafetyAttributes"],Gh(r)),n}function XT(i){const n={},o=u(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=u(i,["predictions"]);if(s!=null){let f=s;Array.isArray(f)&&(f=f.map(m=>la(m))),c(n,["generatedImages"],f)}const r=u(i,["positivePromptSafetyAttributes"]);return r!=null&&c(n,["positivePromptSafetyAttributes"],Hh(r)),n}function ZT(i,n){const o={},s=u(i,["numberOfVideos"]);if(n!==void 0&&s!=null&&c(n,["parameters","sampleCount"],s),u(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(i,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const r=u(i,["durationSeconds"]);if(n!==void 0&&r!=null&&c(n,["parameters","durationSeconds"],r),u(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const f=u(i,["aspectRatio"]);n!==void 0&&f!=null&&c(n,["parameters","aspectRatio"],f);const m=u(i,["resolution"]);n!==void 0&&m!=null&&c(n,["parameters","resolution"],m);const g=u(i,["personGeneration"]);if(n!==void 0&&g!=null&&c(n,["parameters","personGeneration"],g),u(i,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const y=u(i,["negativePrompt"]);n!==void 0&&y!=null&&c(n,["parameters","negativePrompt"],y);const h=u(i,["enhancePrompt"]);if(n!==void 0&&h!=null&&c(n,["parameters","enhancePrompt"],h),u(i,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const v=u(i,["lastFrame"]);n!==void 0&&v!=null&&c(n,["instances[0]","lastFrame"],oa(v));const T=u(i,["referenceImages"]);if(n!==void 0&&T!=null){let C=T;Array.isArray(C)&&(C=C.map(x=>XC(x))),c(n,["instances[0]","referenceImages"],C)}if(u(i,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(u(i,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return o}function $T(i,n){const o={},s=u(i,["numberOfVideos"]);n!==void 0&&s!=null&&c(n,["parameters","sampleCount"],s);const r=u(i,["outputGcsUri"]);n!==void 0&&r!=null&&c(n,["parameters","storageUri"],r);const f=u(i,["fps"]);n!==void 0&&f!=null&&c(n,["parameters","fps"],f);const m=u(i,["durationSeconds"]);n!==void 0&&m!=null&&c(n,["parameters","durationSeconds"],m);const g=u(i,["seed"]);n!==void 0&&g!=null&&c(n,["parameters","seed"],g);const y=u(i,["aspectRatio"]);n!==void 0&&y!=null&&c(n,["parameters","aspectRatio"],y);const h=u(i,["resolution"]);n!==void 0&&h!=null&&c(n,["parameters","resolution"],h);const v=u(i,["personGeneration"]);n!==void 0&&v!=null&&c(n,["parameters","personGeneration"],v);const T=u(i,["pubsubTopic"]);n!==void 0&&T!=null&&c(n,["parameters","pubsubTopic"],T);const C=u(i,["negativePrompt"]);n!==void 0&&C!=null&&c(n,["parameters","negativePrompt"],C);const x=u(i,["enhancePrompt"]);n!==void 0&&x!=null&&c(n,["parameters","enhancePrompt"],x);const b=u(i,["generateAudio"]);n!==void 0&&b!=null&&c(n,["parameters","generateAudio"],b);const w=u(i,["lastFrame"]);n!==void 0&&w!=null&&c(n,["instances[0]","lastFrame"],hn(w));const Y=u(i,["referenceImages"]);if(n!==void 0&&Y!=null){let V=Y;Array.isArray(V)&&(V=V.map(j=>ZC(j))),c(n,["instances[0]","referenceImages"],V)}const q=u(i,["mask"]);n!==void 0&&q!=null&&c(n,["instances[0]","mask"],KC(q));const Q=u(i,["compressionQuality"]);return n!==void 0&&Q!=null&&c(n,["parameters","compressionQuality"],Q),o}function WT(i){const n={},o=u(i,["name"]);o!=null&&c(n,["name"],o);const s=u(i,["metadata"]);s!=null&&c(n,["metadata"],s);const r=u(i,["done"]);r!=null&&c(n,["done"],r);const f=u(i,["error"]);f!=null&&c(n,["error"],f);const m=u(i,["response","generateVideoResponse"]);return m!=null&&c(n,["response"],nC(m)),n}function jT(i){const n={},o=u(i,["name"]);o!=null&&c(n,["name"],o);const s=u(i,["metadata"]);s!=null&&c(n,["metadata"],s);const r=u(i,["done"]);r!=null&&c(n,["done"],r);const f=u(i,["error"]);f!=null&&c(n,["error"],f);const m=u(i,["response"]);return m!=null&&c(n,["response"],iC(m)),n}function eC(i,n){const o={},s=u(n,["model"]);s!=null&&c(o,["_url","model"],ke(i,s));const r=u(n,["prompt"]);r!=null&&c(o,["instances[0]","prompt"],r);const f=u(n,["image"]);f!=null&&c(o,["instances[0]","image"],oa(f));const m=u(n,["video"]);m!=null&&c(o,["instances[0]","video"],Ph(m));const g=u(n,["source"]);g!=null&&lC(g,o);const y=u(n,["config"]);return y!=null&&ZT(y,o),o}function tC(i,n){const o={},s=u(n,["model"]);s!=null&&c(o,["_url","model"],ke(i,s));const r=u(n,["prompt"]);r!=null&&c(o,["instances[0]","prompt"],r);const f=u(n,["image"]);f!=null&&c(o,["instances[0]","image"],hn(f));const m=u(n,["video"]);m!=null&&c(o,["instances[0]","video"],Vh(m));const g=u(n,["source"]);g!=null&&oC(g,o);const y=u(n,["config"]);return y!=null&&$T(y,o),o}function nC(i){const n={},o=u(i,["generatedSamples"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(m=>rC(m))),c(n,["generatedVideos"],f)}const s=u(i,["raiMediaFilteredCount"]);s!=null&&c(n,["raiMediaFilteredCount"],s);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&c(n,["raiMediaFilteredReasons"],r),n}function iC(i){const n={},o=u(i,["videos"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(m=>uC(m))),c(n,["generatedVideos"],f)}const s=u(i,["raiMediaFilteredCount"]);s!=null&&c(n,["raiMediaFilteredCount"],s);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&c(n,["raiMediaFilteredReasons"],r),n}function lC(i,n){const o={},s=u(i,["prompt"]);n!==void 0&&s!=null&&c(n,["instances[0]","prompt"],s);const r=u(i,["image"]);n!==void 0&&r!=null&&c(n,["instances[0]","image"],oa(r));const f=u(i,["video"]);return n!==void 0&&f!=null&&c(n,["instances[0]","video"],Ph(f)),o}function oC(i,n){const o={},s=u(i,["prompt"]);n!==void 0&&s!=null&&c(n,["instances[0]","prompt"],s);const r=u(i,["image"]);n!==void 0&&r!=null&&c(n,["instances[0]","image"],hn(r));const f=u(i,["video"]);return n!==void 0&&f!=null&&c(n,["instances[0]","video"],Vh(f)),o}function sC(i){const n={},o=u(i,["_self"]);o!=null&&c(n,["image"],hC(o));const s=u(i,["raiFilteredReason"]);s!=null&&c(n,["raiFilteredReason"],s);const r=u(i,["_self"]);return r!=null&&c(n,["safetyAttributes"],Gh(r)),n}function la(i){const n={},o=u(i,["_self"]);o!=null&&c(n,["image"],qh(o));const s=u(i,["raiFilteredReason"]);s!=null&&c(n,["raiFilteredReason"],s);const r=u(i,["_self"]);r!=null&&c(n,["safetyAttributes"],Hh(r));const f=u(i,["prompt"]);return f!=null&&c(n,["enhancedPrompt"],f),n}function aC(i){const n={},o=u(i,["_self"]);o!=null&&c(n,["mask"],qh(o));const s=u(i,["labels"]);if(s!=null){let r=s;Array.isArray(r)&&(r=r.map(f=>f)),c(n,["labels"],r)}return n}function rC(i){const n={},o=u(i,["video"]);return o!=null&&c(n,["video"],JC(o)),n}function uC(i){const n={},o=u(i,["_self"]);return o!=null&&c(n,["video"],QC(o)),n}function cC(i){const n={},o=u(i,["modelSelectionConfig"]);o!=null&&c(n,["modelConfig"],o);const s=u(i,["responseJsonSchema"]);s!=null&&c(n,["responseJsonSchema"],s);const r=u(i,["audioTimestamp"]);r!=null&&c(n,["audioTimestamp"],r);const f=u(i,["candidateCount"]);f!=null&&c(n,["candidateCount"],f);const m=u(i,["enableAffectiveDialog"]);m!=null&&c(n,["enableAffectiveDialog"],m);const g=u(i,["frequencyPenalty"]);g!=null&&c(n,["frequencyPenalty"],g);const y=u(i,["logprobs"]);y!=null&&c(n,["logprobs"],y);const h=u(i,["maxOutputTokens"]);h!=null&&c(n,["maxOutputTokens"],h);const v=u(i,["mediaResolution"]);v!=null&&c(n,["mediaResolution"],v);const T=u(i,["presencePenalty"]);T!=null&&c(n,["presencePenalty"],T);const C=u(i,["responseLogprobs"]);C!=null&&c(n,["responseLogprobs"],C);const x=u(i,["responseMimeType"]);x!=null&&c(n,["responseMimeType"],x);const b=u(i,["responseModalities"]);b!=null&&c(n,["responseModalities"],b);const w=u(i,["responseSchema"]);w!=null&&c(n,["responseSchema"],w);const Y=u(i,["routingConfig"]);Y!=null&&c(n,["routingConfig"],Y);const q=u(i,["seed"]);q!=null&&c(n,["seed"],q);const Q=u(i,["speechConfig"]);Q!=null&&c(n,["speechConfig"],zh(Q));const V=u(i,["stopSequences"]);V!=null&&c(n,["stopSequences"],V);const j=u(i,["temperature"]);j!=null&&c(n,["temperature"],j);const te=u(i,["thinkingConfig"]);te!=null&&c(n,["thinkingConfig"],te);const ie=u(i,["topK"]);ie!=null&&c(n,["topK"],ie);const X=u(i,["topP"]);if(X!=null&&c(n,["topP"],X),u(i,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return n}function fC(i,n){const o={},s=u(n,["model"]);return s!=null&&c(o,["_url","name"],ke(i,s)),o}function dC(i,n){const o={},s=u(n,["model"]);return s!=null&&c(o,["_url","name"],ke(i,s)),o}function pC(i){const n={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(i,["enableWidget"]);return o!=null&&c(n,["enableWidget"],o),n}function mC(i){const n={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(i,["timeRangeFilter"]);return o!=null&&c(n,["timeRangeFilter"],o),n}function hC(i){const n={},o=u(i,["bytesBase64Encoded"]);o!=null&&c(n,["imageBytes"],vi(o));const s=u(i,["mimeType"]);return s!=null&&c(n,["mimeType"],s),n}function qh(i){const n={},o=u(i,["gcsUri"]);o!=null&&c(n,["gcsUri"],o);const s=u(i,["bytesBase64Encoded"]);s!=null&&c(n,["imageBytes"],vi(s));const r=u(i,["mimeType"]);return r!=null&&c(n,["mimeType"],r),n}function oa(i){const n={};if(u(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const o=u(i,["imageBytes"]);o!=null&&c(n,["bytesBase64Encoded"],vi(o));const s=u(i,["mimeType"]);return s!=null&&c(n,["mimeType"],s),n}function hn(i){const n={},o=u(i,["gcsUri"]);o!=null&&c(n,["gcsUri"],o);const s=u(i,["imageBytes"]);s!=null&&c(n,["bytesBase64Encoded"],vi(s));const r=u(i,["mimeType"]);return r!=null&&c(n,["mimeType"],r),n}function gC(i,n,o){const s={},r=u(n,["pageSize"]);o!==void 0&&r!=null&&c(o,["_query","pageSize"],r);const f=u(n,["pageToken"]);o!==void 0&&f!=null&&c(o,["_query","pageToken"],f);const m=u(n,["filter"]);o!==void 0&&m!=null&&c(o,["_query","filter"],m);const g=u(n,["queryBase"]);return o!==void 0&&g!=null&&c(o,["_url","models_url"],Mh(i,g)),s}function yC(i,n,o){const s={},r=u(n,["pageSize"]);o!==void 0&&r!=null&&c(o,["_query","pageSize"],r);const f=u(n,["pageToken"]);o!==void 0&&f!=null&&c(o,["_query","pageToken"],f);const m=u(n,["filter"]);o!==void 0&&m!=null&&c(o,["_query","filter"],m);const g=u(n,["queryBase"]);return o!==void 0&&g!=null&&c(o,["_url","models_url"],Mh(i,g)),s}function vC(i,n){const o={},s=u(n,["config"]);return s!=null&&gC(i,s,o),o}function SC(i,n){const o={},s=u(n,["config"]);return s!=null&&yC(i,s,o),o}function TC(i){const n={},o=u(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=u(i,["nextPageToken"]);s!=null&&c(n,["nextPageToken"],s);const r=u(i,["_self"]);if(r!=null){let f=Rh(r);Array.isArray(f)&&(f=f.map(m=>Ru(m))),c(n,["models"],f)}return n}function CC(i){const n={},o=u(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=u(i,["nextPageToken"]);s!=null&&c(n,["nextPageToken"],s);const r=u(i,["_self"]);if(r!=null){let f=Rh(r);Array.isArray(f)&&(f=f.map(m=>bu(m))),c(n,["models"],f)}return n}function EC(i){const n={},o=u(i,["maskMode"]);o!=null&&c(n,["maskMode"],o);const s=u(i,["segmentationClasses"]);s!=null&&c(n,["maskClasses"],s);const r=u(i,["maskDilation"]);return r!=null&&c(n,["dilation"],r),n}function Ru(i){const n={},o=u(i,["name"]);o!=null&&c(n,["name"],o);const s=u(i,["displayName"]);s!=null&&c(n,["displayName"],s);const r=u(i,["description"]);r!=null&&c(n,["description"],r);const f=u(i,["version"]);f!=null&&c(n,["version"],f);const m=u(i,["_self"]);m!=null&&c(n,["tunedModelInfo"],HC(m));const g=u(i,["inputTokenLimit"]);g!=null&&c(n,["inputTokenLimit"],g);const y=u(i,["outputTokenLimit"]);y!=null&&c(n,["outputTokenLimit"],y);const h=u(i,["supportedGenerationMethods"]);return h!=null&&c(n,["supportedActions"],h),n}function bu(i){const n={},o=u(i,["name"]);o!=null&&c(n,["name"],o);const s=u(i,["displayName"]);s!=null&&c(n,["displayName"],s);const r=u(i,["description"]);r!=null&&c(n,["description"],r);const f=u(i,["versionId"]);f!=null&&c(n,["version"],f);const m=u(i,["deployedModels"]);if(m!=null){let T=m;Array.isArray(T)&&(T=T.map(C=>kT(C))),c(n,["endpoints"],T)}const g=u(i,["labels"]);g!=null&&c(n,["labels"],g);const y=u(i,["_self"]);y!=null&&c(n,["tunedModelInfo"],zC(y));const h=u(i,["defaultCheckpointId"]);h!=null&&c(n,["defaultCheckpointId"],h);const v=u(i,["checkpoints"]);if(v!=null){let T=v;Array.isArray(T)&&(T=T.map(C=>C)),c(n,["checkpoints"],T)}return n}function _C(i){const n={},o=u(i,["functionCall"]);o!=null&&c(n,["functionCall"],o);const s=u(i,["codeExecutionResult"]);s!=null&&c(n,["codeExecutionResult"],s);const r=u(i,["executableCode"]);r!=null&&c(n,["executableCode"],r);const f=u(i,["fileData"]);f!=null&&c(n,["fileData"],PT(f));const m=u(i,["functionResponse"]);m!=null&&c(n,["functionResponse"],m);const g=u(i,["inlineData"]);g!=null&&c(n,["inlineData"],dT(g));const y=u(i,["text"]);y!=null&&c(n,["text"],y);const h=u(i,["thought"]);h!=null&&c(n,["thought"],h);const v=u(i,["thoughtSignature"]);v!=null&&c(n,["thoughtSignature"],v);const T=u(i,["videoMetadata"]);return T!=null&&c(n,["videoMetadata"],T),n}function xC(i){const n={},o=u(i,["productImage"]);return o!=null&&c(n,["image"],hn(o)),n}function AC(i,n){const o={},s=u(i,["numberOfImages"]);n!==void 0&&s!=null&&c(n,["parameters","sampleCount"],s);const r=u(i,["baseSteps"]);n!==void 0&&r!=null&&c(n,["parameters","editConfig","baseSteps"],r);const f=u(i,["outputGcsUri"]);n!==void 0&&f!=null&&c(n,["parameters","storageUri"],f);const m=u(i,["seed"]);n!==void 0&&m!=null&&c(n,["parameters","seed"],m);const g=u(i,["safetyFilterLevel"]);n!==void 0&&g!=null&&c(n,["parameters","safetySetting"],g);const y=u(i,["personGeneration"]);n!==void 0&&y!=null&&c(n,["parameters","personGeneration"],y);const h=u(i,["addWatermark"]);n!==void 0&&h!=null&&c(n,["parameters","addWatermark"],h);const v=u(i,["outputMimeType"]);n!==void 0&&v!=null&&c(n,["parameters","outputOptions","mimeType"],v);const T=u(i,["outputCompressionQuality"]);n!==void 0&&T!=null&&c(n,["parameters","outputOptions","compressionQuality"],T);const C=u(i,["enhancePrompt"]);n!==void 0&&C!=null&&c(n,["parameters","enhancePrompt"],C);const x=u(i,["labels"]);return n!==void 0&&x!=null&&c(n,["labels"],x),o}function NC(i,n){const o={},s=u(n,["model"]);s!=null&&c(o,["_url","model"],ke(i,s));const r=u(n,["source"]);r!=null&&RC(r,o);const f=u(n,["config"]);return f!=null&&AC(f,o),o}function MC(i){const n={},o=u(i,["predictions"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(r=>la(r))),c(n,["generatedImages"],s)}return n}function RC(i,n){const o={},s=u(i,["prompt"]);n!==void 0&&s!=null&&c(n,["instances[0]","prompt"],s);const r=u(i,["personImage"]);n!==void 0&&r!=null&&c(n,["instances[0]","personImage","image"],hn(r));const f=u(i,["productImages"]);if(n!==void 0&&f!=null){let m=f;Array.isArray(m)&&(m=m.map(g=>xC(g))),c(n,["instances[0]","productImages"],m)}return o}function bC(i){const n={},o=u(i,["referenceImage"]);o!=null&&c(n,["referenceImage"],hn(o));const s=u(i,["referenceId"]);s!=null&&c(n,["referenceId"],s);const r=u(i,["referenceType"]);r!=null&&c(n,["referenceType"],r);const f=u(i,["maskImageConfig"]);f!=null&&c(n,["maskImageConfig"],EC(f));const m=u(i,["controlImageConfig"]);m!=null&&c(n,["controlImageConfig"],ST(m));const g=u(i,["styleImageConfig"]);g!=null&&c(n,["styleImageConfig"],g);const y=u(i,["subjectImageConfig"]);return y!=null&&c(n,["subjectImageConfig"],y),n}function Gh(i){const n={},o=u(i,["safetyAttributes","categories"]);o!=null&&c(n,["categories"],o);const s=u(i,["safetyAttributes","scores"]);s!=null&&c(n,["scores"],s);const r=u(i,["contentType"]);return r!=null&&c(n,["contentType"],r),n}function Hh(i){const n={},o=u(i,["safetyAttributes","categories"]);o!=null&&c(n,["categories"],o);const s=u(i,["safetyAttributes","scores"]);s!=null&&c(n,["scores"],s);const r=u(i,["contentType"]);return r!=null&&c(n,["contentType"],r),n}function wC(i){const n={},o=u(i,["category"]);if(o!=null&&c(n,["category"],o),u(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const s=u(i,["threshold"]);return s!=null&&c(n,["threshold"],s),n}function DC(i){const n={},o=u(i,["image"]);return o!=null&&c(n,["image"],hn(o)),n}function IC(i,n){const o={},s=u(i,["mode"]);n!==void 0&&s!=null&&c(n,["parameters","mode"],s);const r=u(i,["maxPredictions"]);n!==void 0&&r!=null&&c(n,["parameters","maxPredictions"],r);const f=u(i,["confidenceThreshold"]);n!==void 0&&f!=null&&c(n,["parameters","confidenceThreshold"],f);const m=u(i,["maskDilation"]);n!==void 0&&m!=null&&c(n,["parameters","maskDilation"],m);const g=u(i,["binaryColorThreshold"]);n!==void 0&&g!=null&&c(n,["parameters","binaryColorThreshold"],g);const y=u(i,["labels"]);return n!==void 0&&y!=null&&c(n,["labels"],y),o}function UC(i,n){const o={},s=u(n,["model"]);s!=null&&c(o,["_url","model"],ke(i,s));const r=u(n,["source"]);r!=null&&qC(r,o);const f=u(n,["config"]);return f!=null&&IC(f,o),o}function LC(i){const n={},o=u(i,["predictions"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(r=>aC(r))),c(n,["generatedMasks"],s)}return n}function qC(i,n){const o={},s=u(i,["prompt"]);n!==void 0&&s!=null&&c(n,["instances[0]","prompt"],s);const r=u(i,["image"]);n!==void 0&&r!=null&&c(n,["instances[0]","image"],hn(r));const f=u(i,["scribbleImage"]);return n!==void 0&&f!=null&&c(n,["instances[0]","scribble"],DC(f)),o}function zh(i){const n={},o=u(i,["languageCode"]);o!=null&&c(n,["languageCode"],o);const s=u(i,["voiceConfig"]);if(s!=null&&c(n,["voiceConfig"],s),u(i,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return n}function GC(i){const n={},o=u(i,["functionDeclarations"]);if(o!=null){let v=o;Array.isArray(v)&&(v=v.map(T=>T)),c(n,["functionDeclarations"],v)}if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=u(i,["googleSearchRetrieval"]);s!=null&&c(n,["googleSearchRetrieval"],s);const r=u(i,["computerUse"]);r!=null&&c(n,["computerUse"],r);const f=u(i,["fileSearch"]);f!=null&&c(n,["fileSearch"],f);const m=u(i,["codeExecution"]);if(m!=null&&c(n,["codeExecution"],m),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=u(i,["googleMaps"]);g!=null&&c(n,["googleMaps"],pC(g));const y=u(i,["googleSearch"]);y!=null&&c(n,["googleSearch"],mC(y));const h=u(i,["urlContext"]);return h!=null&&c(n,["urlContext"],h),n}function kh(i){const n={},o=u(i,["functionDeclarations"]);if(o!=null){let T=o;Array.isArray(T)&&(T=T.map(C=>VT(C))),c(n,["functionDeclarations"],T)}const s=u(i,["retrieval"]);s!=null&&c(n,["retrieval"],s);const r=u(i,["googleSearchRetrieval"]);r!=null&&c(n,["googleSearchRetrieval"],r);const f=u(i,["computerUse"]);if(f!=null&&c(n,["computerUse"],f),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const m=u(i,["codeExecution"]);m!=null&&c(n,["codeExecution"],m);const g=u(i,["enterpriseWebSearch"]);g!=null&&c(n,["enterpriseWebSearch"],g);const y=u(i,["googleMaps"]);y!=null&&c(n,["googleMaps"],y);const h=u(i,["googleSearch"]);h!=null&&c(n,["googleSearch"],h);const v=u(i,["urlContext"]);return v!=null&&c(n,["urlContext"],v),n}function HC(i){const n={},o=u(i,["baseModel"]);o!=null&&c(n,["baseModel"],o);const s=u(i,["createTime"]);s!=null&&c(n,["createTime"],s);const r=u(i,["updateTime"]);return r!=null&&c(n,["updateTime"],r),n}function zC(i){const n={},o=u(i,["labels","google-vertex-llm-tuning-base-model-id"]);o!=null&&c(n,["baseModel"],o);const s=u(i,["createTime"]);s!=null&&c(n,["createTime"],s);const r=u(i,["updateTime"]);return r!=null&&c(n,["updateTime"],r),n}function kC(i,n){const o={},s=u(i,["displayName"]);n!==void 0&&s!=null&&c(n,["displayName"],s);const r=u(i,["description"]);n!==void 0&&r!=null&&c(n,["description"],r);const f=u(i,["defaultCheckpointId"]);return n!==void 0&&f!=null&&c(n,["defaultCheckpointId"],f),o}function PC(i,n){const o={},s=u(i,["displayName"]);n!==void 0&&s!=null&&c(n,["displayName"],s);const r=u(i,["description"]);n!==void 0&&r!=null&&c(n,["description"],r);const f=u(i,["defaultCheckpointId"]);return n!==void 0&&f!=null&&c(n,["defaultCheckpointId"],f),o}function VC(i,n){const o={},s=u(n,["model"]);s!=null&&c(o,["_url","name"],ke(i,s));const r=u(n,["config"]);return r!=null&&kC(r,o),o}function BC(i,n){const o={},s=u(n,["model"]);s!=null&&c(o,["_url","model"],ke(i,s));const r=u(n,["config"]);return r!=null&&PC(r,o),o}function FC(i,n){const o={},s=u(i,["outputGcsUri"]);n!==void 0&&s!=null&&c(n,["parameters","storageUri"],s);const r=u(i,["safetyFilterLevel"]);n!==void 0&&r!=null&&c(n,["parameters","safetySetting"],r);const f=u(i,["personGeneration"]);n!==void 0&&f!=null&&c(n,["parameters","personGeneration"],f);const m=u(i,["includeRaiReason"]);n!==void 0&&m!=null&&c(n,["parameters","includeRaiReason"],m);const g=u(i,["outputMimeType"]);n!==void 0&&g!=null&&c(n,["parameters","outputOptions","mimeType"],g);const y=u(i,["outputCompressionQuality"]);n!==void 0&&y!=null&&c(n,["parameters","outputOptions","compressionQuality"],y);const h=u(i,["enhanceInputImage"]);n!==void 0&&h!=null&&c(n,["parameters","upscaleConfig","enhanceInputImage"],h);const v=u(i,["imagePreservationFactor"]);n!==void 0&&v!=null&&c(n,["parameters","upscaleConfig","imagePreservationFactor"],v);const T=u(i,["labels"]);n!==void 0&&T!=null&&c(n,["labels"],T);const C=u(i,["numberOfImages"]);n!==void 0&&C!=null&&c(n,["parameters","sampleCount"],C);const x=u(i,["mode"]);return n!==void 0&&x!=null&&c(n,["parameters","mode"],x),o}function OC(i,n){const o={},s=u(n,["model"]);s!=null&&c(o,["_url","model"],ke(i,s));const r=u(n,["image"]);r!=null&&c(o,["instances[0]","image"],hn(r));const f=u(n,["upscaleFactor"]);f!=null&&c(o,["parameters","upscaleConfig","upscaleFactor"],f);const m=u(n,["config"]);return m!=null&&FC(m,o),o}function YC(i){const n={},o=u(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=u(i,["predictions"]);if(s!=null){let r=s;Array.isArray(r)&&(r=r.map(f=>la(f))),c(n,["generatedImages"],r)}return n}function JC(i){const n={},o=u(i,["uri"]);o!=null&&c(n,["uri"],o);const s=u(i,["encodedVideo"]);s!=null&&c(n,["videoBytes"],vi(s));const r=u(i,["encoding"]);return r!=null&&c(n,["mimeType"],r),n}function QC(i){const n={},o=u(i,["gcsUri"]);o!=null&&c(n,["uri"],o);const s=u(i,["bytesBase64Encoded"]);s!=null&&c(n,["videoBytes"],vi(s));const r=u(i,["mimeType"]);return r!=null&&c(n,["mimeType"],r),n}function KC(i){const n={},o=u(i,["image"]);o!=null&&c(n,["_self"],hn(o));const s=u(i,["maskMode"]);return s!=null&&c(n,["maskMode"],s),n}function XC(i){const n={},o=u(i,["image"]);o!=null&&c(n,["image"],oa(o));const s=u(i,["referenceType"]);return s!=null&&c(n,["referenceType"],s),n}function ZC(i){const n={},o=u(i,["image"]);o!=null&&c(n,["image"],hn(o));const s=u(i,["referenceType"]);return s!=null&&c(n,["referenceType"],s),n}function Ph(i){const n={},o=u(i,["uri"]);o!=null&&c(n,["uri"],o);const s=u(i,["videoBytes"]);s!=null&&c(n,["encodedVideo"],vi(s));const r=u(i,["mimeType"]);return r!=null&&c(n,["encoding"],r),n}function Vh(i){const n={},o=u(i,["uri"]);o!=null&&c(n,["gcsUri"],o);const s=u(i,["videoBytes"]);s!=null&&c(n,["bytesBase64Encoded"],vi(s));const r=u(i,["mimeType"]);return r!=null&&c(n,["mimeType"],r),n}const $C="Content-Type",WC="X-Server-Timeout",jC="User-Agent",wu="x-goog-api-client",eE="1.29.0",tE=`google-genai-sdk/${eE}`,nE="v1beta1",iE="v1beta",ih=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class lE{constructor(n){var o,s;this.clientOptions=Object.assign(Object.assign({},n),{project:n.project,location:n.location,apiKey:n.apiKey,vertexai:n.vertexai});const r={};this.clientOptions.vertexai?(r.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:nE,r.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(r.apiVersion=(s=this.clientOptions.apiVersion)!==null&&s!==void 0?s:iE,r.baseUrl="https://generativelanguage.googleapis.com/"),r.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=r,n.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(r,n.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var n;return(n=this.clientOptions.vertexai)!==null&&n!==void 0?n:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(n){if(!n||n.baseUrl===void 0||n.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const s=[n.baseUrl.endsWith("/")?n.baseUrl.slice(0,-1):n.baseUrl];return n.apiVersion&&n.apiVersion!==""&&s.push(n.apiVersion),s.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const n=this.getBaseUrl(),o=new URL(n);return o.protocol=o.protocol=="http:"?"ws":"wss",o.toString()}setBaseUrl(n){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=n;else throw new Error("HTTP options are not correctly set.")}constructUrl(n,o,s){const r=[this.getRequestUrlInternal(o)];return s&&r.push(this.getBaseResourcePath()),n!==""&&r.push(n),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(n){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||n.path.startsWith("projects/")||n.httpMethod==="GET"&&n.path.startsWith("publishers/google/models"))}async request(n){let o=this.clientOptions.httpOptions;n.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,n.httpOptions));const s=this.shouldPrependVertexProjectPath(n),r=this.constructUrl(n.path,o,s);if(n.queryParams)for(const[m,g]of Object.entries(n.queryParams))r.searchParams.append(m,String(g));let f={};if(n.httpMethod==="GET"){if(n.body&&n.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else f.body=n.body;return f=await this.includeExtraHttpOptionsToRequestInit(f,o,r.toString(),n.abortSignal),this.unaryApiCall(r,f,n.httpMethod)}patchHttpOptions(n,o){const s=JSON.parse(JSON.stringify(n));for(const[r,f]of Object.entries(o))typeof f=="object"?s[r]=Object.assign(Object.assign({},s[r]),f):f!==void 0&&(s[r]=f);return s}async requestStream(n){let o=this.clientOptions.httpOptions;n.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,n.httpOptions));const s=this.shouldPrependVertexProjectPath(n),r=this.constructUrl(n.path,o,s);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let f={};return f.body=n.body,f=await this.includeExtraHttpOptionsToRequestInit(f,o,r.toString(),n.abortSignal),this.streamApiCall(r,f,n.httpMethod)}async includeExtraHttpOptionsToRequestInit(n,o,s,r){if(o&&o.timeout||r){const f=new AbortController,m=f.signal;if(o.timeout&&o?.timeout>0){const g=setTimeout(()=>f.abort(),o.timeout);g&&typeof g.unref=="function"&&g.unref()}r&&r.addEventListener("abort",()=>{f.abort()}),n.signal=m}return o&&o.extraBody!==null&&oE(n,o.extraBody),n.headers=await this.getHeadersInternal(o,s),n}async unaryApiCall(n,o,s){return this.apiCall(n.toString(),Object.assign(Object.assign({},o),{method:s})).then(async r=>(await lh(r),new Au(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(n,o,s){return this.apiCall(n.toString(),Object.assign(Object.assign({},o),{method:s})).then(async r=>(await lh(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(n){var o;return Ll(this,arguments,function*(){const r=(o=n?.body)===null||o===void 0?void 0:o.getReader(),f=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let m="";for(;;){const{done:g,value:y}=yield je(r.read());if(g){if(m.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const h=f.decode(y,{stream:!0});try{const T=JSON.parse(h);if("error"in T){const C=JSON.parse(JSON.stringify(T.error)),x=C.status,b=C.code,w=`got status: ${x}. ${JSON.stringify(T)}`;if(b>=400&&b<600)throw new na({message:w,status:b})}}catch(T){if(T.name==="ApiError")throw T}m+=h;let v=m.match(ih);for(;v;){const T=v[1];try{const C=new Response(T,{headers:n?.headers,status:n?.status,statusText:n?.statusText});yield yield je(new Au(C)),m=m.slice(v[0].length),v=m.match(ih)}catch(C){throw new Error(`exception parsing stream chunk ${T}. ${C}`)}}}}finally{r.releaseLock()}})}async apiCall(n,o){return fetch(n,o).catch(s=>{throw new Error(`exception ${s} sending request`)})}getDefaultHeaders(){const n={},o=tE+" "+this.clientOptions.userAgentExtra;return n[jC]=o,n[wu]=o,n[$C]="application/json",n}async getHeadersInternal(n,o){const s=new Headers;if(n&&n.headers){for(const[r,f]of Object.entries(n.headers))s.append(r,f);n.timeout&&n.timeout>0&&s.append(WC,String(Math.ceil(n.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(s,o),s}getFileName(n){var o;let s="";return typeof n=="string"&&(s=n.replace(/[/\\]+$/,""),s=(o=s.split(/[/\\]/).pop())!==null&&o!==void 0?o:""),s}async uploadFile(n,o){var s;const r={};o!=null&&(r.mimeType=o.mimeType,r.name=o.name,r.displayName=o.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const f=this.clientOptions.uploader,m=await f.stat(n);r.sizeBytes=String(m.size);const g=(s=o?.mimeType)!==null&&s!==void 0?s:m.type;if(g===void 0||g==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=g;const y={file:r},h=this.getFileName(n),v=ne("upload/v1beta/files",y._url),T=await this.fetchUploadUrl(v,r.sizeBytes,r.mimeType,h,y,o?.httpOptions);return f.upload(n,T,this)}async uploadFileToFileSearchStore(n,o,s){var r;const f=this.clientOptions.uploader,m=await f.stat(o),g=String(m.size),y=(r=s?.mimeType)!==null&&r!==void 0?r:m.type;if(y===void 0||y==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const h=`upload/v1beta/${n}:uploadToFileSearchStore`,v=this.getFileName(o),T={};s?.customMetadata&&(T.customMetadata=s.customMetadata),s?.chunkingConfig&&(T.chunkingConfig=s.chunkingConfig);const C=await this.fetchUploadUrl(h,g,y,v,T,s?.httpOptions);return f.uploadToFileSearchStore(o,C,this)}async downloadFile(n){await this.clientOptions.downloader.download(n,this)}async fetchUploadUrl(n,o,s,r,f,m){var g;let y={};m?y=m:y={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${o}`,"X-Goog-Upload-Header-Content-Type":`${s}`},r?{"X-Goog-Upload-File-Name":r}:{})};const h=await this.request({path:n,body:JSON.stringify(f),httpMethod:"POST",httpOptions:y});if(!h||!h?.headers)throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const v=(g=h?.headers)===null||g===void 0?void 0:g["x-goog-upload-url"];if(v===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return v}}async function lh(i){var n;if(i===void 0)throw new Error("response is undefined");if(!i.ok){const o=i.status;let s;!((n=i.headers.get("content-type"))===null||n===void 0)&&n.includes("application/json")?s=await i.json():s={error:{message:await i.text(),code:i.status,status:i.statusText}};const r=JSON.stringify(s);throw o>=400&&o<600?new na({message:r,status:o}):new Error(r)}}function oE(i,n){if(!n||Object.keys(n).length===0)return;if(i.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let o={};if(typeof i.body=="string"&&i.body.length>0)try{const f=JSON.parse(i.body);if(typeof f=="object"&&f!==null&&!Array.isArray(f))o=f;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function s(f,m){const g=Object.assign({},f);for(const y in m)if(Object.prototype.hasOwnProperty.call(m,y)){const h=m[y],v=g[y];h&&typeof h=="object"&&!Array.isArray(h)&&v&&typeof v=="object"&&!Array.isArray(v)?g[y]=s(v,h):(v&&h&&typeof v!=typeof h&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${y}". Original type: ${typeof v}, New type: ${typeof h}. Overwriting.`),g[y]=h)}return g}const r=s(o,n);i.body=JSON.stringify(r)}const sE="mcp_used/unknown";let aE=!1;function Bh(i){for(const n of i)if(rE(n)||typeof n=="object"&&"inputSchema"in n)return!0;return aE}function Fh(i){var n;const o=(n=i[wu])!==null&&n!==void 0?n:"";i[wu]=(o+` ${sE}`).trimStart()}function rE(i){return i!==null&&typeof i=="object"&&i instanceof Pu}function uE(i,n=100){return Ll(this,arguments,function*(){let s,r=0;for(;r<n;){const f=yield je(i.listTools({cursor:s}));for(const m of f.tools)yield yield je(m),r++;if(!f.nextCursor)break;s=f.nextCursor}})}class Pu{constructor(n=[],o){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=n,this.config=o}static create(n,o){return new Pu(n,o)}async initialize(){var n,o,s,r;if(this.mcpTools.length>0)return;const f={},m=[];for(const v of this.mcpClients)try{for(var g=!0,y=(o=void 0,Lo(uE(v))),h;h=await y.next(),n=h.done,!n;g=!0){r=h.value,g=!1;const T=r;m.push(T);const C=T.name;if(f[C])throw new Error(`Duplicate function name ${C} found in MCP tools. Please ensure function names are unique.`);f[C]=v}}catch(T){o={error:T}}finally{try{!g&&!n&&(s=y.return)&&await s.call(y)}finally{if(o)throw o.error}}this.mcpTools=m,this.functionNameToMcpClient=f}async tool(){return await this.initialize(),mv(this.mcpTools,this.config)}async callTool(n){await this.initialize();const o=[];for(const s of n)if(s.name in this.functionNameToMcpClient){const r=this.functionNameToMcpClient[s.name];let f;this.config.timeout&&(f={timeout:this.config.timeout});const m=await r.callTool({name:s.name,arguments:s.args},void 0,f);o.push({functionResponse:{name:s.name,response:m.isError?{error:m}:m}})}return o}}async function cE(i,n,o){const s=new sv;let r;o.data instanceof Blob?r=JSON.parse(await o.data.text()):r=JSON.parse(o.data),Object.assign(s,r),n(s)}class fE{constructor(n,o,s){this.apiClient=n,this.auth=o,this.webSocketFactory=s}async connect(n){var o,s;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion(),m=mE(this.apiClient.getDefaultHeaders()),g=this.apiClient.getApiKey(),y=`${r}/ws/google.ai.generativelanguage.${f}.GenerativeService.BidiGenerateMusic?key=${g}`;let h=()=>{};const v=new Promise(V=>{h=V}),T=n.callbacks,C=function(){h({})},x=this.apiClient,b={onopen:C,onmessage:V=>{cE(x,T.onmessage,V)},onerror:(o=T?.onerror)!==null&&o!==void 0?o:function(V){},onclose:(s=T?.onclose)!==null&&s!==void 0?s:function(V){}},w=this.webSocketFactory.create(y,pE(m),b);w.connect(),await v;const Q={setup:{model:ke(this.apiClient,n.model)}};return w.send(JSON.stringify(Q)),new dE(w,this.apiClient)}}class dE{constructor(n,o){this.conn=n,this.apiClient=o}async setWeightedPrompts(n){if(!n.weightedPrompts||Object.keys(n.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const o=iT(n);this.conn.send(JSON.stringify({clientContent:o}))}async setMusicGenerationConfig(n){n.musicGenerationConfig||(n.musicGenerationConfig={});const o=nT(n);this.conn.send(JSON.stringify(o))}sendPlaybackControl(n){const o={playbackControl:n};this.conn.send(JSON.stringify(o))}play(){this.sendPlaybackControl(Dl.PLAY)}pause(){this.sendPlaybackControl(Dl.PAUSE)}stop(){this.sendPlaybackControl(Dl.STOP)}resetContext(){this.sendPlaybackControl(Dl.RESET_CONTEXT)}close(){this.conn.close()}}function pE(i){const n={};return i.forEach((o,s)=>{n[s]=o}),n}function mE(i){const n=new Headers;for(const[o,s]of Object.entries(i))n.append(o,s);return n}const hE="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function gE(i,n,o){const s=new ov;let r;o.data instanceof Blob?r=await o.data.text():o.data instanceof ArrayBuffer?r=new TextDecoder().decode(o.data):r=o.data;const f=JSON.parse(r);if(i.isVertexAI()){const m=sT(f);Object.assign(s,m)}else Object.assign(s,f);n(s)}class yE{constructor(n,o,s){this.apiClient=n,this.auth=o,this.webSocketFactory=s,this.music=new fE(this.apiClient,this.auth,this.webSocketFactory)}async connect(n){var o,s,r,f,m,g;if(n.config&&n.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const y=this.apiClient.getWebsocketBaseUrl(),h=this.apiClient.getApiVersion();let v;const T=this.apiClient.getHeaders();n.config&&n.config.tools&&Bh(n.config.tools)&&Fh(T);const C=CE(T);if(this.apiClient.isVertexAI())v=`${y}/ws/google.cloud.aiplatform.${h}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(C,v);else{const ee=this.apiClient.getApiKey();let W="BidiGenerateContent",ge="key";ee?.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),h!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),W="BidiGenerateContentConstrained",ge="access_token"),v=`${y}/ws/google.ai.generativelanguage.${h}.GenerativeService.${W}?${ge}=${ee}`}let x=()=>{};const b=new Promise(ee=>{x=ee}),w=n.callbacks,Y=function(){var ee;(ee=w?.onopen)===null||ee===void 0||ee.call(w),x({})},q=this.apiClient,Q={onopen:Y,onmessage:ee=>{gE(q,w.onmessage,ee)},onerror:(o=w?.onerror)!==null&&o!==void 0?o:function(ee){},onclose:(s=w?.onclose)!==null&&s!==void 0?s:function(ee){}},V=this.webSocketFactory.create(v,TE(C),Q);V.connect(),await b;let j=ke(this.apiClient,n.model);if(this.apiClient.isVertexAI()&&j.startsWith("publishers/")){const ee=this.apiClient.getProject(),W=this.apiClient.getLocation();j=`projects/${ee}/locations/${W}/`+j}let te={};this.apiClient.isVertexAI()&&((r=n.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(n.config===void 0?n.config={responseModalities:[Ws.AUDIO]}:n.config.responseModalities=[Ws.AUDIO]),!((f=n.config)===null||f===void 0)&&f.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const ie=(g=(m=n.config)===null||m===void 0?void 0:m.tools)!==null&&g!==void 0?g:[],X=[];for(const ee of ie)if(this.isCallableTool(ee)){const W=ee;X.push(await W.tool())}else X.push(ee);X.length>0&&(n.config.tools=X);const le={model:j,config:n.config,callbacks:n.callbacks};return this.apiClient.isVertexAI()?te=tT(this.apiClient,le):te=eT(this.apiClient,le),delete te.config,V.send(JSON.stringify(te)),new SE(V,this.apiClient)}isCallableTool(n){return"callTool"in n&&typeof n.callTool=="function"}}const vE={turnComplete:!0};class SE{constructor(n,o){this.conn=n,this.apiClient=o}tLiveClientContent(n,o){if(o.turns!==null&&o.turns!==void 0){let s=[];try{s=an(o.turns),n.isVertexAI()||(s=s.map(r=>ia(r)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof o.turns}'`)}return{clientContent:{turns:s,turnComplete:o.turnComplete}}}return{clientContent:{turnComplete:o.turnComplete}}}tLiveClienttToolResponse(n,o){let s=[];if(o.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(o.functionResponses)?s=o.functionResponses:s=[o.functionResponses],s.length===0)throw new Error("functionResponses is required.");for(const f of s){if(typeof f!="object"||f===null||!("name"in f)||!("response"in f))throw new Error(`Could not parse function response, type '${typeof f}'.`);if(!n.isVertexAI()&&!("id"in f))throw new Error(hE)}return{toolResponse:{functionResponses:s}}}sendClientContent(n){n=Object.assign(Object.assign({},vE),n);const o=this.tLiveClientContent(this.apiClient,n);this.conn.send(JSON.stringify(o))}sendRealtimeInput(n){let o={};this.apiClient.isVertexAI()?o={realtimeInput:oT(n)}:o={realtimeInput:lT(n)},this.conn.send(JSON.stringify(o))}sendToolResponse(n){if(n.functionResponses==null)throw new Error("Tool response parameters are required.");const o=this.tLiveClienttToolResponse(this.apiClient,n);this.conn.send(JSON.stringify(o))}close(){this.conn.close()}}function TE(i){const n={};return i.forEach((o,s)=>{n[s]=o}),n}function CE(i){const n=new Headers;for(const[o,s]of Object.entries(i))n.append(o,s);return n}const oh=10;function sh(i){var n,o,s;if(!((n=i?.automaticFunctionCalling)===null||n===void 0)&&n.disable)return!0;let r=!1;for(const m of(o=i?.tools)!==null&&o!==void 0?o:[])if(ql(m)){r=!0;break}if(!r)return!0;const f=(s=i?.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls;return f&&(f<0||!Number.isInteger(f))||f==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",f),!0):!1}function ql(i){return"callTool"in i&&typeof i.callTool=="function"}function EE(i){var n,o,s;return(s=(o=(n=i.config)===null||n===void 0?void 0:n.tools)===null||o===void 0?void 0:o.some(r=>ql(r)))!==null&&s!==void 0?s:!1}function ah(i){var n;const o=[];return!((n=i?.config)===null||n===void 0)&&n.tools&&i.config.tools.forEach((s,r)=>{if(ql(s))return;const f=s;f.functionDeclarations&&f.functionDeclarations.length>0&&o.push(r)}),o}function rh(i){var n;return!(!((n=i?.automaticFunctionCalling)===null||n===void 0)&&n.ignoreCallHistory)}class _E extends Fn{constructor(n){super(),this.apiClient=n,this.generateContent=async o=>{var s,r,f,m,g;const y=await this.processParamsMaybeAddMcpUsage(o);if(this.maybeMoveToResponseJsonSchem(o),!EE(o)||sh(o.config))return await this.generateContentInternal(y);const h=ah(o);if(h.length>0){const w=h.map(Y=>`tools[${Y}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${w}.`)}let v,T;const C=an(y.contents),x=(f=(r=(s=y.config)===null||s===void 0?void 0:s.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&f!==void 0?f:oh;let b=0;for(;b<x&&(v=await this.generateContentInternal(y),!(!v.functionCalls||v.functionCalls.length===0));){const w=v.candidates[0].content,Y=[];for(const q of(g=(m=o.config)===null||m===void 0?void 0:m.tools)!==null&&g!==void 0?g:[])if(ql(q)){const V=await q.callTool(v.functionCalls);Y.push(...V)}b++,T={role:"user",parts:Y},y.contents=an(y.contents),y.contents.push(w),y.contents.push(T),rh(y.config)&&(C.push(w),C.push(T))}return rh(y.config)&&(v.automaticFunctionCallingHistory=C),v},this.generateContentStream=async o=>{if(this.maybeMoveToResponseJsonSchem(o),sh(o.config)){const r=await this.processParamsMaybeAddMcpUsage(o);return await this.generateContentStreamInternal(r)}const s=ah(o);if(s.length>0){const r=s.map(f=>`tools[${f}]`).join(", ");throw new Error(`Incompatible tools found at ${r}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}return await this.processAfcStream(o)},this.generateImages=async o=>await this.generateImagesInternal(o).then(s=>{var r;let f;const m=[];if(s?.generatedImages)for(const y of s.generatedImages)y&&y?.safetyAttributes&&((r=y?.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?f=y?.safetyAttributes:m.push(y);let g;return f?g={generatedImages:m,positivePromptSafetyAttributes:f,sdkHttpResponse:s.sdkHttpResponse}:g={generatedImages:m,sdkHttpResponse:s.sdkHttpResponse},g}),this.list=async o=>{var s;const m={config:Object.assign(Object.assign({},{queryBase:!0}),o?.config)};if(this.apiClient.isVertexAI()&&!m.config.queryBase){if(!((s=m.config)===null||s===void 0)&&s.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");m.config.filter="labels.tune-type:*"}return new ki(Bn.PAGED_ITEM_MODELS,g=>this.listInternal(g),await this.listInternal(m),m)},this.editImage=async o=>{const s={model:o.model,prompt:o.prompt,referenceImages:[],config:o.config};return o.referenceImages&&o.referenceImages&&(s.referenceImages=o.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(s)},this.upscaleImage=async o=>{let s={numberOfImages:1,mode:"upscale"};o.config&&(s=Object.assign(Object.assign({},s),o.config));const r={model:o.model,image:o.image,upscaleFactor:o.upscaleFactor,config:s};return await this.upscaleImageInternal(r)},this.generateVideos=async o=>{var s,r,f,m,g,y;if((o.prompt||o.image||o.video)&&o.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((s=o.video)===null||s===void 0)&&s.uri&&(!((r=o.video)===null||r===void 0)&&r.videoBytes)?o.video={uri:o.video.uri,mimeType:o.video.mimeType}:!((m=(f=o.source)===null||f===void 0?void 0:f.video)===null||m===void 0)&&m.uri&&(!((y=(g=o.source)===null||g===void 0?void 0:g.video)===null||y===void 0)&&y.videoBytes)&&(o.source.video={uri:o.source.video.uri,mimeType:o.source.video.mimeType})),await this.generateVideosInternal(o)}}maybeMoveToResponseJsonSchem(n){n.config&&n.config.responseSchema&&(n.config.responseJsonSchema||Object.keys(n.config.responseSchema).includes("$schema")&&(n.config.responseJsonSchema=n.config.responseSchema,delete n.config.responseSchema))}async processParamsMaybeAddMcpUsage(n){var o,s,r;const f=(o=n.config)===null||o===void 0?void 0:o.tools;if(!f)return n;const m=await Promise.all(f.map(async y=>ql(y)?await y.tool():y)),g={model:n.model,contents:n.contents,config:Object.assign(Object.assign({},n.config),{tools:m})};if(g.config.tools=m,n.config&&n.config.tools&&Bh(n.config.tools)){const y=(r=(s=n.config.httpOptions)===null||s===void 0?void 0:s.headers)!==null&&r!==void 0?r:{};let h=Object.assign({},y);Object.keys(h).length===0&&(h=this.apiClient.getDefaultHeaders()),Fh(h),g.config.httpOptions=Object.assign(Object.assign({},n.config.httpOptions),{headers:h})}return g}async initAfcToolsMap(n){var o,s,r;const f=new Map;for(const m of(s=(o=n.config)===null||o===void 0?void 0:o.tools)!==null&&s!==void 0?s:[])if(ql(m)){const g=m,y=await g.tool();for(const h of(r=y.functionDeclarations)!==null&&r!==void 0?r:[]){if(!h.name)throw new Error("Function declaration name is required.");if(f.has(h.name))throw new Error(`Duplicate tool declaration name: ${h.name}`);f.set(h.name,g)}}return f}async processAfcStream(n){var o,s,r;const f=(r=(s=(o=n.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls)!==null&&r!==void 0?r:oh;let m=!1,g=0;const y=await this.initAfcToolsMap(n);return(function(h,v,T){var C,x;return Ll(this,arguments,function*(){for(var b,w,Y,q;g<f;){m&&(g++,m=!1);const te=yield je(h.processParamsMaybeAddMcpUsage(T)),ie=yield je(h.generateContentStreamInternal(te)),X=[],le=[];try{for(var Q=!0,V=(w=void 0,Lo(ie)),j;j=yield je(V.next()),b=j.done,!b;Q=!0){q=j.value,Q=!1;const ee=q;if(yield yield je(ee),ee.candidates&&(!((C=ee.candidates[0])===null||C===void 0)&&C.content)){le.push(ee.candidates[0].content);for(const W of(x=ee.candidates[0].content.parts)!==null&&x!==void 0?x:[])if(g<f&&W.functionCall){if(!W.functionCall.name)throw new Error("Function call name was not returned by the model.");if(v.has(W.functionCall.name)){const ge=yield je(v.get(W.functionCall.name).callTool([W.functionCall]));X.push(...ge)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${v.keys()}, mising tool: ${W.functionCall.name}`)}}}}catch(ee){w={error:ee}}finally{try{!Q&&!b&&(Y=V.return)&&(yield je(Y.call(V)))}finally{if(w)throw w.error}}if(X.length>0){m=!0;const ee=new Io;ee.candidates=[{content:{role:"user",parts:X}}],yield yield je(ee);const W=[];W.push(...le),W.push({role:"user",parts:X});const ge=an(T.contents).concat(W);T.contents=ge}else break}})})(this,y,n)}async generateContentInternal(n){var o,s,r,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=eh(this.apiClient,n);return g=ne("{model}:generateContent",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:v.headers},C})),m.then(v=>{const T=nh(v),C=new Io;return Object.assign(C,T),C})}else{const h=jm(this.apiClient,n);return g=ne("{model}:generateContent",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:v.headers},C})),m.then(v=>{const T=th(v),C=new Io;return Object.assign(C,T),C})}}async generateContentStreamInternal(n){var o,s,r,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=eh(this.apiClient,n);return g=ne("{model}:streamGenerateContent?alt=sse",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.requestStream({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}),m.then(function(T){return Ll(this,arguments,function*(){var C,x,b,w;try{for(var Y=!0,q=Lo(T),Q;Q=yield je(q.next()),C=Q.done,!C;Y=!0){w=Q.value,Y=!1;const V=w,j=nh(yield je(V.json()));j.sdkHttpResponse={headers:V.headers};const te=new Io;Object.assign(te,j),yield yield je(te)}}catch(V){x={error:V}}finally{try{!Y&&!C&&(b=q.return)&&(yield je(b.call(q)))}finally{if(x)throw x.error}}})})}else{const h=jm(this.apiClient,n);return g=ne("{model}:streamGenerateContent?alt=sse",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.requestStream({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}),m.then(function(T){return Ll(this,arguments,function*(){var C,x,b,w;try{for(var Y=!0,q=Lo(T),Q;Q=yield je(q.next()),C=Q.done,!C;Y=!0){w=Q.value,Y=!1;const V=w,j=th(yield je(V.json()));j.sdkHttpResponse={headers:V.headers};const te=new Io;Object.assign(te,j),yield yield je(te)}}catch(V){x={error:V}}finally{try{!Y&&!C&&(b=q.return)&&(yield je(b.call(q)))}finally{if(x)throw x.error}}})})}}async embedContent(n){var o,s,r,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=GT(this.apiClient,n);return g=ne("{model}:predict",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:v.headers},C})),m.then(v=>{const T=zT(v),C=new Hm;return Object.assign(C,T),C})}else{const h=qT(this.apiClient,n);return g=ne("{model}:batchEmbedContents",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:v.headers},C})),m.then(v=>{const T=HT(v),C=new Hm;return Object.assign(C,T),C})}}async generateImagesInternal(n){var o,s,r,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=QT(this.apiClient,n);return g=ne("{model}:predict",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:v.headers},C})),m.then(v=>{const T=XT(v),C=new zm;return Object.assign(C,T),C})}else{const h=JT(this.apiClient,n);return g=ne("{model}:predict",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:v.headers},C})),m.then(v=>{const T=KT(v),C=new zm;return Object.assign(C,T),C})}}async editImageInternal(n){var o,s;let r,f="",m={};if(this.apiClient.isVertexAI()){const g=DT(this.apiClient,n);return f=ne("{model}:predict",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const h=IT(y),v=new K0;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(n){var o,s;let r,f="",m={};if(this.apiClient.isVertexAI()){const g=OC(this.apiClient,n);return f=ne("{model}:predict",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const h=YC(y),v=new X0;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(n){var o,s;let r,f="",m={};if(this.apiClient.isVertexAI()){const g=NC(this.apiClient,n);return f=ne("{model}:predict",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),r.then(y=>{const h=MC(y),v=new Z0;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(n){var o,s;let r,f="",m={};if(this.apiClient.isVertexAI()){const g=UC(this.apiClient,n);return f=ne("{model}:predict",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),r.then(y=>{const h=LC(y),v=new $0;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async get(n){var o,s,r,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=dC(this.apiClient,n);return g=ne("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),m.then(v=>bu(v))}else{const h=fC(this.apiClient,n);return g=ne("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),m.then(v=>Ru(v))}}async listInternal(n){var o,s,r,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=SC(this.apiClient,n);return g=ne("{models_url}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:v.headers},C})),m.then(v=>{const T=CC(v),C=new km;return Object.assign(C,T),C})}else{const h=vC(this.apiClient,n);return g=ne("{models_url}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:v.headers},C})),m.then(v=>{const T=TC(v),C=new km;return Object.assign(C,T),C})}}async update(n){var o,s,r,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=BC(this.apiClient,n);return g=ne("{model}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),m.then(v=>bu(v))}else{const h=VC(this.apiClient,n);return g=ne("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),m.then(v=>Ru(v))}}async delete(n){var o,s,r,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=MT(this.apiClient,n);return g=ne("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:v.headers},C})),m.then(v=>{const T=bT(v),C=new Pm;return Object.assign(C,T),C})}else{const h=NT(this.apiClient,n);return g=ne("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:v.headers},C})),m.then(v=>{const T=RT(v),C=new Pm;return Object.assign(C,T),C})}}async countTokens(n){var o,s,r,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=_T(this.apiClient,n);return g=ne("{model}:countTokens",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:v.headers},C})),m.then(v=>{const T=AT(v),C=new Vm;return Object.assign(C,T),C})}else{const h=ET(this.apiClient,n);return g=ne("{model}:countTokens",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:v.headers},C})),m.then(v=>{const T=xT(v),C=new Vm;return Object.assign(C,T),C})}}async computeTokens(n){var o,s;let r,f="",m={};if(this.apiClient.isVertexAI()){const g=hT(this.apiClient,n);return f=ne("{model}:computeTokens",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const h=gT(y),v=new W0;return Object.assign(v,h),v})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(n){var o,s,r,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=tC(this.apiClient,n);return g=ne("{model}:predictLongRunning",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),m.then(v=>{const T=jT(v),C=new js;return Object.assign(C,T),C})}else{const h=eC(this.apiClient,n);return g=ne("{model}:predictLongRunning",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),m.then(v=>{const T=WT(v),C=new js;return Object.assign(C,T),C})}}}class xE extends Fn{constructor(n){super(),this.apiClient=n}async getVideosOperation(n){const o=n.operation,s=n.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=o.name.split("/operations/")[0];let f;s&&"httpOptions"in s&&(f=s.httpOptions);const m=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:r,config:{httpOptions:f}});return o._fromAPIResponse({apiResponse:m,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:o.name,config:s});return o._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async get(n){const o=n.operation,s=n.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=o.name.split("/operations/")[0];let f;s&&"httpOptions"in s&&(f=s.httpOptions);const m=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:r,config:{httpOptions:f}});return o._fromAPIResponse({apiResponse:m,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:o.name,config:s});return o._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async getVideosOperationInternal(n){var o,s,r,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=B0(n);return g=ne("{operationName}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),m}else{const h=V0(n);return g=ne("{operationName}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),m}}async fetchPredictVideosOperationInternal(n){var o,s;let r,f="",m={};if(this.apiClient.isVertexAI()){const g=L0(n);return f=ne("{resourceName}:fetchPredictOperation",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),r}else throw new Error("This method is only supported by the Vertex AI.")}}function AE(i){const n={},o=u(i,["data"]);if(o!=null&&c(n,["data"],o),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=u(i,["mimeType"]);return s!=null&&c(n,["mimeType"],s),n}function NE(i){const n={},o=u(i,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(f=>LE(f))),c(n,["parts"],r)}const s=u(i,["role"]);return s!=null&&c(n,["role"],s),n}function ME(i,n,o){const s={},r=u(n,["expireTime"]);o!==void 0&&r!=null&&c(o,["expireTime"],r);const f=u(n,["newSessionExpireTime"]);o!==void 0&&f!=null&&c(o,["newSessionExpireTime"],f);const m=u(n,["uses"]);o!==void 0&&m!=null&&c(o,["uses"],m);const g=u(n,["liveConnectConstraints"]);o!==void 0&&g!=null&&c(o,["bidiGenerateContentSetup"],UE(i,g));const y=u(n,["lockAdditionalFields"]);return o!==void 0&&y!=null&&c(o,["fieldMask"],y),s}function RE(i,n){const o={},s=u(n,["config"]);return s!=null&&c(o,["config"],ME(i,s,o)),o}function bE(i){const n={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(i,["fileUri"]);o!=null&&c(n,["fileUri"],o);const s=u(i,["mimeType"]);return s!=null&&c(n,["mimeType"],s),n}function wE(i){const n={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(i,["enableWidget"]);return o!=null&&c(n,["enableWidget"],o),n}function DE(i){const n={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(i,["timeRangeFilter"]);return o!=null&&c(n,["timeRangeFilter"],o),n}function IE(i,n){const o={},s=u(i,["generationConfig"]);n!==void 0&&s!=null&&c(n,["setup","generationConfig"],s);const r=u(i,["responseModalities"]);n!==void 0&&r!=null&&c(n,["setup","generationConfig","responseModalities"],r);const f=u(i,["temperature"]);n!==void 0&&f!=null&&c(n,["setup","generationConfig","temperature"],f);const m=u(i,["topP"]);n!==void 0&&m!=null&&c(n,["setup","generationConfig","topP"],m);const g=u(i,["topK"]);n!==void 0&&g!=null&&c(n,["setup","generationConfig","topK"],g);const y=u(i,["maxOutputTokens"]);n!==void 0&&y!=null&&c(n,["setup","generationConfig","maxOutputTokens"],y);const h=u(i,["mediaResolution"]);n!==void 0&&h!=null&&c(n,["setup","generationConfig","mediaResolution"],h);const v=u(i,["seed"]);n!==void 0&&v!=null&&c(n,["setup","generationConfig","seed"],v);const T=u(i,["speechConfig"]);n!==void 0&&T!=null&&c(n,["setup","generationConfig","speechConfig"],ku(T));const C=u(i,["thinkingConfig"]);n!==void 0&&C!=null&&c(n,["setup","generationConfig","thinkingConfig"],C);const x=u(i,["enableAffectiveDialog"]);n!==void 0&&x!=null&&c(n,["setup","generationConfig","enableAffectiveDialog"],x);const b=u(i,["systemInstruction"]);n!==void 0&&b!=null&&c(n,["setup","systemInstruction"],NE(bt(b)));const w=u(i,["tools"]);if(n!==void 0&&w!=null){let ie=Hl(w);Array.isArray(ie)&&(ie=ie.map(X=>GE(Gl(X)))),c(n,["setup","tools"],ie)}const Y=u(i,["sessionResumption"]);n!==void 0&&Y!=null&&c(n,["setup","sessionResumption"],qE(Y));const q=u(i,["inputAudioTranscription"]);n!==void 0&&q!=null&&c(n,["setup","inputAudioTranscription"],q);const Q=u(i,["outputAudioTranscription"]);n!==void 0&&Q!=null&&c(n,["setup","outputAudioTranscription"],Q);const V=u(i,["realtimeInputConfig"]);n!==void 0&&V!=null&&c(n,["setup","realtimeInputConfig"],V);const j=u(i,["contextWindowCompression"]);n!==void 0&&j!=null&&c(n,["setup","contextWindowCompression"],j);const te=u(i,["proactivity"]);return n!==void 0&&te!=null&&c(n,["setup","proactivity"],te),o}function UE(i,n){const o={},s=u(n,["model"]);s!=null&&c(o,["setup","model"],ke(i,s));const r=u(n,["config"]);return r!=null&&c(o,["config"],IE(r,o)),o}function LE(i){const n={},o=u(i,["functionCall"]);o!=null&&c(n,["functionCall"],o);const s=u(i,["codeExecutionResult"]);s!=null&&c(n,["codeExecutionResult"],s);const r=u(i,["executableCode"]);r!=null&&c(n,["executableCode"],r);const f=u(i,["fileData"]);f!=null&&c(n,["fileData"],bE(f));const m=u(i,["functionResponse"]);m!=null&&c(n,["functionResponse"],m);const g=u(i,["inlineData"]);g!=null&&c(n,["inlineData"],AE(g));const y=u(i,["text"]);y!=null&&c(n,["text"],y);const h=u(i,["thought"]);h!=null&&c(n,["thought"],h);const v=u(i,["thoughtSignature"]);v!=null&&c(n,["thoughtSignature"],v);const T=u(i,["videoMetadata"]);return T!=null&&c(n,["videoMetadata"],T),n}function qE(i){const n={},o=u(i,["handle"]);if(o!=null&&c(n,["handle"],o),u(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return n}function GE(i){const n={},o=u(i,["functionDeclarations"]);if(o!=null){let v=o;Array.isArray(v)&&(v=v.map(T=>T)),c(n,["functionDeclarations"],v)}if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=u(i,["googleSearchRetrieval"]);s!=null&&c(n,["googleSearchRetrieval"],s);const r=u(i,["computerUse"]);r!=null&&c(n,["computerUse"],r);const f=u(i,["fileSearch"]);f!=null&&c(n,["fileSearch"],f);const m=u(i,["codeExecution"]);if(m!=null&&c(n,["codeExecution"],m),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const g=u(i,["googleMaps"]);g!=null&&c(n,["googleMaps"],wE(g));const y=u(i,["googleSearch"]);y!=null&&c(n,["googleSearch"],DE(y));const h=u(i,["urlContext"]);return h!=null&&c(n,["urlContext"],h),n}function HE(i){const n=[];for(const o in i)if(Object.prototype.hasOwnProperty.call(i,o)){const s=i[o];if(typeof s=="object"&&s!=null&&Object.keys(s).length>0){const r=Object.keys(s).map(f=>`${o}.${f}`);n.push(...r)}else n.push(o)}return n.join(",")}function zE(i,n){let o=null;const s=i.bidiGenerateContentSetup;if(typeof s=="object"&&s!==null&&"setup"in s){const f=s.setup;typeof f=="object"&&f!==null?(i.bidiGenerateContentSetup=f,o=f):delete i.bidiGenerateContentSetup}else s!==void 0&&delete i.bidiGenerateContentSetup;const r=i.fieldMask;if(o){const f=HE(o);if(Array.isArray(n?.lockAdditionalFields)&&n?.lockAdditionalFields.length===0)f?i.fieldMask=f:delete i.fieldMask;else if(n?.lockAdditionalFields&&n.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){const m=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let g=[];r.length>0&&(g=r.map(h=>m.includes(h)?`generationConfig.${h}`:h));const y=[];f&&y.push(f),g.length>0&&y.push(...g),y.length>0?i.fieldMask=y.join(","):delete i.fieldMask}else delete i.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?i.fieldMask=r.join(","):delete i.fieldMask;return i}class kE extends Fn{constructor(n){super(),this.apiClient=n}async create(n){var o,s;let r,f="",m={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const g=RE(this.apiClient,n);f=ne("auth_tokens",g._url),m=g._query,delete g.config,delete g._url,delete g._query;const y=zE(g,n.config);return r=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(h=>h.json()),r.then(h=>h)}}}function PE(i,n){const o={},s=u(i,["displayName"]);return n!==void 0&&s!=null&&c(n,["displayName"],s),o}function VE(i){const n={},o=u(i,["config"]);return o!=null&&PE(o,n),n}function BE(i,n){const o={},s=u(i,["force"]);return n!==void 0&&s!=null&&c(n,["_query","force"],s),o}function FE(i){const n={},o=u(i,["name"]);o!=null&&c(n,["_url","name"],o);const s=u(i,["config"]);return s!=null&&BE(s,n),n}function OE(i){const n={},o=u(i,["name"]);return o!=null&&c(n,["_url","name"],o),n}function YE(i,n){const o={},s=u(i,["customMetadata"]);if(n!==void 0&&s!=null){let f=s;Array.isArray(f)&&(f=f.map(m=>m)),c(n,["customMetadata"],f)}const r=u(i,["chunkingConfig"]);return n!==void 0&&r!=null&&c(n,["chunkingConfig"],r),o}function JE(i){const n={},o=u(i,["name"]);o!=null&&c(n,["name"],o);const s=u(i,["metadata"]);s!=null&&c(n,["metadata"],s);const r=u(i,["done"]);r!=null&&c(n,["done"],r);const f=u(i,["error"]);f!=null&&c(n,["error"],f);const m=u(i,["response"]);return m!=null&&c(n,["response"],KE(m)),n}function QE(i){const n={},o=u(i,["fileSearchStoreName"]);o!=null&&c(n,["_url","file_search_store_name"],o);const s=u(i,["fileName"]);s!=null&&c(n,["fileName"],s);const r=u(i,["config"]);return r!=null&&YE(r,n),n}function KE(i){const n={},o=u(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=u(i,["parent"]);s!=null&&c(n,["parent"],s);const r=u(i,["documentName"]);return r!=null&&c(n,["documentName"],r),n}function XE(i,n){const o={},s=u(i,["pageSize"]);n!==void 0&&s!=null&&c(n,["_query","pageSize"],s);const r=u(i,["pageToken"]);return n!==void 0&&r!=null&&c(n,["_query","pageToken"],r),o}function ZE(i){const n={},o=u(i,["config"]);return o!=null&&XE(o,n),n}function $E(i){const n={},o=u(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=u(i,["nextPageToken"]);s!=null&&c(n,["nextPageToken"],s);const r=u(i,["fileSearchStores"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(m=>m)),c(n,["fileSearchStores"],f)}return n}function WE(i,n){const o={},s=u(i,["mimeType"]);n!==void 0&&s!=null&&c(n,["mimeType"],s);const r=u(i,["displayName"]);n!==void 0&&r!=null&&c(n,["displayName"],r);const f=u(i,["customMetadata"]);if(n!==void 0&&f!=null){let g=f;Array.isArray(g)&&(g=g.map(y=>y)),c(n,["customMetadata"],g)}const m=u(i,["chunkingConfig"]);return n!==void 0&&m!=null&&c(n,["chunkingConfig"],m),o}function jE(i){const n={},o=u(i,["fileSearchStoreName"]);o!=null&&c(n,["_url","file_search_store_name"],o);const s=u(i,["config"]);return s!=null&&WE(s,n),n}function e_(i){const n={},o=u(i,["sdkHttpResponse"]);return o!=null&&c(n,["sdkHttpResponse"],o),n}function t_(i,n){const o={},s=u(i,["force"]);return n!==void 0&&s!=null&&c(n,["_query","force"],s),o}function n_(i){const n={},o=u(i,["name"]);o!=null&&c(n,["_url","name"],o);const s=u(i,["config"]);return s!=null&&t_(s,n),n}function i_(i){const n={},o=u(i,["name"]);return o!=null&&c(n,["_url","name"],o),n}function l_(i,n){const o={},s=u(i,["pageSize"]);n!==void 0&&s!=null&&c(n,["_query","pageSize"],s);const r=u(i,["pageToken"]);return n!==void 0&&r!=null&&c(n,["_query","pageToken"],r),o}function o_(i){const n={},o=u(i,["parent"]);o!=null&&c(n,["_url","parent"],o);const s=u(i,["config"]);return s!=null&&l_(s,n),n}function s_(i){const n={},o=u(i,["sdkHttpResponse"]);o!=null&&c(n,["sdkHttpResponse"],o);const s=u(i,["nextPageToken"]);s!=null&&c(n,["nextPageToken"],s);const r=u(i,["documents"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(m=>m)),c(n,["documents"],f)}return n}class a_ extends Fn{constructor(n){super(),this.apiClient=n,this.list=async o=>new ki(Bn.PAGED_ITEM_DOCUMENTS,s=>this.listInternal({parent:o.parent,config:s.config}),await this.listInternal(o),o)}async get(n){var o,s;let r,f="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=i_(n);return f=ne("{name}",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(n){var o,s;let r="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=n_(n);r=ne("{name}",m._url),f=m._query,delete m._url,delete m._query,await this.apiClient.request({path:r,queryParams:f,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(n){var o,s;let r,f="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=o_(n);return f=ne("{parent}/documents",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),r.then(y=>{const h=s_(y),v=new j0;return Object.assign(v,h),v})}}}class r_ extends Fn{constructor(n,o=new a_(n)){super(),this.apiClient=n,this.documents=o,this.list=async(s={})=>new ki(Bn.PAGED_ITEM_FILE_SEARCH_STORES,r=>this.listInternal(r),await this.listInternal(s),s)}async uploadToFileSearchStore(n){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(n.fileSearchStoreName,n.file,n.config)}async create(n){var o,s;let r,f="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=VE(n);return f=ne("fileSearchStores",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async get(n){var o,s;let r,f="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=OE(n);return f=ne("{name}",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(n){var o,s;let r="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=FE(n);r=ne("{name}",m._url),f=m._query,delete m._url,delete m._query,await this.apiClient.request({path:r,queryParams:f,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(n){var o,s;let r,f="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=ZE(n);return f=ne("fileSearchStores",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),r.then(y=>{const h=$E(y),v=new ev;return Object.assign(v,h),v})}}async uploadToFileSearchStoreInternal(n){var o,s;let r,f="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=jE(n);return f=ne("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),r.then(y=>{const h=e_(y),v=new tv;return Object.assign(v,h),v})}}async importFile(n){var o,s;let r,f="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=QE(n);return f=ne("{file_search_store_name}:importFile",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),r.then(y=>{const h=JE(y),v=new Lu;return Object.assign(v,h),v})}}}function u_(i,n){const o={},s=u(i,["name"]);return s!=null&&c(o,["_url","name"],s),o}function c_(i,n){const o={},s=u(i,["name"]);return s!=null&&c(o,["_url","name"],s),o}function f_(i,n,o){const s={};if(u(i,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=u(i,["tunedModelDisplayName"]);if(n!==void 0&&r!=null&&c(n,["displayName"],r),u(i,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const f=u(i,["epochCount"]);n!==void 0&&f!=null&&c(n,["tuningTask","hyperparameters","epochCount"],f);const m=u(i,["learningRateMultiplier"]);if(m!=null&&c(s,["tuningTask","hyperparameters","learningRateMultiplier"],m),u(i,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(u(i,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(u(i,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const g=u(i,["batchSize"]);n!==void 0&&g!=null&&c(n,["tuningTask","hyperparameters","batchSize"],g);const y=u(i,["learningRate"]);if(n!==void 0&&y!=null&&c(n,["tuningTask","hyperparameters","learningRate"],y),u(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(u(i,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return s}function d_(i,n,o){const s={};let r=u(o,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const x=u(i,["validationDataset"]);n!==void 0&&x!=null&&c(n,["supervisedTuningSpec"],uh(x))}else if(r==="PREFERENCE_TUNING"){const x=u(i,["validationDataset"]);n!==void 0&&x!=null&&c(n,["preferenceOptimizationSpec"],uh(x))}const f=u(i,["tunedModelDisplayName"]);n!==void 0&&f!=null&&c(n,["tunedModelDisplayName"],f);const m=u(i,["description"]);n!==void 0&&m!=null&&c(n,["description"],m);let g=u(o,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const x=u(i,["epochCount"]);n!==void 0&&x!=null&&c(n,["supervisedTuningSpec","hyperParameters","epochCount"],x)}else if(g==="PREFERENCE_TUNING"){const x=u(i,["epochCount"]);n!==void 0&&x!=null&&c(n,["preferenceOptimizationSpec","hyperParameters","epochCount"],x)}let y=u(o,["config","method"]);if(y===void 0&&(y="SUPERVISED_FINE_TUNING"),y==="SUPERVISED_FINE_TUNING"){const x=u(i,["learningRateMultiplier"]);n!==void 0&&x!=null&&c(n,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],x)}else if(y==="PREFERENCE_TUNING"){const x=u(i,["learningRateMultiplier"]);n!==void 0&&x!=null&&c(n,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],x)}let h=u(o,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const x=u(i,["exportLastCheckpointOnly"]);n!==void 0&&x!=null&&c(n,["supervisedTuningSpec","exportLastCheckpointOnly"],x)}else if(h==="PREFERENCE_TUNING"){const x=u(i,["exportLastCheckpointOnly"]);n!==void 0&&x!=null&&c(n,["preferenceOptimizationSpec","exportLastCheckpointOnly"],x)}let v=u(o,["config","method"]);if(v===void 0&&(v="SUPERVISED_FINE_TUNING"),v==="SUPERVISED_FINE_TUNING"){const x=u(i,["adapterSize"]);n!==void 0&&x!=null&&c(n,["supervisedTuningSpec","hyperParameters","adapterSize"],x)}else if(v==="PREFERENCE_TUNING"){const x=u(i,["adapterSize"]);n!==void 0&&x!=null&&c(n,["preferenceOptimizationSpec","hyperParameters","adapterSize"],x)}if(u(i,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(u(i,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const T=u(i,["labels"]);n!==void 0&&T!=null&&c(n,["labels"],T);const C=u(i,["beta"]);return n!==void 0&&C!=null&&c(n,["preferenceOptimizationSpec","hyperParameters","beta"],C),s}function p_(i,n){const o={},s=u(i,["baseModel"]);s!=null&&c(o,["baseModel"],s);const r=u(i,["preTunedModel"]);r!=null&&c(o,["preTunedModel"],r);const f=u(i,["trainingDataset"]);f!=null&&x_(f);const m=u(i,["config"]);return m!=null&&f_(m,o),o}function m_(i,n){const o={},s=u(i,["baseModel"]);s!=null&&c(o,["baseModel"],s);const r=u(i,["preTunedModel"]);r!=null&&c(o,["preTunedModel"],r);const f=u(i,["trainingDataset"]);f!=null&&A_(f,o,n);const m=u(i,["config"]);return m!=null&&d_(m,o,n),o}function h_(i,n){const o={},s=u(i,["name"]);return s!=null&&c(o,["_url","name"],s),o}function g_(i,n){const o={},s=u(i,["name"]);return s!=null&&c(o,["_url","name"],s),o}function y_(i,n,o){const s={},r=u(i,["pageSize"]);n!==void 0&&r!=null&&c(n,["_query","pageSize"],r);const f=u(i,["pageToken"]);n!==void 0&&f!=null&&c(n,["_query","pageToken"],f);const m=u(i,["filter"]);return n!==void 0&&m!=null&&c(n,["_query","filter"],m),s}function v_(i,n,o){const s={},r=u(i,["pageSize"]);n!==void 0&&r!=null&&c(n,["_query","pageSize"],r);const f=u(i,["pageToken"]);n!==void 0&&f!=null&&c(n,["_query","pageToken"],f);const m=u(i,["filter"]);return n!==void 0&&m!=null&&c(n,["_query","filter"],m),s}function S_(i,n){const o={},s=u(i,["config"]);return s!=null&&y_(s,o),o}function T_(i,n){const o={},s=u(i,["config"]);return s!=null&&v_(s,o),o}function C_(i,n){const o={},s=u(i,["sdkHttpResponse"]);s!=null&&c(o,["sdkHttpResponse"],s);const r=u(i,["nextPageToken"]);r!=null&&c(o,["nextPageToken"],r);const f=u(i,["tunedModels"]);if(f!=null){let m=f;Array.isArray(m)&&(m=m.map(g=>Oh(g))),c(o,["tuningJobs"],m)}return o}function E_(i,n){const o={},s=u(i,["sdkHttpResponse"]);s!=null&&c(o,["sdkHttpResponse"],s);const r=u(i,["nextPageToken"]);r!=null&&c(o,["nextPageToken"],r);const f=u(i,["tuningJobs"]);if(f!=null){let m=f;Array.isArray(m)&&(m=m.map(g=>Du(g))),c(o,["tuningJobs"],m)}return o}function __(i,n){const o={},s=u(i,["name"]);s!=null&&c(o,["model"],s);const r=u(i,["name"]);return r!=null&&c(o,["endpoint"],r),o}function x_(i,n){const o={};if(u(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(i,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const s=u(i,["examples"]);if(s!=null){let r=s;Array.isArray(r)&&(r=r.map(f=>f)),c(o,["examples","examples"],r)}return o}function A_(i,n,o){const s={};let r=u(o,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const m=u(i,["gcsUri"]);n!==void 0&&m!=null&&c(n,["supervisedTuningSpec","trainingDatasetUri"],m)}else if(r==="PREFERENCE_TUNING"){const m=u(i,["gcsUri"]);n!==void 0&&m!=null&&c(n,["preferenceOptimizationSpec","trainingDatasetUri"],m)}let f=u(o,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const m=u(i,["vertexDatasetResource"]);n!==void 0&&m!=null&&c(n,["supervisedTuningSpec","trainingDatasetUri"],m)}else if(f==="PREFERENCE_TUNING"){const m=u(i,["vertexDatasetResource"]);n!==void 0&&m!=null&&c(n,["preferenceOptimizationSpec","trainingDatasetUri"],m)}if(u(i,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return s}function Oh(i,n){const o={},s=u(i,["sdkHttpResponse"]);s!=null&&c(o,["sdkHttpResponse"],s);const r=u(i,["name"]);r!=null&&c(o,["name"],r);const f=u(i,["state"]);f!=null&&c(o,["state"],Ah(f));const m=u(i,["createTime"]);m!=null&&c(o,["createTime"],m);const g=u(i,["tuningTask","startTime"]);g!=null&&c(o,["startTime"],g);const y=u(i,["tuningTask","completeTime"]);y!=null&&c(o,["endTime"],y);const h=u(i,["updateTime"]);h!=null&&c(o,["updateTime"],h);const v=u(i,["description"]);v!=null&&c(o,["description"],v);const T=u(i,["baseModel"]);T!=null&&c(o,["baseModel"],T);const C=u(i,["_self"]);return C!=null&&c(o,["tunedModel"],__(C)),o}function Du(i,n){const o={},s=u(i,["sdkHttpResponse"]);s!=null&&c(o,["sdkHttpResponse"],s);const r=u(i,["name"]);r!=null&&c(o,["name"],r);const f=u(i,["state"]);f!=null&&c(o,["state"],Ah(f));const m=u(i,["createTime"]);m!=null&&c(o,["createTime"],m);const g=u(i,["startTime"]);g!=null&&c(o,["startTime"],g);const y=u(i,["endTime"]);y!=null&&c(o,["endTime"],y);const h=u(i,["updateTime"]);h!=null&&c(o,["updateTime"],h);const v=u(i,["error"]);v!=null&&c(o,["error"],v);const T=u(i,["description"]);T!=null&&c(o,["description"],T);const C=u(i,["baseModel"]);C!=null&&c(o,["baseModel"],C);const x=u(i,["tunedModel"]);x!=null&&c(o,["tunedModel"],x);const b=u(i,["preTunedModel"]);b!=null&&c(o,["preTunedModel"],b);const w=u(i,["supervisedTuningSpec"]);w!=null&&c(o,["supervisedTuningSpec"],w);const Y=u(i,["preferenceOptimizationSpec"]);Y!=null&&c(o,["preferenceOptimizationSpec"],Y);const q=u(i,["tuningDataStats"]);q!=null&&c(o,["tuningDataStats"],q);const Q=u(i,["encryptionSpec"]);Q!=null&&c(o,["encryptionSpec"],Q);const V=u(i,["partnerModelTuningSpec"]);V!=null&&c(o,["partnerModelTuningSpec"],V);const j=u(i,["customBaseModel"]);j!=null&&c(o,["customBaseModel"],j);const te=u(i,["experiment"]);te!=null&&c(o,["experiment"],te);const ie=u(i,["labels"]);ie!=null&&c(o,["labels"],ie);const X=u(i,["outputUri"]);X!=null&&c(o,["outputUri"],X);const le=u(i,["pipelineJob"]);le!=null&&c(o,["pipelineJob"],le);const ee=u(i,["serviceAccount"]);ee!=null&&c(o,["serviceAccount"],ee);const W=u(i,["tunedModelDisplayName"]);W!=null&&c(o,["tunedModelDisplayName"],W);const ge=u(i,["veoTuningSpec"]);return ge!=null&&c(o,["veoTuningSpec"],ge),o}function N_(i,n){const o={},s=u(i,["sdkHttpResponse"]);s!=null&&c(o,["sdkHttpResponse"],s);const r=u(i,["name"]);r!=null&&c(o,["name"],r);const f=u(i,["metadata"]);f!=null&&c(o,["metadata"],f);const m=u(i,["done"]);m!=null&&c(o,["done"],m);const g=u(i,["error"]);return g!=null&&c(o,["error"],g),o}function uh(i,n){const o={},s=u(i,["gcsUri"]);s!=null&&c(o,["validationDatasetUri"],s);const r=u(i,["vertexDatasetResource"]);return r!=null&&c(o,["validationDatasetUri"],r),o}class M_ extends Fn{constructor(n){super(),this.apiClient=n,this.get=async o=>await this.getInternal(o),this.list=async(o={})=>new ki(Bn.PAGED_ITEM_TUNING_JOBS,s=>this.listInternal(s),await this.listInternal(o),o),this.tune=async o=>{var s;if(this.apiClient.isVertexAI())if(o.baseModel.startsWith("projects/")){const r={tunedModelName:o.baseModel};!((s=o.config)===null||s===void 0)&&s.preTunedModelCheckpointId&&(r.checkpointId=o.config.preTunedModelCheckpointId);const f=Object.assign(Object.assign({},o),{preTunedModel:r});return f.baseModel=void 0,await this.tuneInternal(f)}else{const r=Object.assign({},o);return await this.tuneInternal(r)}else{const r=Object.assign({},o),f=await this.tuneMldevInternal(r);let m="";return f.metadata!==void 0&&f.metadata.tunedModel!==void 0?m=f.metadata.tunedModel:f.name!==void 0&&f.name.includes("/operations/")&&(m=f.name.split("/operations/")[0]),{name:m,state:xu.JOB_STATE_QUEUED}}}}async getInternal(n){var o,s,r,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=g_(n);return g=ne("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:v.headers},C})),m.then(v=>Du(v))}else{const h=h_(n);return g=ne("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:v.headers},C})),m.then(v=>Oh(v))}}async listInternal(n){var o,s,r,f;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=T_(n);return g=ne("tuningJobs",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:v.headers},C})),m.then(v=>{const T=E_(v),C=new Bm;return Object.assign(C,T),C})}else{const h=S_(n);return g=ne("tunedModels",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(T=>{const C=T;return C.sdkHttpResponse={headers:v.headers},C})),m.then(v=>{const T=C_(v),C=new Bm;return Object.assign(C,T),C})}}async cancel(n){var o,s,r,f;let m="",g={};if(this.apiClient.isVertexAI()){const y=c_(n);m=ne("{name}:cancel",y._url),g=y._query,delete y._url,delete y._query,await this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal})}else{const y=u_(n);m=ne("{name}:cancel",y._url),g=y._query,delete y._url,delete y._query,await this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=n.config)===null||f===void 0?void 0:f.abortSignal})}}async tuneInternal(n){var o,s;let r,f="",m={};if(this.apiClient.isVertexAI()){const g=m_(n,n);return f=ne("tuningJobs",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>Du(y))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(n){var o,s;let r,f="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=p_(n);return f=ne("tunedModels",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:f,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=n.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(s=n.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(h=>{const v=h;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>N_(y))}}}class R_{async download(n,o){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const b_=1024*1024*8,w_=3,D_=1e3,I_=2,ta="x-goog-upload-status";async function U_(i,n,o){var s;const r=await Yh(i,n,o),f=await r?.json();if(((s=r?.headers)===null||s===void 0?void 0:s[ta])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return f.file}async function L_(i,n,o){var s;const r=await Yh(i,n,o),f=await r?.json();if(((s=r?.headers)===null||s===void 0?void 0:s[ta])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const m=Sh(f),g=new qu;return Object.assign(g,m),g}async function Yh(i,n,o){var s,r;let f=0,m=0,g=new Au(new Response),y="upload";for(f=i.size;m<f;){const h=Math.min(b_,f-m),v=i.slice(m,m+h);m+h>=f&&(y+=", finalize");let T=0,C=D_;for(;T<w_&&(g=await o.request({path:"",body:v,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:n,headers:{"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":String(m),"Content-Length":String(h)}}}),!(!((s=g?.headers)===null||s===void 0)&&s[ta]));)T++,await G_(C),C=C*I_;if(m+=h,((r=g?.headers)===null||r===void 0?void 0:r[ta])!=="active")break;if(f<=m)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return g}async function q_(i){return{size:i.size,type:i.type}}function G_(i){return new Promise(n=>setTimeout(n,i))}class H_{async upload(n,o,s){if(typeof n=="string")throw new Error("File path is not supported in browser uploader.");return await U_(n,o,s)}async uploadToFileSearchStore(n,o,s){if(typeof n=="string")throw new Error("File path is not supported in browser uploader.");return await L_(n,o,s)}async stat(n){if(typeof n=="string")throw new Error("File path is not supported in browser uploader.");return await q_(n)}}class z_{create(n,o,s){return new k_(n,o,s)}}class k_{constructor(n,o,s){this.url=n,this.headers=o,this.callbacks=s}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(n){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(n)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}const ch="x-goog-api-key";class P_{constructor(n){this.apiKey=n}async addAuthHeaders(n,o){if(n.get(ch)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");n.append(ch,this.apiKey)}}}const V_="gl-node/";class B_{constructor(n){var o;if(n.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(n.project||n.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(o=n.vertexai)!==null&&o!==void 0?o:!1,this.apiKey=n.apiKey;const s=I0(n.httpOptions,n.vertexai,void 0,void 0);s&&(n.httpOptions?n.httpOptions.baseUrl=s:n.httpOptions={baseUrl:s}),this.apiVersion=n.apiVersion;const r=new P_(this.apiKey);this.apiClient=new lE({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:n.httpOptions,userAgentExtra:V_+"web",uploader:new H_,downloader:new R_}),this.models=new _E(this.apiClient),this.live=new yE(this.apiClient,r,new z_),this.batches=new iS(this.apiClient),this.chats=new qS(this.models,this.apiClient),this.caches=new IS(this.apiClient),this.files=new YS(this.apiClient),this.operations=new xE(this.apiClient),this.authTokens=new kE(this.apiClient),this.tunings=new M_(this.apiClient),this.fileSearchStores=new r_(this.apiClient)}}const F_=void 0;console.warn("Gemini API key not found. Please set the API_KEY environment variable.");const qo=new B_({apiKey:F_}),O_="gemini_search_cache_",Y_=1800*1e3,J_="gemini_completion_cache_",Q_=300*1e3,K_=(i,n,o,s,r,f)=>{const g=JSON.stringify({prompt:i,context:n,withSearch:o,withMaps:s,latitude:r,longitude:f}),y=encodeURIComponent(g).replace(/%([0-9A-F]{2})/g,(h,v)=>String.fromCharCode(parseInt(v,16)));return O_+btoa(y)},X_=i=>{try{if(typeof localStorage>"u")return null;const n=localStorage.getItem(i);if(n){const{timestamp:o,code:s,groundingChunks:r}=JSON.parse(n);if(Date.now()-o<Y_)return console.log(`Loading from cache: ${i}`),{code:s,groundingChunks:r};console.log(`Cache expired for: ${i}`),localStorage.removeItem(i)}}catch(n){console.error("Error loading from cache:",n),typeof localStorage<"u"&&localStorage.removeItem(i)}return null},Z_=(i,n,o)=>{try{if(typeof localStorage>"u")return;const s={timestamp:Date.now(),code:n,groundingChunks:o};localStorage.setItem(i,JSON.stringify(s)),console.log(`Saved to cache: ${i}`)}catch(s){console.error("Error saving to cache:",s)}},Ks=async(i,n,o,s,r,f,m)=>{const g=`You are a world-class software architect and principal engineer, an expert in complex algorithms and system design. Your mission is to generate, refactor, or optimize code to solve sophisticated algorithmic challenges.
Internally, you must deconstruct the problem, think step-by-step, consider various data structures, analyze time and space complexity, and anticipate edge cases to architect the most robust and performant solution.

User Request: "${i}"

Current Code Context:
\`\`\`
${n}
\`\`\`

Produce only the final, complete, and production-ready code block as your response. Do not include any explanations, markdown formatting, or other text outside of the code.
`,y={thinkingConfig:{thinkingBudget:32768},tools:[],toolConfig:{}};o&&y.tools.push({googleSearch:{}}),s&&(y.tools.push({googleMaps:{}}),r!==null&&f!==null&&(y.toolConfig.retrievalConfig={latLng:{latitude:r,longitude:f}})),y.tools.length===0&&(delete y.tools,delete y.toolConfig);const h=K_(i,n,o,s,r,f);if(typeof localStorage<"u"&&(o||s)&&h){const b=X_(h);if(b)return m?.(b),b}const v=await qo.models.generateContentStream({model:"gemini-2.5-pro",contents:g,config:y});let T="",C=[];for await(const b of v)try{const w=b.text;typeof w=="string"?T+=w:w!=null&&console.warn("Received a stream chunk with non-string text content:",b);const Y=b.candidates?.[0]?.groundingMetadata?.groundingChunks;Array.isArray(Y)&&Y.forEach(q=>{const Q={web:q.web?{uri:q.web.uri,title:q.web.title}:void 0,maps:q.maps?{uri:q.maps.uri,title:q.maps.title,placeAnswerSources:q.maps.placeAnswerSources?[{reviewSnippets:q.maps.placeAnswerSources.reviewSnippets?.map(V=>({displayText:V.text,uri:V.url}))}]:void 0}:void 0};(Q.web?.uri&&!C.some(V=>V.web?.uri===Q.web?.uri)||Q.maps?.uri&&!C.some(V=>V.maps?.uri===Q.maps?.uri))&&C.push(Q)}),m?.({code:T,groundingChunks:C.length>0?C:void 0})}catch(w){console.error("Error processing stream chunk. The stream will continue.",{error:w,chunk:b})}const x={code:T,groundingChunks:C.length>0?C:void 0};return typeof localStorage<"u"&&(o||s)&&h&&T&&Z_(h,T,C),x},$_=async(i,n,o)=>{const s=i.substring(0,n),r=s.match(/[\w.$]+$/),f=r?r[0]:"",m=`${J_}${o}:${f}`;if(typeof localStorage<"u")try{const h=localStorage.getItem(m);if(h){const{timestamp:v,suggestions:T}=JSON.parse(h);if(Date.now()-v<Q_)return console.log(`Loading completion from cache: ${f}`),T;localStorage.removeItem(m)}}catch(h){console.error("Error loading completion from cache:",h),localStorage.removeItem(m)}const g="gemini-2.5-flash",y=`You are an expert code completion AI. Given the following code snippet and the cursor position, provide highly relevant code completion suggestions.
The user has typed up to the cursor. Provide completions for the token or structure directly following the cursor.

Code context leading to cursor (language: ${o}):
\`\`\`${o}
${s}
\`\`\`

Based on this context, provide 3 to 5 concise and direct code completion suggestions.
For each suggestion, also provide detailed documentation including multi-line function signatures, parameter hints, and a brief description. Ensure this documentation clearly shows parameters and their types on separate lines if needed for clarity.
Do NOT generate entire functions, explanations, or code blocks. Just the raw completion strings and their documentation.
Return only a JSON array of objects, for example:
[
    { "suggestion": "console.log", "documentation": "console.log(message?: any, ...optionalParams: any[]): void\\nLogs messages to the console." },
    { "suggestion": "Math.random", "documentation": "Math.random(): number\\nReturns a pseudo-random number between 0 and 1." }
]
`;try{let v=(await qo.models.generateContent({model:g,contents:[{parts:[{text:y}]}],config:{responseMimeType:"application/json",responseSchema:{type:yt.ARRAY,items:{type:yt.OBJECT,properties:{suggestion:{type:yt.STRING,description:"The code completion string."},documentation:{type:yt.STRING,description:"Detailed documentation for the suggestion, including multi-line function signatures, parameter hints, and a brief description, possibly spanning several lines."}},required:["suggestion"]}},thinkingConfig:{thinkingBudget:50},maxOutputTokens:1e3}})).text.trim();v.startsWith("```json")&&v.endsWith("```")&&(v=v.substring(7,v.length-3).trim());const T=JSON.parse(v);if(!Array.isArray(T)||!T.every(C=>typeof C.suggestion=="string"))return console.error("Invalid completion response format:",T),[];if(typeof localStorage<"u")try{localStorage.setItem(m,JSON.stringify({suggestions:T,timestamp:Date.now()})),console.log(`Saved completion to cache: ${f}`)}catch(C){console.warn("Could not save completion to cache:",C)}return T}catch(h){return console.error("Error requesting code completion:",h),[]}},Jh=[{name:"Performance Optimizer",description:"Focuses on maximum performance, low-level optimization, bit-twiddling, and efficient memory usage. Writes highly optimized, fast code."},{name:"Code Readability Advocate",description:"Prioritizes clean, elegant, and maintainable code. Uses design patterns, clear naming conventions, and extensive comments."},{name:"Modernist Developer",description:"Leverages the latest language features, functional programming concepts, and modern idioms to write concise and expressive code."},{name:"Theoretical Scientist",description:"Approaches problems from a mathematical or theoretical computer science perspective, ensuring algorithmic purity and correctness."},{name:"Simplicity Champion",description:"Advocates for simple, straightforward, and easy-to-understand solutions, avoiding unnecessary complexity. Prefers brute-force if it's clearer."},{name:"Scalability Architect",description:"Designs solutions that can handle massive datasets and high concurrency, considering distributed systems principles."},{name:"Security Specialist",description:"Focuses on secure coding practices, identifying potential vulnerabilities, and implementing robust defenses against common exploits."},{name:"UI/UX Futurist",description:"Prioritizes an exceptional and intuitive user experience, focusing on accessibility, modern design patterns, and fluid interactivity."},{name:"API Architect",description:"Designs clean, maintainable, and scalable API contracts. Focuses on RESTful principles, data modeling, and clear versioning strategies."},{name:"Legacy Code Modernizer",description:"Specializes in refactoring outdated codebases, untangling monolithic structures, and upgrading them with modern design patterns and technologies."}],fh=async(i,n,o)=>{const s=Jh.filter(y=>o.includes(y.name));if(s.length===0)return[];const f=s.map(y=>`You are an AI software engineer with a highly specialized expert persona.
Persona: ${y.description}

Your mission is to fulfill the user's request based *strictly* on your assigned persona. Analyze the problem, consider all constraints and possibilities from your persona's unique viewpoint, and generate the optimal code solution.

User Request: "${i}"

Current Code Context:
\`\`\`
${n}
\`\`\`

Produce only the final, complete, and production-ready code block as your response. Do not include any explanations, markdown formatting, or other text outside of the code.`).map(y=>qo.models.generateContent({model:"gemini-2.5-flash",contents:y})),m=await Promise.all(f),g=new Map;return m.forEach((y,h)=>{const v=y.text.trim();if(v){const T=v.match(/```(?:[\w\s]*)\n?([\s\S]*?)```/),C=(T&&T[1]?T[1].trim():v).trim();if(!C)return;g.has(C)||g.set(C,{agents:[],count:0});const x=s[h].name,b=g.get(C);b.agents.push(x),b.count+=1}}),Array.from(g.entries()).map(([y,h])=>({content:y,agents:h.agents,count:h.count,avgEntropy:Math.random()*2+5,score:h.count+(Math.random()*2+5)*.1})).sort((y,h)=>h.score-y.score)},W_=async i=>{const n=`You are a world-class AI code reviewer with deep expertise in identifying bugs, security vulnerabilities, style inconsistencies, and performance bottlenecks.
Analyze the following code meticulously. For each issue you find, provide a concise and actionable suggestion.
Do not comment on correct code. Only report issues that need attention.

Code to review:
\`\`\`
${i}
\`\`\`

Return your findings as a JSON object that adheres to the provided schema.
`,o=await qo.models.generateContent({model:"gemini-2.5-pro",contents:n,config:{responseMimeType:"application/json",responseSchema:{type:yt.OBJECT,properties:{findings:{type:yt.ARRAY,items:{type:yt.OBJECT,properties:{line_number:{type:yt.INTEGER,description:"The line number where the issue occurs."},severity:{type:yt.STRING,description:"The severity of the issue. Must be one of: Critical, Warning, Suggestion."},category:{type:yt.STRING,description:"The category of the issue. Must be one of: Bug, Security, Style, Performance."},suggestion:{type:yt.STRING,description:"A clear, actionable suggestion to fix the issue."}},required:["line_number","severity","category","suggestion"]}}},required:["findings"]}}});try{let s=o.text.trim();s.startsWith("```json")&&s.endsWith("```")&&(s=s.substring(7,s.length-3).trim());const r=JSON.parse(s);return r&&Array.isArray(r.findings)?r.findings:[]}catch(s){throw console.error("Failed to parse code review response:",s),new Error("Could not parse AI code review response.")}},j_=async i=>{const n=`You are an expert software engineer whose sole task is to review and fix code for common issues such as syntax errors, logical bugs, and style inconsistencies. Your response must ONLY contain the corrected, complete, and production-ready code block. Do not include any explanations, markdown formatting, or other text outside of the code. Just the code.

Code to fix:
\`\`\`
${i}
\`\`\`
`;let s=(await qo.models.generateContent({model:"gemini-2.5-flash",contents:n})).text.trim();const r=s.match(/```(?:[\w\s]*)\n?([\s\S]*?)```/);return(r&&r[1]?r[1].trim():s).trim()},ex=({suggestions:i,selectedSuggestionIndex:n,position:o,onSelect:s,onClose:r,fontSize:f})=>{const m=U.useRef(null);return U.useEffect(()=>{const g=h=>{m.current&&!m.current.contains(h.target)&&r()},y=setTimeout(()=>{document.addEventListener("mousedown",g)},100);return()=>{clearTimeout(y),document.removeEventListener("mousedown",g)}},[r]),U.useEffect(()=>{if(m.current){const g=m.current.children[n];g&&g.scrollIntoView({block:"nearest",behavior:"smooth"})}},[n]),i.length===0?null:E.jsx("div",{ref:m,className:"absolute bg-[#313328] border border-[#4ac94a] rounded-md shadow-lg max-h-60 overflow-y-auto z-50 p-1",style:{top:`${o.top}px`,left:`${o.left}px`,fontSize:`${f}px`,minWidth:"200px",pointerEvents:"auto",fontFamily:"Fira Code, monospace"},role:"listbox","aria-label":"Code Completion Suggestions",children:i.map((g,y)=>E.jsxs("div",{className:`px-3 py-1.5 cursor-pointer text-[#f0f0e0] hover:bg-[#4ac94a]/30 rounded ${y===n?"bg-[#4ac94a]/50":""}`,onClick:()=>s(g.suggestion),role:"option","aria-selected":y===n,id:`completion-option-${y}`,children:[E.jsx("div",{className:"font-bold",style:{whiteSpace:"pre-wrap"},children:g.suggestion}),g.documentation&&E.jsx("div",{className:"text-xs text-slate-400 font-normal mt-1 p-1 bg-black/10 rounded",style:{fontSize:`${f*.8}px`,whiteSpace:"pre-wrap"},children:g.documentation})]},y))})},tx=(i,n,o,s,r=[],f=-1)=>{if(!i)return"";const m=yh(i,n);let g=0;return m.map(y=>{const h=!!y.errorMessage,v=y.errorMessage?.replace(/"/g,"&quot;"),T=h?`title="${v}"`:"",C=h?Il.error:Il[y.type]||Il.unknown;let x=zi(y.value);const b=g,w=g+y.value.length;let Y="",q=0;if(r.forEach((Q,V)=>{const j=Q.start,te=Q.end,ie=Math.max(b,j),X=Math.min(w,te);if(ie<X){const le=x.substring(q,ie-b),ee=x.substring(ie-b,X-b),W=x.substring(X-b);Y+=le+`<span class="${V===f?"editor-active-match":"editor-search-match"}">${ee}</span>`,q=X-b,x=Y+W}}),Y===""?x=zi(y.value):(q<zi(y.value).length&&(Y+=x.substring(q)),x=Y),o!==void 0&&s!==void 0&&o<s){const Q=Math.max(b,o),V=Math.min(w,s);if(Q<V){const j=x.substring(0,Q-b),te=x.substring(Q-b,V-b),ie=x.substring(V-b);x=`${j}<span class="editor-selection">${te}</span>${ie}`}}return g+=y.value.length,`<span class="${C}" ${T}>${x}</span>`}).join("")},dh=20,nx=({content:i,setContent:n,fileType:o,onStatsChange:s,fontSize:r,onSelectionChange:f,isFindReplaceOpen:m,onFindReplaceToggle:g})=>{const y=U.useRef(null),h=U.useRef(null),v=U.useRef(null),T=U.useRef(null),C=U.useRef(null),[x,b]=U.useState(0),[w,Y]=U.useState(0),[q,Q]=U.useState(0),[V,j]=U.useState(0),[te,ie]=U.useState(0),[X,le]=U.useState(0),[ee,W]=U.useState(0),[ge,ce]=U.useState(0),[Ue,ht]=U.useState(!1),[Xe,G]=U.useState([]),[J,ue]=U.useState(""),[De,Ge]=U.useState(0),[M,F]=U.useState(0),[$,oe]=U.useState({top:0,left:0}),[he,ye]=U.useState(!1),Te=U.useRef(null),[Le,Ze]=U.useState(""),[ot,rn]=U.useState(""),[Kt,Pi]=U.useState(!1),[zt,Vi]=U.useState(!1),[qe,gn]=U.useState([]),[rt,de]=U.useState(-1),ut=U.useMemo(()=>i.split(`
`),[i]),kt=ut.length;U.useLayoutEffect(()=>{if(y.current){y.current.style.height="auto";const k=document.createElement("span");k.style.display="block",k.style.fontSize=`${r}px`,k.style.fontFamily="Fira Code, monospace",k.style.lineHeight="1.5em",k.textContent="M",document.body.appendChild(k);const Z=k.offsetHeight;document.body.removeChild(k),Y(Z),y.current.style.height="100%",b(y.current.clientHeight)}},[r]),U.useEffect(()=>{const k=new ResizeObserver(Z=>{Z[0]&&y.current&&b(y.current.clientHeight)});return y.current&&k.observe(y.current),()=>{y.current&&k.unobserve(y.current)}},[]);const yn=U.useCallback((k,Z)=>{if(!k||!k.value||Z<0||Z>k.value.length)return{top:0,left:0};const me=document.createElement("div"),xe=getComputedStyle(k);Object.assign(me.style,{position:"absolute",visibility:"hidden",whiteSpace:"pre-wrap",fontFamily:xe.fontFamily,fontSize:xe.fontSize,lineHeight:xe.lineHeight,padding:xe.padding,border:xe.border,boxSizing:xe.boxSizing,width:`${k.clientWidth}px`,height:`${k.clientHeight}px`,overflow:xe.overflow,wordBreak:xe.wordBreak,wordWrap:xe.wordWrap,paddingTop:"0px",paddingBottom:"0px",top:`${k.offsetTop}px`,left:`${k.offsetLeft}px`});const z=k.value.substring(0,Z);me.textContent=z;const K=document.createElement("span");me.appendChild(K),me.appendChild(document.createTextNode(k.value.substring(Z))),document.body.appendChild(me),me.scrollTop=k.scrollTop,me.scrollLeft=k.scrollLeft;const se=K.getBoundingClientRect(),Ce=T.current;if(!Ce)return document.body.removeChild(me),{top:0,left:0};const Ne=Ce.getBoundingClientRect();document.body.removeChild(me);const Ve=se.left-Ne.left,Be=se.bottom-Ne.top;return{top:Math.max(0,Be+5),left:Math.max(0,Ve)}},[]),Dt=U.useCallback(k=>{if(!w||!x)return;const{scrollTop:Z,scrollLeft:me}=k.currentTarget;h.current&&h.current.parentElement&&(h.current.parentElement.scrollLeft=me),v.current&&(v.current.scrollLeft=me);const xe=Math.floor(Z/w),z=Math.ceil((Z+x)/w),K=Math.max(0,xe-dh),se=Math.min(kt,z+dh);Q(K),j(se),ie(K*w),le(Math.max(0,(kt-se)*w)),Ue&&y.current&&oe(yn(y.current,ee))},[w,x,kt,Ue,ee,yn]),et=U.useCallback(()=>{ht(!1),G([]),F(0),ue(""),Ge(0),ye(!1),Te.current&&clearTimeout(Te.current)},[]),Bi=U.useCallback(k=>{const Z=y.current;if(!Z)return;const me=Z.value,xe=me.substring(0,De)+k+me.substring(De+J.length);n(xe),setTimeout(()=>{Z.selectionStart=Z.selectionEnd=De+k.length,W(Z.selectionStart),ce(Z.selectionEnd),f(Z.selectionStart,Z.selectionEnd),Z.focus(),Dt({currentTarget:Z})},0),et()},[De,J.length,n,et,Dt,f]),Si=U.useCallback(()=>{Te.current&&clearTimeout(Te.current),Te.current=window.setTimeout(async()=>{const k=y.current;if(!k)return;const Z=k.selectionStart,xe=k.value.substring(0,Z).match(/[\w.$]+$/),z=xe?xe[0]:"",K=xe?Z-z.length:Z;if(z.length>=2||z.endsWith(".")){ye(!0),ue(z),Ge(K),oe(yn(k,Z));try{const se=await $_(k.value,Z,o);se.length>0?(G(se),ht(!0),F(0)):et()}catch(se){console.error("Completion request failed:",se),et()}finally{ye(!1)}}else et()},300)},[o,yn,et]),Fi=U.useCallback(k=>{n(k.target.value),W(k.target.selectionStart),ce(k.target.selectionEnd),f(k.target.selectionStart,k.target.selectionEnd),Si()},[n,Si,f]),un=U.useCallback(()=>{if(!Le){gn([]),de(-1);return}const k=[];let Z=i,me=Le;Kt||(Z=Z.toLowerCase(),me=me.toLowerCase());let xe=0;for(;xe!==-1;){const z=Z.indexOf(me,xe);z!==-1?(k.push({start:z,end:z+me.length}),xe=z+me.length):xe=-1}gn(k),de(k.length>0?0:-1)},[i,Le,Kt]);U.useEffect(()=>{un()},[un]);const Xt=U.useCallback(k=>{if(k===-1||!y.current||qe.length===0)return;const Z=qe[k];y.current.setSelectionRange(Z.start,Z.end),y.current.focus(),f(Z.start,Z.end);const xe=(i.substring(0,Z.start).split(`
`).length-1)*w;y.current.scrollTop=xe-x/3},[qe,i,w,x,f]),Yn=U.useCallback(()=>{if(qe.length===0)return;const k=(rt+1)%qe.length;de(k),Xt(k)},[qe,rt,Xt]),Oi=U.useCallback(()=>{if(qe.length===0)return;const k=(rt-1+qe.length)%qe.length;de(k),Xt(k)},[qe,rt,Xt]),kl=U.useCallback(()=>{if(rt===-1||qe.length===0||!ot)return;const k=qe[rt],Z=i.substring(0,k.start)+ot+i.substring(k.end);n(Z),setTimeout(()=>un(),0)},[i,qe,rt,ot,n,un]),vn=U.useCallback(()=>{if(qe.length===0||!ot)return;let k=i;for(let Z=qe.length-1;Z>=0;Z--){const me=qe[Z];k=k.substring(0,me.start)+ot+k.substring(me.end)}n(k),Ze(""),rn(""),gn([]),de(-1)},[i,qe,ot,n]);U.useEffect(()=>{const k=y.current;if(!k)return;const Z=()=>{const{selectionStart:me,selectionEnd:xe}=k,z=i.substring(0,me),K=z.split(`
`).length,se=me-z.lastIndexOf(`
`);s({cursor:`${K}:${se}`,lines:i.split(`
`).length,chars:i.length}),W(me),ce(xe),f(me,xe),Dt({currentTarget:k}),Ue&&oe(yn(k,me))};return Z(),k.addEventListener("keyup",Z),k.addEventListener("click",Z),k.addEventListener("select",Z),()=>{k.removeEventListener("keyup",Z),k.removeEventListener("click",Z),k.removeEventListener("select",Z),Te.current&&clearTimeout(Te.current)}},[i,s,Dt,Ue,yn,f]);const Et=k=>{if(Ue)switch(k.key){case"ArrowDown":k.preventDefault(),F(Z=>(Z+1)%Xe.length);break;case"ArrowUp":k.preventDefault(),F(Z=>(Z-1+Xe.length)%Xe.length);break;case"Enter":k.preventDefault(),Xe[M]&&Bi(Xe[M].suggestion);break;case"Escape":k.preventDefault(),et();break}if((k.ctrlKey||k.metaKey)&&k.key==="f"&&(k.preventDefault(),g()),k.key==="Tab"&&!k.shiftKey){k.preventDefault();const Z=k.currentTarget.selectionStart,me=k.currentTarget.selectionEnd,xe=k.currentTarget.value,z=xe.substring(0,Z)+"  "+xe.substring(me);n(z),setTimeout(()=>{k.currentTarget.selectionStart=k.currentTarget.selectionEnd=Z+2,W(Z+2),ce(Z+2),f(Z+2,Z+2)},0)}else if(k.key==="Tab"&&k.shiftKey){k.preventDefault();const Z=k.currentTarget.selectionStart;k.currentTarget.selectionEnd;const me=k.currentTarget.value,xe=me.lastIndexOf(`
`,Z-1)+1,z=me.substring(0,xe),K=me.substring(xe);if(K.startsWith("  ")){const se=z+K.substring(2);n(se),setTimeout(()=>{const Ce=Math.max(xe,Z-2);k.currentTarget.selectionStart=k.currentTarget.selectionEnd=Ce,W(Ce),ce(Ce),f(Ce,Ce)},0)}}},Pt=k=>{k.key==="Enter"?(k.preventDefault(),k.shiftKey?Oi():Yn()):k.key==="Escape"&&(k.preventDefault(),g())};U.useEffect(()=>{m&&setTimeout(()=>C.current?.focus(),100)},[m]);const vt=U.useMemo(()=>ut.slice(q,V),[ut,q,V]),Jn=U.useMemo(()=>vt.join(`
`),[vt]),Yi=U.useMemo(()=>{if(ee===0)return 0;const k=ut.slice(0,q).join(`
`).length+(q>0?1:0);return Math.max(0,ee-k)},[ee,q,ut]),Ji=U.useMemo(()=>{if(ge===0)return 0;const k=ut.slice(0,q).join(`
`).length+(q>0?1:0);return Math.max(0,ge-k)},[ge,q,ut]),cn=U.useMemo(()=>{const k=ut.slice(0,q).join(`
`).length+(q>0?1:0);return qe.map(Z=>({start:Math.max(0,Z.start-k),end:Math.max(0,Z.end-k)})).filter(Z=>Z.start<Jn.length&&Z.end>0)},[qe,q,ut,Jn.length]),_n=U.useMemo(()=>{if(rt===-1||qe.length===0)return-1;const k=qe[rt];return cn.findIndex(Z=>Z.start===Math.max(0,k.start-(ut.slice(0,q).join(`
`).length+(q>0?1:0))))},[rt,qe,cn,ut,q]),Qn=U.useMemo(()=>tx(Jn+`
`,o,Yi,Ji,cn,_n),[Jn,o,Yi,Ji,cn,_n]),fn=U.useMemo(()=>{const k=[],Z=kt===0||i.endsWith(`
`)?kt+1:kt;for(let me=q;me<Math.min(Z,V);me++)k.push(me+1);return k.map(me=>E.jsx("div",{className:"h-[1.5em] flex items-center justify-end",children:me},me))},[q,V,kt,i]);return E.jsxs("div",{className:"flex-1 flex relative bg-[#22241e] overflow-hidden",children:[E.jsx("div",{ref:v,className:"text-right text-slate-600 select-none pr-3 pt-2 text-xs overflow-y-hidden overflow-x-hidden",style:{lineHeight:"1.5em",fontSize:`${r}px`,paddingTop:`${te}px`,paddingBottom:`${X}px`,fontFamily:"Fira Code, monospace",flexShrink:0},children:fn}),E.jsxs("div",{ref:T,className:"relative flex-1 h-full",children:[" ",E.jsx("textarea",{ref:y,value:i,onChange:Fi,onScroll:Dt,onKeyDown:Et,spellCheck:"false",className:"absolute inset-0 w-full h-full p-2 bg-transparent text-transparent caret-white outline-none resize-none font-mono text-xs leading-normal z-10 overflow-auto",style:{lineHeight:"1.5em",fontSize:`${r}px`,fontFamily:"Fira Code, monospace"},"aria-label":"Code Editor"}),E.jsx("pre",{className:"absolute inset-0 w-full h-full p-2 font-mono text-xs leading-normal pointer-events-none overflow-y-hidden whitespace-pre",style:{lineHeight:"1.5em",fontSize:`${r}px`,paddingTop:`${te}px`,paddingBottom:`${X}px`,fontFamily:"Fira Code, monospace"},"aria-hidden":"true",children:E.jsx("code",{ref:h,dangerouslySetInnerHTML:{__html:Qn}})}),Ue&&E.jsx(ex,{suggestions:Xe,selectedSuggestionIndex:M,position:$,onSelect:k=>Bi(k),onClose:et,fontSize:r}),he&&E.jsxs("div",{className:"absolute z-50 text-xs text-gray-400 p-1 flex items-center",style:{top:$.top+5,left:$.left},children:[E.jsxs("div",{className:"quantum-spinner w-3 h-3 inline-block mr-1.5 relative",children:[E.jsx("div",{className:"absolute w-full h-full border-2 border-transparent border-t-[#03DAC6] rounded-full quantum-spinner::before"}),E.jsx("div",{className:"absolute w-full h-full border-2 border-transparent border-b-[#BB86FC] rounded-full quantum-spinner::after"})]}),"AI Thinking..."]}),m&&E.jsxs("div",{className:"absolute top-2 right-2 bg-[#2e3026] border border-[#03DAC6] rounded shadow-lg p-2 flex flex-col gap-1.5 z-50",children:[E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("input",{ref:C,type:"text",placeholder:"Find",value:Le,onChange:k=>Ze(k.target.value),onKeyDown:Pt,className:"bg-[#22241e] text-[#f0f0e0] text-xs p-1 rounded border border-[#999966] focus:outline-none focus:ring-1 focus:ring-[#03DAC6] w-32",style:{fontFamily:"Fira Code, monospace"}}),E.jsx("button",{onClick:Oi,title:"Previous Match (Shift+Enter)",className:"bg-gray-700 hover:bg-gray-600 text-white text-xs p-1 rounded disabled:opacity-50 disabled:cursor-not-allowed",disabled:qe.length===0,children:""}),E.jsx("button",{onClick:Yn,title:"Next Match (Enter)",className:"bg-gray-700 hover:bg-gray-600 text-white text-xs p-1 rounded disabled:opacity-50 disabled:cursor-not-allowed",disabled:qe.length===0,children:""}),E.jsxs("span",{className:"text-xs text-gray-400",children:[rt+1,"/",qe.length]}),E.jsx("button",{onClick:g,className:"text-gray-400 hover:text-red-500 text-lg ml-1",title:"Close",children:""})]}),E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("input",{type:"text",placeholder:"Replace",value:ot,onChange:k=>rn(k.target.value),onKeyDown:Pt,className:"bg-[#22241e] text-[#f0f0e0] text-xs p-1 rounded border border-[#999966] focus:outline-none focus:ring-1 focus:ring-[#03DAC6] w-32",style:{fontFamily:"Fira Code, monospace"}}),E.jsx("button",{onClick:kl,title:"Replace Current Match",className:"bg-[#03DAC6] hover:bg-[#03a99e] text-black text-xs px-2 py-1 rounded disabled:opacity-50 disabled:cursor-not-allowed",disabled:rt===-1||!ot,children:"Replace"}),E.jsx("button",{onClick:vn,title:"Replace All Matches",className:"bg-[#BB86FC] hover:bg-[#a082f0] text-black text-xs px-2 py-1 rounded disabled:opacity-50 disabled:cursor-not-allowed",disabled:qe.length===0||!ot,children:"All"})]}),E.jsx("div",{className:"flex items-center gap-2 text-xs text-gray-400",children:E.jsxs("label",{className:"flex items-center cursor-pointer",children:[E.jsx("input",{type:"checkbox",checked:Kt,onChange:k=>Pi(k.target.checked),className:"w-3 h-3 bg-[#22241e] border-[#999966] rounded text-[#03DAC6] focus:ring-0"}),E.jsx("span",{className:"ml-1",children:"Aa"})]})})]})]})]})},ix=i=>{switch(i.status){case"working":return{borderColor:i.color,boxShadow:`0 0 25px ${i.color}99`,animation:"agentPulse 2s infinite ease-in-out"};case"error":return{borderColor:"#CF6679",boxShadow:"0 0 15px #CF667999",animation:"agentError 0.5s linear"};case"idle":return{borderColor:i.color,animation:"agentIdle 3s infinite ease-in-out"};case"done":return{borderColor:i.color,opacity:.9};default:return{borderColor:i.color}}},lx=({agent:i})=>E.jsxs("div",{className:"agent-card bg-[#313328] rounded-lg p-3 mb-2 border-l-4 transition-all duration-300",style:ix(i),children:[E.jsx("div",{className:"agent-title font-bold text-sm mb-1",style:{color:i.status==="error"?"#CF6679":i.color},children:i.title}),E.jsx("div",{className:"agent-subtitle text-xs text-[#999966] mb-1.5",children:i.subtitle}),E.jsxs("div",{className:"agent-content text-xs min-h-[20px] flex items-center",children:[i.status==="working"&&E.jsxs("div",{className:"quantum-spinner w-4 h-4 inline-block mr-1.5 relative",children:[E.jsx("div",{className:"absolute w-full h-full border-2 border-transparent border-t-[#03DAC6] rounded-full quantum-spinner::before"}),E.jsx("div",{className:"absolute w-full h-full border-2 border-transparent border-b-[#BB86FC] rounded-full quantum-spinner::after"})]}),i.status==="done"&&E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1.5 text-green-400 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),i.status==="error"&&E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1.5 text-red-500 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),typeof i.content=="string"?E.jsx("span",{className:"flex-1 truncate",title:i.content,children:i.content}):E.jsx("span",{className:"flex-1",children:i.content})]})]}),ox=({consensus:i})=>E.jsxs("div",{className:"consensus-panel bg-[#313328] border border-[#BB86FC] rounded-lg p-3.5 mt-4 max-h-72 overflow-y-auto",children:[E.jsxs("div",{className:"consensus-header font-bold text-[#BB86FC] mb-2.5 flex justify-between items-center",children:[E.jsx("span",{children:"Multi-Agent Consensus Results"}),E.jsxs("span",{className:"bg-[#BB86FC] text-white px-1.5 py-0.5 rounded-full text-xs",children:["Score: ",i.score]})]}),E.jsx("div",{children:i.allCandidates.map((n,o)=>E.jsxs("div",{className:`candidate-item bg-white/5 rounded p-2 mb-2 border-l-4 ${o===0?"border-l-[#4ac94a] bg-green-500/10":"border-l-[#03DAC6]"}`,children:[E.jsxs("div",{className:"text-xs text-[#999966] flex justify-between mb-1",children:[E.jsx("span",{children:n.agents.join(", ")}),E.jsxs("span",{children:["Count: ",n.count]})]}),E.jsxs("div",{className:"text-xs font-mono whitespace-pre-wrap max-h-20 overflow-hidden text-ellipsis",children:[n.content.substring(0,200),n.content.length>200?"...":""]})]},o))})]}),sx=({chunks:i})=>{const n=i.filter(s=>s.web),o=i.filter(s=>s.maps);return n.length===0&&o.length===0?null:E.jsxs("div",{className:"grounding-panel bg-yellow-900/20 border border-[#FFD54F] rounded-lg p-3.5 mt-4",children:[E.jsxs("div",{className:"flex items-center gap-2 font-bold text-[#FFD54F] mb-3",children:[E.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[E.jsx("path",{d:"M10 3.5a1.5 1.5 0 01.5 2.915V9.5a1.5 1.5 0 01-3 0V6.415A1.5 1.5 0 0110 3.5z"}),E.jsx("path",{d:"M10 18a8 8 0 100-16 8 8 0 000 16zM2 10a8 8 0 1116 0 8 8 0 01-16 0z"})]}),E.jsx("span",{children:"Grounded Information"})]}),n.length>0&&E.jsxs("div",{className:"mb-4",children:[E.jsx("h4",{className:"text-sm font-bold text-[#FFD54F] mb-2",children:"Google Search Results:"}),E.jsx("ol",{className:"list-decimal list-inside text-xs space-y-2 pl-1",children:n.map((s,r)=>s.web&&E.jsxs("li",{className:"truncate",children:[E.jsx("a",{href:s.web.uri,target:"_blank",rel:"noopener noreferrer",title:s.web.title||s.web.uri,className:"text-sky-400 hover:underline hover:text-sky-300 transition-colors",children:s.web.title||s.web.uri}),s.web.snippet&&E.jsx("p",{className:"text-slate-500 mt-0.5 ml-4 text-[0.65rem] line-clamp-2",children:s.web.snippet})]},`web-${r}`))})]}),o.length>0&&E.jsxs("div",{children:[E.jsx("h4",{className:"text-sm font-bold text-[#FFD54F] mb-2",children:"Google Maps Results:"}),E.jsx("ol",{className:"list-decimal list-inside text-xs space-y-2 pl-1",children:o.map((s,r)=>s.maps&&E.jsxs("li",{className:"truncate",children:[E.jsx("a",{href:s.maps.uri,target:"_blank",rel:"noopener noreferrer",title:s.maps.title||s.maps.uri,className:"text-sky-400 hover:underline hover:text-sky-300 transition-colors",children:s.maps.title||s.maps.uri}),s.maps.placeAnswerSources&&s.maps.placeAnswerSources.length>0&&E.jsx("div",{className:"ml-4 mt-1 space-y-1",children:s.maps.placeAnswerSources.map((f,m)=>E.jsx("div",{children:f.reviewSnippets&&f.reviewSnippets.length>0&&E.jsx("ul",{className:"list-disc list-inside ml-2 text-slate-500 text-[0.6rem]",children:f.reviewSnippets.map((g,y)=>g.uri&&E.jsx("li",{className:"line-clamp-2",children:E.jsx("a",{href:g.uri,target:"_blank",rel:"noopener noreferrer",title:g.displayText,className:"text-slate-400 hover:underline",children:g.displayText||"Review link"})},`review-${r}-${m}-${y}`))})},`maps-source-${r}-${m}`))})]},`maps-${r}`))})]})]})},ax=(i,n)=>{const o=i.split(`
`),s=n.split(`
`),r=o.length,f=s.length,m=Array.from({length:r+1},()=>Array(f+1).fill(0));for(let v=1;v<=r;v++)for(let T=1;T<=f;T++)o[v-1]===s[T-1]?m[v][T]=m[v-1][T-1]+1:m[v][T]=Math.max(m[v-1][T],m[v][T-1]);const g=[];let y=r,h=f;for(;y>0||h>0;)if(y>0&&h>0&&o[y-1]===s[h-1])g.unshift({type:"common",text:o[y-1]}),y--,h--;else if(h>0&&(y===0||m[y][h-1]>=m[y-1][h]))g.unshift({type:"added",text:s[h-1]}),h--;else if(y>0&&(h===0||m[y][h-1]<m[y-1][h]))g.unshift({type:"removed",text:o[y-1]}),y--;else break;return g},Qh=(i,n)=>{if(!n)return zi(i);const o=zi(i),s=n.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"),r=new RegExp(`(${s})`,"gi");return o.replace(r,'<mark class="bg-yellow-500/50 rounded px-0.5">$1</mark>')},rx=({before:i,after:n,query:o=""})=>{const s=U.useMemo(()=>ax(i,n),[i,n]);return E.jsx("pre",{className:"text-xs font-mono whitespace-pre-wrap text-slate-300",children:s.map((r,f)=>E.jsxs("div",{className:`flex items-center ${r.type==="added"?"bg-green-900/40":r.type==="removed"?"bg-red-900/40":""}`,children:[E.jsx("span",{className:`w-4 text-center text-[0.6rem] flex-shrink-0 ${r.type==="added"?"text-green-300":r.type==="removed"?"text-red-300":"text-gray-500"}`,children:r.type==="added"?"+":r.type==="removed"?"-":" "}),E.jsx("code",{className:"flex-grow min-w-0",dangerouslySetInnerHTML:{__html:Qh(r.text,o)}})]},f))})},ux=({findings:i})=>{const n={Critical:{icon:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z",color:"text-red-400",borderColor:"border-red-500"},Warning:{icon:"M20.944 15.006L13.52 3.29A2 2 0 0011.808 2H12a2 2 0 00-1.789 1.144L2.981 15.14A2 2 0 004.69 18h14.62a2 2 0 001.634-2.994zM12 6a1 1 0 011 1v4a1 1 0 01-2 0V7a1 1 0 011-1zm1 9a1 1 0 11-2 0 1 1 0 012 0z",color:"text-yellow-400",borderColor:"border-yellow-500"},Suggestion:{icon:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z",color:"text-sky-400",borderColor:"border-sky-500"}};return i.length===0?E.jsxs("div",{className:"code-review-panel bg-black/20 border border-gray-700 rounded-lg p-3.5 mt-4 text-center",children:[E.jsxs("div",{className:"flex items-center gap-2 justify-center font-bold text-green-400 mb-2",children:[E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:E.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),E.jsx("span",{children:"No Issues Found"})]}),E.jsx("p",{className:"text-xs text-gray-400",children:"The AI reviewer analyzed the code and found no issues to report."})]}):E.jsxs("div",{className:"code-review-panel bg-black/20 border border-gray-700 rounded-lg p-3.5 mt-4",children:[E.jsx("div",{className:"font-bold text-purple-400 mb-3 text-sm",children:"AI Code Review Findings"}),E.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto pr-2",children:i.map((o,s)=>{const r=n[o.severity]||n.Suggestion;return E.jsxs("div",{className:`finding-item bg-white/5 rounded p-2.5 border-l-4 ${r.borderColor}`,children:[E.jsxs("div",{className:"flex items-center gap-3 mb-1.5",children:[E.jsxs("div",{className:`flex items-center gap-1.5 font-bold text-xs ${r.color}`,children:[E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:r.icon})}),o.severity]}),E.jsxs("div",{className:"text-xs text-gray-400",children:[E.jsx("span",{className:"font-semibold",children:"Line:"})," ",o.line_number]}),E.jsxs("div",{className:"text-xs text-gray-400",children:[E.jsx("span",{className:"font-semibold",children:"Category:"})," ",o.category]})]}),E.jsx("p",{className:"text-xs text-slate-300 whitespace-pre-wrap",children:o.suggestion})]},s)})})]})},cx=({isOpen:i,aiState:n,onClose:o,onApplyCode:s,onCopyCode:r,originalCode:f})=>{const[m,g]=U.useState(""),[y,h]=U.useState(""),[v,T]=U.useState("code");if(U.useEffect(()=>{i&&(T("code"),g(""),h(""))},[i]),U.useEffect(()=>{const q=setTimeout(()=>{h(m)},300);return()=>{clearTimeout(q)}},[m]),!i)return null;const C=n.consensus?.selectedCandidate??n.generatedCode,x=y.toLowerCase(),b=n.agents.filter(q=>{if(!x)return!0;const Q=typeof q.content=="string"?q.content:"";return q.title.toLowerCase().includes(x)||q.subtitle.toLowerCase().includes(x)||Q.toLowerCase().includes(x)}),w=n.consensus?{...n.consensus,allCandidates:n.consensus.allCandidates.filter(q=>x?q.content.toLowerCase().includes(x)||q.agents.join(", ").toLowerCase().includes(x):!0)}:null,Y=n.groundingChunks?.filter(q=>!!(!x||q.web&&((q.web.title||"").toLowerCase().includes(x)||q.web.uri.toLowerCase().includes(x)||(q.web.snippet||"").toLowerCase().includes(x))||q.maps&&((q.maps.title||"").toLowerCase().includes(x)||(q.maps.uri||"").toLowerCase().includes(x)||(q.maps.placeAnswerSources||[]).some(Q=>(Q.reviewSnippets||[]).some(V=>(V.displayText||"").toLowerCase().includes(x)||(V.uri||"").toLowerCase().includes(x))))));return E.jsxs("div",{className:"fixed bottom-20 right-5 w-[500px] max-h-[600px] bg-[#313328] border border-[#4ac94a] rounded-lg flex flex-col z-40 shadow-2xl overflow-hidden",children:[E.jsxs("div",{className:"p-4 border-b border-gray-700 flex items-center gap-3 sticky top-0 bg-[#313328]/95 backdrop-blur-sm z-10",children:[E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-500 flex-shrink-0",viewBox:"0 0 20 20",fill:"currentColor",children:E.jsx("path",{fillRule:"evenodd",d:"M8 4a4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})}),E.jsx("input",{type:"search",placeholder:"Filter agents, code, or results...",value:m,onChange:q=>g(q.target.value),className:"w-full bg-transparent text-sm text-[#f0f0e0] placeholder-gray-500 focus:ring-0 outline-none border-none p-0","aria-label":"Filter AI responses"}),E.jsx("button",{onClick:o,className:"text-[#999966] text-2xl hover:text-red-500 transition-colors","aria-label":"Close AI panel",children:""})]}),E.jsxs("div",{className:"overflow-y-auto p-4",children:[b.map(q=>E.jsx(lx,{agent:q},q.name)),n.codeReviewFindings?E.jsx(ux,{findings:n.codeReviewFindings}):C?E.jsxs("div",{className:"code-container bg-black/30 rounded-lg mt-4 border border-gray-700 flex flex-col",children:[E.jsxs("div",{className:"flex items-center justify-between p-2 border-b border-gray-700 bg-black/20",children:[E.jsxs("div",{className:"flex gap-1",children:[E.jsx("button",{onClick:()=>T("code"),className:`px-3 py-1 text-xs rounded transition-colors ${v==="code"?"bg-[#4ac94a] text-white font-semibold":"hover:bg-white/10"}`,children:"Generated Code"}),E.jsx("button",{onClick:()=>T("diff"),className:`px-3 py-1 text-xs rounded transition-colors ${v==="diff"?"bg-[#4ac94a] text-white font-semibold":"hover:bg-white/10"}`,children:"Diff"})]}),E.jsx("span",{className:"text-xs font-semibold text-[#4ac94a] animation-title-pulse",children:v==="diff"?"Comparing with Editor":"Final Output"})]}),E.jsx("div",{className:"p-3.5 max-h-72 overflow-y-auto",children:v==="code"?E.jsx("pre",{className:"text-xs font-mono whitespace-pre-wrap text-slate-300",children:E.jsx("code",{dangerouslySetInnerHTML:{__html:Qh(C,x||"")}})}):E.jsx(rx,{before:f,after:C,query:x})}),E.jsxs("div",{className:"p-2.5 border-t border-gray-700 flex gap-2",children:[E.jsx("button",{onClick:()=>r(C),className:"flex-1 bg-[#4ac94a] hover:bg-green-400 text-xs px-2 py-1.5 rounded transition-colors",children:"Copy Code"}),E.jsx("button",{onClick:()=>s(C),className:"flex-1 bg-[#5bc0de] hover:bg-cyan-400 text-xs px-2 py-1.5 rounded transition-colors",children:"Apply to Editor"})]})]}):null,w&&w.allCandidates.length>0&&E.jsx(ox,{consensus:w}),(n.groundingChunks?.length??0)>0&&E.jsx(sx,{chunks:Y||[]})]})]})},ph=({active:i,onClick:n,children:o})=>E.jsx("button",{type:"button",onClick:n,className:`px-3 py-1.5 text-sm rounded transition-colors ${i?"bg-[#4ac94a] text-white font-bold":"bg-white/10 hover:bg-white/20"}`,children:o}),fx=({persona:i,selected:n,onClick:o})=>E.jsx("button",{type:"button",onClick:o,title:i.description,className:`p-2 rounded border text-left transition-all duration-200 ${n?"bg-[#4ac94a]/30 border-[#4ac94a] shadow-lg -translate-y-0.5":"bg-white/5 border-transparent hover:border-white/20"}`,children:E.jsx("div",{className:"font-semibold text-xs text-[#f0f0e0]",children:i.name})}),dx=({isOpen:i,onClose:n,onSubmit:o,personas:s,initialState:r,userLocation:f,geolocationError:m})=>{const[g,y]=U.useState(""),[h,v]=U.useState(""),[T,C]=U.useState(""),[x,b]=U.useState("ai"),[w,Y]=U.useState([]),[q,Q]=U.useState(!1),[V,j]=U.useState(!1),te=U.useRef(null);U.useEffect(()=>{i&&(v(""),C(""),Y([]),Q(!1),j(!1),r?(y(r.prompt),b(r.mode),C(r.snippet||"")):(y(""),b("ai"),C("")),setTimeout(()=>{te.current?.focus()},100))},[i,r]);const ie=W=>{Y(ge=>ge.includes(W)?ge.filter(ce=>ce!==W):[...ge,W])},X=()=>{le||o({prompt:g,context:h,snippet:T,mode:x,selectedAgents:w,useSearch:q,useMaps:V})};if(!i)return null;const le=x==="orchestrator"&&w.length<2,ee=!f&&!m;return E.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4 backdrop-blur-sm",onClick:n,children:E.jsxs("div",{className:"w-full max-w-2xl bg-[#313328] border border-[#4ac94a] rounded-lg shadow-2xl flex flex-col max-h-[90vh]",onClick:W=>W.stopPropagation(),children:[E.jsx("header",{className:"p-4 border-b border-gray-700",children:E.jsx("h2",{className:"text-lg font-bold text-[#f0f0e0] animation-title-pulse",children:"Invoke Quantum AI"})}),E.jsxs("div",{className:"p-4 space-y-4 overflow-y-auto",children:[E.jsxs("div",{className:"flex gap-2 items-center",children:[E.jsx(ph,{active:x==="ai",onClick:()=>b("ai"),children:"Quantum AI"}),E.jsx(ph,{active:x==="orchestrator",onClick:()=>b("orchestrator"),children:"Multi-Agent Consensus"})]}),x==="ai"&&E.jsxs("div",{className:"pt-2 flex flex-col gap-2",children:[E.jsxs("label",{htmlFor:"useSearch",className:"flex items-center gap-3 text-sm text-[#f0f0e0] cursor-pointer",children:[E.jsx("input",{type:"checkbox",id:"useSearch",checked:q,onChange:W=>Q(W.target.checked),className:"w-4 h-4 bg-[#22241e] border-[#999966] rounded text-[#4ac94a] focus:ring-2 focus:ring-offset-0 focus:ring-offset-[#313328] focus:ring-[#4ac94a]"}),E.jsxs("div",{children:[E.jsx("span",{className:"font-bold",children:"Enable Search Grounding"}),E.jsx("span",{className:"text-xs text-gray-400 font-normal block",children:"For up-to-date information from Google Search."})]})]}),E.jsxs("label",{htmlFor:"useMaps",className:`flex items-center gap-3 text-sm text-[#f0f0e0] ${ee?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,children:[E.jsx("input",{type:"checkbox",id:"useMaps",checked:V,onChange:W=>j(W.target.checked),disabled:ee,className:"w-4 h-4 bg-[#22241e] border-[#999966] rounded text-[#4ac94a] focus:ring-2 focus:ring-offset-0 focus:ring-offset-[#313328] focus:ring-[#4ac94a]"}),E.jsxs("div",{children:[E.jsx("span",{className:"font-bold",children:"Enable Maps Grounding"}),E.jsxs("span",{className:"text-xs text-gray-400 font-normal block",children:["For location-based information from Google Maps.",!f&&!m&&E.jsx("span",{className:"text-yellow-400 ml-1",children:" (Waiting for geolocation...)"}),m&&E.jsxs("span",{className:"text-red-400 ml-1",children:[" (Geolocation error: ",m,")"]}),f&&E.jsx("span",{className:"text-green-400 ml-1",children:" (Using current location)"})]})]})]})]}),E.jsxs("div",{children:[E.jsx("label",{htmlFor:"prompt",className:"block text-sm font-bold text-[#f0f0e0] mb-2",children:"Your Request"}),E.jsx("textarea",{id:"prompt",ref:te,value:g,onChange:W=>y(W.target.value),placeholder:q||V?"Ask a question for real-time search or maps...":x==="orchestrator"?"Describe the task for the agent collective...":"Describe what you want to generate, refactor, or optimize...",className:"w-full h-24 p-2 bg-[#22241e] text-[#f0f0e0] border border-[#999966] rounded focus:ring-2 focus:ring-[#4ac94a] focus:border-[#4ac94a] outline-none transition-colors",style:{fontFamily:"Fira Code, monospace"}})]}),x==="orchestrator"&&E.jsxs("div",{className:"space-y-2",children:[E.jsx("h3",{className:"text-sm font-bold text-[#f0f0e0]",children:"Select Specialist Agents (Consensus Group)"}),E.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2 max-h-48 overflow-y-auto p-2 rounded bg-black/10 border border-white/10",children:s.map(W=>E.jsx(fx,{persona:W,selected:w.includes(W.name),onClick:()=>ie(W.name)},W.name))}),E.jsxs("p",{className:`text-xs transition-colors ${w.length<2?"text-yellow-500":"text-gray-400"}`,children:["Select at least 2 agents. Currently selected: ",w.length]})]}),E.jsxs("div",{children:[E.jsx("label",{htmlFor:"snippet",className:"block text-sm font-bold text-[#f0f0e0] mb-2",children:"Paste a Code Snippet (optional)"}),E.jsxs("div",{className:"relative",children:[E.jsx("textarea",{id:"snippet",value:T,onChange:W=>C(W.target.value),placeholder:"Paste relevant code here...",className:"w-full h-32 p-2 bg-[#22241e] text-transparent caret-white font-mono border border-[#999966] rounded focus:ring-2 focus:ring-[#4ac94a] focus:border-[#4ac94a] outline-none transition-colors",spellCheck:"false",style:{fontFamily:"Fira Code, monospace"}}),E.jsx("pre",{className:"absolute top-0 left-0 w-full h-full p-2 font-mono pointer-events-none overflow-y-auto text-sm","aria-hidden":"true",style:{fontFamily:"Fira Code, monospace"},children:E.jsx("code",{dangerouslySetInnerHTML:{__html:Uo(T,"js")}})})]})]}),E.jsxs("div",{children:[E.jsx("label",{htmlFor:"context",className:"block text-sm font-bold text-[#f0f0e0] mb-2",children:"Additional Context (optional)"}),E.jsx("textarea",{id:"context",value:h,onChange:W=>v(W.target.value),placeholder:"Provide any extra information, constraints, or requirements...",className:"w-full h-20 p-2 bg-[#22241e] text-[#f0f0e0] border border-[#999966] rounded focus:ring-2 focus:ring-[#4ac94a] focus:border-[#4ac94a] outline-none transition-colors",style:{fontFamily:"Fira Code, monospace"}})]})]}),E.jsxs("footer",{className:"p-4 border-t border-gray-700 flex justify-end gap-2",children:[E.jsx("button",{onClick:n,className:"bg-[#a03333] hover:bg-red-700 text-white font-bold px-4 py-2 rounded transition-colors",children:"Cancel"}),E.jsx("button",{onClick:X,disabled:le,className:"bg-[#4ac94a] hover:bg-green-400 text-white font-bold px-8 py-2 rounded transition-colors disabled:bg-gray-600 disabled:cursor-not-allowed",children:le?"Select more agents":"Invoke AI"})]})]})})},px=({isOpen:i,onClose:n,onSubmit:o,userLocation:s,geolocationError:r})=>{const[f,m]=U.useState(""),[g,y]=U.useState(!1),[h,v]=U.useState(!1),T=U.useRef(null);U.useEffect(()=>{i&&(m(""),y(!1),v(!1),setTimeout(()=>{T.current?.focus()},100))},[i]);const C=()=>{o({prompt:f,useSearch:g,useMaps:h})};if(!i)return null;const x=!s&&!r;return E.jsx("div",{className:"fixed inset-0 bg-black/60 flex items-center justify-center z-50 p-4 backdrop-blur-sm",onClick:n,children:E.jsxs("div",{className:"w-full max-w-xl bg-[#313328] border border-[#BB86FC] rounded-lg shadow-2xl flex flex-col max-h-[90vh]",onClick:b=>b.stopPropagation(),children:[E.jsx("header",{className:"p-4 border-b border-gray-700",children:E.jsx("h2",{className:"text-lg font-bold text-[#f0f0e0] animation-title-pulse",children:"AI Code Generation"})}),E.jsxs("div",{className:"p-4 space-y-4 overflow-y-auto",children:[E.jsxs("div",{className:"pt-2 flex flex-col gap-2",children:[E.jsxs("label",{htmlFor:"useSearch",className:"flex items-center gap-3 text-sm text-[#f0f0e0] cursor-pointer",children:[E.jsx("input",{type:"checkbox",id:"useSearch",checked:g,onChange:b=>y(b.target.checked),className:"w-4 h-4 bg-[#22241e] border-[#999966] rounded text-[#4ac94a] focus:ring-2 focus:ring-offset-0 focus:ring-offset-[#313328] focus:ring-[#4ac94a]"}),E.jsxs("div",{children:[E.jsx("span",{className:"font-bold",children:"Enable Search Grounding"}),E.jsx("span",{className:"text-xs text-gray-400 font-normal block",children:"For up-to-date information from Google Search."})]})]}),E.jsxs("label",{htmlFor:"useMaps",className:`flex items-center gap-3 text-sm text-[#f0f0e0] ${x?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,children:[E.jsx("input",{type:"checkbox",id:"useMaps",checked:h,onChange:b=>v(b.target.checked),disabled:x,className:"w-4 h-4 bg-[#22241e] border-[#999966] rounded text-[#4ac94a] focus:ring-2 focus:ring-offset-0 focus:ring-offset-[#313328] focus:ring-[#4ac94a]"}),E.jsxs("div",{children:[E.jsx("span",{className:"font-bold",children:"Enable Maps Grounding"}),E.jsxs("span",{className:"text-xs text-gray-400 font-normal block",children:["For location-based information from Google Maps.",!s&&!r&&E.jsx("span",{className:"text-yellow-400 ml-1",children:" (Waiting for geolocation...)"}),r&&E.jsxs("span",{className:"text-red-400 ml-1",children:[" (Geolocation error: ",r,")"]}),s&&E.jsx("span",{className:"text-green-400 ml-1",children:" (Using current location)"})]})]})]})]}),E.jsxs("div",{children:[E.jsx("label",{htmlFor:"prompt",className:"block text-sm font-bold text-[#f0f0e0] mb-2",children:"Describe what you want to generate:"}),E.jsx("textarea",{id:"prompt",ref:T,value:f,onChange:b=>m(b.target.value),placeholder:`e.g.,
Generate a React component for a data table with the following features:
- Responsive design
- Pagination
- Search functionality
- Sortable columns for 'name' and 'age' fields.`,className:"w-full h-32 p-2 bg-[#22241e] text-[#f0f0e0] border border-[#999966] rounded focus:ring-2 focus:ring-[#BB86FC] focus:border-[#BB86FC] outline-none transition-colors",style:{fontFamily:"Fira Code, monospace"}})]})]}),E.jsxs("footer",{className:"p-4 border-t border-gray-700 flex justify-end gap-2",children:[E.jsx("button",{onClick:n,className:"bg-[#a03333] hover:bg-red-700 text-white font-bold px-4 py-2 rounded transition-colors",children:"Cancel"}),E.jsx("button",{onClick:C,disabled:!f.trim(),className:"bg-[#BB86FC] hover:bg-[#a082f0] text-white font-bold px-8 py-2 rounded transition-colors disabled:bg-gray-600 disabled:cursor-not-allowed",children:"Generate Code"})]})]})})},Cu=(i,n)=>{const o=n.split("/").filter(r=>r);let s=i;for(const r of o)if(s.type==="folder"&&s.children[r])s=s.children[r];else return;return s},Xs=(i,n,o)=>{const s=n.split("/").filter(f=>f);if(s.length===0){if(o.type==="folder")return o;throw new Error("Cannot set a FileNode directly as the root of the file system. Root must be a FolderNode.")}const r=(f,m,g)=>{const y=m[g],h=g===m.length-1,v={...f.children},T=v[y];if(h){if(T&&T.type!==o.type)throw new Error(`Cannot overwrite existing ${T.type} '${y}' with a ${o.type} at path '/${s.join("/")}'.`);v[y]=o}else{let C;if(T){if(T.type==="file")throw new Error(`Path segment '${y}' at an intermediate level refers to a file. Cannot set a child within a file at path '/${s.slice(0,g+1).join("/")}'.`);C=T}else C={type:"folder",children:{}};v[y]=r(C,m,g+1)}return{...f,children:v}};return r(i,s,0)},mx=i=>i!==void 0&&i.type==="folder"&&Object.keys(i.children).length===0,mh=(i,n)=>{const o=n.split("/").filter(f=>f);if(o.length===0)return{type:"folder",children:{}};const s=(f,m,g)=>{const y=m[g],h=g===m.length-1,v={...f.children},T=v[y];if(!T)return f;if(h)delete v[y];else{if(T.type==="file")throw new Error(`Path segment '${y}' refers to a file. Cannot unset a child within a file at path '/${o.slice(0,g+1).join("/")}'.`);const C=s(T,m,g+1);C===void 0||mx(C)?delete v[y]:C!==T&&(v[y]=C)}if(!(Object.keys(v).length===0&&g>0))return Object.keys(v).length===Object.keys(f.children).length&&Object.keys(v).every(C=>v[C]===f.children[C])?f:{...f,children:v}},r=s(i,o,0);return r===void 0?{type:"folder",children:{}}:r},hh={type:"folder",children:{"index.html":{type:"file",content:`<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quantum Fractal AI Project</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <h1>Welcome to Quantum Fractal AI</h1>
    <p>Edit this project and see the live preview.</p>
    <script src="js/main.js"><\/script>
</body>
</html>`},css:{type:"folder",children:{"style.css":{content:`body {
    font-family: sans-serif;
    background-color: #f0f0f0;
    color: #333;
    padding: 2rem;
}`,type:"file"}}},js:{type:"folder",children:{"main.js":{content:"console.log('Quantum Fractal AI project loaded.');",type:"file"}}}}},wl=[{name:"nexus",title:"Nexus",subtitle:"Quantum Orchestrator",content:"Idle. Awaiting quantum command.",status:"idle",color:"#BB86FC"},{name:"cognito",title:"Cognito",subtitle:"Fractal Analyzer",content:"Ready",status:"idle",color:"#03DAC6"},{name:"oracle",title:"Oracle",subtitle:"Specialist Collective",content:"Standing by.",status:"idle",color:"#F39C12"},{name:"relay",title:"Relay",subtitle:"Quantum Communicator",content:"Ready",status:"idle",color:"#FFD54F"},{name:"sentinel",title:"Sentinel",subtitle:"Quantum Monitor",content:"Ready",status:"idle",color:"#CF6679"},{name:"echo",title:"Echo",subtitle:"Quantum Reporter",content:"Awaiting quantum report...",status:"idle",color:"#4ac94a"}],Eu=i=>{const n=i.split(".").pop()||"";return{js:"js",jsx:"js",ts:"js",tsx:"js",css:"css",scss:"css",less:"css",html:"html",htm:"html",xml:"xml",svg:"xml",php:"php",sql:"sql",json:"json",py:"py",sh:"bash",bash:"bash",md:"plaintext",txt:"plaintext"}[n.toLowerCase()]||"plaintext"},hx=`Quantum Fractal AI Terminal Commands:
- run <prompt> [--search] [--maps]: Executes a Quantum AI task on the currently open file. Use quotes for multi-word prompts.
    --search: Enables Google Search grounding for up-to-date information.
    --maps: Enables Google Maps grounding for location-based queries (requires geolocation permission).
- orch <prompt> --agents <agent1>,<agent2>,...: Runs a Multi-Agent Consensus task on the open file.
    --agents: A comma-separated list of agent personas to use (e.g., "Performance Optimizer,Code Readability Advocate").
- apply: Applies the last generated code from the terminal to the editor.
- clear: Clears the terminal history.
- help: Displays this help message.
`,gx=()=>{const[i,n]=U.useState(hh),[o,s]=U.useState("/index.html"),[r,f]=U.useState(hh.children["index.html"].content),[m,g]=U.useState("index.html"),[y,h]=U.useState("html"),[v,T]=U.useState(!0),[C,x]=U.useState(!1),[b,w]=U.useState(!1),[Y,q]=U.useState(!1),[Q,V]=U.useState(!1),[j,te]=U.useState(!1),[ie,X]=U.useState(!1),[le,ee]=U.useState(null),[W,ge]=U.useState([r]),[ce,Ue]=U.useState(0),[ht,Xe]=U.useState({cursor:"1:0",lines:0,chars:0,history:1}),[G,J]=U.useState({agents:wl,isLoading:!1,consensus:null,generatedCode:null,groundingChunks:null,codeReviewFindings:null}),[ue,De]=U.useState({agentCount:4,maxRounds:3}),[Ge,M]=U.useState(11),[F,$]=U.useState(""),[oe,he]=U.useState([{type:"system",content:'Quantum Fractal AI Terminal Initialized. Type "help" for commands.'}]),[ye,Te]=U.useState(null),[Le,Ze]=U.useState(null),[ot,rn]=U.useState(null),[Kt,Pi]=U.useState(0),[zt,Vi]=U.useState(0),[qe,gn]=U.useState([]),rt=U.useRef(null);U.useEffect(()=>{try{const z=localStorage.getItem("codeSnippets");z&&gn(JSON.parse(z))}catch(z){console.error("Failed to load code snippets from localStorage:",z)}},[]),U.useEffect(()=>{try{localStorage.setItem("codeSnippets",JSON.stringify(qe))}catch(z){console.error("Failed to save code snippets to localStorage:",z)}},[qe]),U.useEffect(()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(z=>{Ze({latitude:z.coords.latitude,longitude:z.coords.longitude}),rn(null)},z=>{console.warn("Geolocation error:",z),rn(z.message)},{enableHighAccuracy:!1,timeout:5e3,maximumAge:0}):rn("Geolocation is not supported by this browser.")},[]);const de=(z,K)=>{J(se=>({...se,agents:se.agents.map(Ce=>Ce.name===z?{...Ce,...K}:Ce)}))},ut=async z=>{de("nexus",{status:"working",content:"Orchestrating quantum fractal reasoning."}),await new Promise(se=>setTimeout(se,400)),de("nexus",{status:"done"}),de("cognito",{status:"working",content:"Executing hyperthreaded fractal analysis..."}),await new Promise(se=>setTimeout(se,400)),de("oracle",{status:"working",content:"Consulting specialized agent personas..."}),await new Promise(se=>setTimeout(se,400));const K=await z();return de("oracle",{status:"done",content:"Specialist insights acquired."}),de("cognito",{status:"done",content:"Fractal analysis complete."}),de("relay",{status:"working",content:"Transmitting quantum data streams..."}),await new Promise(se=>setTimeout(se,400)),de("relay",{status:"done"}),de("sentinel",{status:"working",content:"Validating quantum consensus..."}),await new Promise(se=>setTimeout(se,400)),de("sentinel",{status:"done"}),de("echo",{status:"working",content:"Generating quantum fractal report..."}),await new Promise(se=>setTimeout(se,400)),K},kt=U.useCallback(async({prompt:z,context:K,snippet:se,mode:Ce,selectedAgents:Ne,useSearch:Ve,useMaps:Be})=>{if(q(!1),G.isLoading)return;$(r);const Ae=z||"Optimize this code with quantum fractal patterns",ct=`EDITOR CONTENT:
\`\`\`
${r}
\`\`\`

PASTED SNIPPET:
\`\`\`
${se}
\`\`\`

ADDITIONAL CONTEXT:
\`\`\`
${K}
\`\`\``;x(!0),J({agents:wl,isLoading:!0,consensus:null,generatedCode:null,groundingChunks:null,codeReviewFindings:null});let tt=null,_t=null;Be&&Le&&(tt=Le.latitude,_t=Le.longitude,de("nexus",{status:"working",content:"Fetching geolocation data..."}),await new Promise(Se=>setTimeout(Se,200)));try{if(Ce==="orchestrator"){const Se=await ut(()=>fh(Ae,ct,Ne));if(Se.length>0){const St={selectedCandidate:Se[0].content,score:Se[0].score.toFixed(2),count:Se[0].count,avgEntropy:Se[0].avgEntropy.toFixed(2),rootAgent:Se[0].agents[0],allCandidates:Se};J(Kn=>({...Kn,consensus:St})),de("echo",{status:"done",content:"Multi-Agent Consensus Complete."})}else de("echo",{status:"error",content:"Consensus failed. No candidates generated."})}else(Ve||Be)&&(de("nexus",{status:"working",content:"Initiating grounded quantum query..."}),await new Promise(Se=>setTimeout(Se,200)),de("relay",{status:"working",content:"Connecting to real-time data streams..."})),await ut(()=>Ks(Ae,ct,Ve,Be,tt,_t,Se=>{J(St=>({...St,generatedCode:Se.code,groundingChunks:Se.groundingChunks||null}))})),(Ve||Be)&&(await new Promise(Se=>setTimeout(Se,200)),de("relay",{status:"done"}),de("cognito",{status:"working",content:"Analyzing grounded information..."}),await new Promise(Se=>setTimeout(Se,200)),de("cognito",{status:"done",content:"Analysis complete."})),de("echo",{status:"done",content:Ve||Be?"Grounded Quantum Solution Generated.":"Quantum Fractal Solution Generated."})}catch(Se){console.error("Gemini API Error:",Se),de("echo",{status:"error",content:`Quantum Error: ${Se.message}`})}finally{J(Se=>({...Se,isLoading:!1}))}},[r,G.isLoading,Le]),yn=U.useCallback(async({prompt:z,useSearch:K,useMaps:se})=>{if(V(!1),G.isLoading)return;$("");const Ce=z,Ne="";x(!0),J({agents:wl,isLoading:!0,consensus:null,generatedCode:null,groundingChunks:null,codeReviewFindings:null});let Ve=null,Be=null;se&&Le&&(Ve=Le.latitude,Be=Le.longitude,de("nexus",{status:"working",content:"Fetching geolocation data..."}),await new Promise(Ae=>setTimeout(Ae,200)));try{(K||se)&&(de("nexus",{status:"working",content:"Initiating grounded quantum query for generation..."}),await new Promise(Ae=>setTimeout(Ae,200)),de("relay",{status:"working",content:"Connecting to real-time data streams..."})),await ut(()=>Ks(Ce,Ne,K,se,Ve,Be,Ae=>{J(ct=>({...ct,generatedCode:Ae.code,groundingChunks:Ae.groundingChunks||null}))})),(K||se)&&(await new Promise(Ae=>setTimeout(Ae,200)),de("relay",{status:"done"}),de("cognito",{status:"working",content:"Analyzing grounded information..."}),await new Promise(Ae=>setTimeout(Ae,200)),de("cognito",{status:"done",content:"Analysis complete."})),de("echo",{status:"done",content:K||se?"Grounded Code Generated.":"Code Generated."})}catch(Ae){console.error("Gemini API Error:",Ae),de("echo",{status:"error",content:`Quantum Error: ${Ae.message}`})}finally{J(Ae=>({...Ae,isLoading:!1}))}},[G.isLoading,Le]),Dt=U.useCallback((z,K,se)=>{let Ce=z;if(K!==void 0&&se!==void 0){const Ve=r;Ce=Ve.substring(0,K)+z+Ve.substring(se)}if(o&&n(Ve=>{const Be={...Ve},Ae=Cu(Be,o);return Ae&&Ae.type==="file"?Xs(Be,o,{...Ae,content:Ce}):Ve}),Ce===r)return;const Ne=[...W.slice(0,ce+1),Ce];ge(Ne),Ue(Ne.length-1),f(Ce)},[o,W,ce,r]),et=async z=>{const K=(Be,Ae)=>{he(ct=>[...ct,{type:Be,content:Ae}])};K("input",z);const se=z.match(/(?:[^\s"]+|"[^"]*")+/g)||[],[Ce,...Ne]=se,Ve=Be=>{const Ae=Ne.findIndex(ct=>ct===Be);if(Ae!==-1&&Ne[Ae+1])return Ne[Ae+1].replace(/"/g,"")};switch(Ce){case"help":K("help",hx);break;case"clear":he([]);break;case"apply":ye?(Dt(ye),K("system","Applied last AI result to the editor."),Te(null)):K("error","No previous AI result to apply.");break;case"run":{const Be=Ne.find(tt=>!tt.startsWith("--"))?.replace(/"/g,"")||"Analyze the code.",Ae=Ne.includes("--search"),ct=Ne.includes("--maps");if(ct&&!Le&&!ot){K("error","Geolocation access is required for --maps grounding. Please grant permission."),navigator.geolocation&&navigator.geolocation.getCurrentPosition(()=>K("system","Geolocation granted. Please retry command."),tt=>K("error",`Geolocation permission denied: ${tt.message}`));break}else if(ct&&ot){K("error",`Maps grounding unavailable: ${ot}`);break}K("system","Invoking Quantum AI...");try{let tt="";await Ks(Be,r,Ae,ct,Le?.latitude??null,Le?.longitude??null,_t=>{tt=_t.code}),Te(tt),K("output",tt)}catch(tt){K("error",`Error: ${tt.message}`)}break}case"orch":{const Be=Ne.find(tt=>!tt.startsWith("--"))?.replace(/"/g,"")||"Refactor the code.",Ae=Ve("--agents");if(!Ae){K("error",'The --agents flag is required for "orch" command.');break}const ct=Ae.split(",").map(tt=>tt.trim());if(ct.length<2){K("error","Please provide at least two agents for consensus.");break}K("system",`Invoking Multi-Agent Consensus with: ${ct.join(", ")}`);try{const tt=await fh(Be,r,ct);if(tt.length>0){const _t=tt[0];Te(_t.content);const Se=`Consensus complete. Top candidate score: ${_t.score.toFixed(2)}

${_t.content}`;K("output",Se)}else K("error","Consensus failed to produce any candidates.")}catch(tt){K("error",`Error: ${tt.message}`)}break}default:K("error",`Command not found: "${Ce}". Type "help" for a list of commands.`)}},Bi=U.useCallback(()=>{if(ce>0){const z=ce-1;Ue(z),f(W[z])}},[ce,W]),Si=U.useCallback(()=>{if(ce<W.length-1){const z=ce+1;Ue(z),f(W[z])}},[ce,W]),Fi=U.useCallback(z=>{z>=0&&z<W.length&&(Ue(z),f(W[z]))},[W]),un=U.useCallback(z=>{Xe(K=>({...K,...z,history:W.length}))},[W.length]),Xt=(z,K="",se="")=>{ee({mode:z,prompt:K,snippet:se}),q(!0)},Yn=()=>{V(!0)},Oi=async z=>{if(G.isLoading||!o)return;const se={optimize:"Apply quantum fractal optimization to this code. Return only the complete, updated code block.",document:"Add fractal documentation with quantum clarity to this code. Return only the complete, updated code block.",refactor:"Refactor this code using quantum fractal patterns and hyperthreaded efficiency. Return only the complete, updated code block."}[z],Ce=r;$(r),x(!0),J({agents:wl,isLoading:!0,consensus:null,generatedCode:null,groundingChunks:null,codeReviewFindings:null});try{await ut(()=>Ks(se,Ce,!1,!1,null,null,Ne=>{J(Ve=>({...Ve,generatedCode:Ne.code}))})),de("echo",{status:"done",content:`Quick Action '${z}' complete.`})}catch(Ne){console.error("Gemini API Error:",Ne),de("echo",{status:"error",content:`Quantum Error: ${Ne.message}`})}finally{J(Ne=>({...Ne,isLoading:!1}))}},kl=async()=>{if(!(G.isLoading||!o)){x(!0),J({agents:wl,isLoading:!0,consensus:null,generatedCode:null,groundingChunks:null,codeReviewFindings:[]});try{de("nexus",{status:"working",content:"Initiating quantum code review..."}),await new Promise(K=>setTimeout(K,400)),de("cognito",{status:"working",content:"Analyzing code structure..."}),await new Promise(K=>setTimeout(K,400));const z=await W_(r);de("cognito",{status:"done",content:"Analysis complete."}),de("echo",{status:"working",content:"Compiling review..."}),await new Promise(K=>setTimeout(K,400)),J(K=>({...K,codeReviewFindings:z})),de("echo",{status:"done",content:`Code review complete. Found ${z.length} issue(s).`})}catch(z){console.error("Code Review Error:",z),de("echo",{status:"error",content:`Review Error: ${z.message}`})}finally{J(z=>({...z,isLoading:!1}))}}},vn=async()=>{if(!(G.isLoading||!o)){$(r),x(!0),J({agents:wl,isLoading:!0,consensus:null,generatedCode:null,groundingChunks:null,codeReviewFindings:null});try{de("nexus",{status:"working",content:"Initiating quantum code fix..."}),await new Promise(K=>setTimeout(K,400)),de("cognito",{status:"working",content:"Analyzing code for issues..."}),await new Promise(K=>setTimeout(K,400));const z=await j_(r);de("cognito",{status:"done",content:"Code analysis complete."}),de("echo",{status:"working",content:"Applying quantum fix..."}),await new Promise(K=>setTimeout(K,400)),J(K=>({...K,generatedCode:z})),de("echo",{status:"done",content:"Quantum Code Fix Applied."})}catch(z){console.error("AI Fix Code Error:",z),de("echo",{status:"error",content:`Fix Code Error: ${z.message}`})}finally{J(z=>({...z,isLoading:!1}))}}},Et=U.useCallback(()=>{const z=r.substring(Kt,zt);z?Xt("ai","Analyze and improve this code snippet:",z):alert("Please select some code in the editor first.")},[r,Kt,zt]),Pt=U.useCallback(z=>{const K=Cu(i,z);K&&K.type==="file"&&(s(z),f(K.content),g(z.split("/").pop()||"untitled"),h(Eu(z)),ge([K.content]),Ue(0))},[i]),vt=U.useCallback(z=>{const K=prompt("Enter new file name:");if(!K)return;const se=`${z}/${K}`;n(Ce=>Xs(Ce,se,{type:"file",content:""}))},[]),Jn=U.useCallback(z=>{const K=prompt("Enter new folder name:");if(!K)return;const se=`${z}/${K}`;n(Ce=>Xs(Ce,se,{type:"folder",children:{}}))},[]),Yi=U.useCallback((z,K)=>{const se=z.split("/");se.pop();const Ne=`${se.join("/")}/${K}`;n(Ve=>{const Be=Cu(Ve,z);if(!Be)return Ve;const Ae=mh(Ve,z);return Xs(Ae,Ne,Be)}),o===z&&(s(Ne),g(K),h(Eu(Ne)))},[o]),Ji=U.useCallback(z=>{confirm(`Are you sure you want to delete "${z}"?`)&&(n(K=>mh(K,z)),o===z&&(s(null),f(""),g("No File Open"),h("plaintext")))},[o]),cn=()=>{try{localStorage.setItem("quantum-editor-draft",r)}catch(z){console.error("Failed to save draft:",z),alert("Could not save draft. Local storage may be full or disabled.")}},_n=()=>{try{const z=localStorage.getItem("quantum-editor-draft");z!==null?Dt(z):alert("No draft found.")}catch(z){console.error("Failed to load draft:",z),alert("Could not load draft. Local storage may be inaccessible.")}},Qn=U.useCallback(()=>{rt.current?.click()},[]),fn=U.useCallback(z=>{const K=z.target.files?.[0];if(!K)return;const se=new FileReader;se.onload=Ce=>{const Ne=Ce.target?.result,Ve=K.name,Be=Eu(Ve);s(`/temp/${Ve}`),f(Ne),g(Ve),h(Be),ge([Ne]),Ue(0),rt.current&&(rt.current.value="")},se.onerror=Ce=>{console.error("Error reading file:",se.error),alert(`Could not read file: ${se.error?.message}`)},se.readAsText(K,"UTF-8")},[]),k=U.useCallback((z,K)=>{const se={id:Date.now().toString(),title:z,code:K};gn(Ce=>[...Ce,se])},[]),Z=U.useCallback((z,K,se)=>{gn(Ce=>Ce.map(Ne=>Ne.id===z?{...Ne,title:K,code:se}:Ne))},[]),me=U.useCallback(z=>{gn(K=>K.filter(se=>se.id!==z))},[]),xe=U.useCallback(z=>{Dt(z,Kt,zt)},[Dt,Kt,zt]);return E.jsxs("div",{className:"h-screen w-screen grid grid-rows-[max-content_max-content_1fr_max-content] grid-cols-1 relative overflow-hidden",style:{gridTemplateAreas:'"header" "status" "main" "footer"'},children:[E.jsx("input",{type:"file",ref:rt,style:{display:"none"},onChange:fn,"aria-label":"Load script from file system"}),E.jsx(T0,{onToggleLeftPanel:()=>T(z=>!z),onTogglePreview:()=>w(z=>!z),isPreviewing:b,onRunAI:()=>Xt("ai"),onRunOrchestrator:()=>Xt("orchestrator"),onLoadScript:Qn,onFixCode:vn,onGenerateCode:Yn,onFindReplaceToggle:()=>X(z=>!z)}),E.jsx(C0,{fileName:m,stats:ht}),E.jsxs("main",{className:"grid-in-main flex overflow-hidden",children:[E.jsx(x0,{isOpen:v,settings:ue,onSettingsChange:De,onUndo:Bi,onRedo:Si,onQuickAction:Oi,onAnalyzeSelection:Et,onRunOrchestrator:()=>Xt("orchestrator"),history:W,historyIndex:ce,onRevertToState:Fi,editorFontSize:Ge,onFontSizeChange:M,onSaveDraft:cn,onLoadDraft:_n,onCodeReview:kl,onFixCode:vn,onGenerateCode:Yn,fileSystem:i,activePath:o,onOpenFile:Pt,onCreateFile:vt,onCreateFolder:Jn,onRename:Yi,onDelete:Ji,codeSnippets:qe,onAddSnippet:k,onUpdateSnippet:Z,onDeleteSnippet:me,onInsertSnippet:xe}),E.jsx("div",{className:"flex flex-1 min-w-0",children:E.jsx(nx,{content:r,setContent:Dt,fileType:y,onStatsChange:un,fontSize:Ge,onSelectionChange:(z,K)=>{Pi(z),Vi(K)},isFindReplaceOpen:ie,onFindReplaceToggle:()=>X(z=>!z)})})]}),E.jsx(A0,{onInvoke:()=>Xt("ai"),isLoading:G.isLoading,onToggleTerminal:()=>te(z=>!z)}),b&&E.jsx(N0,{htmlContent:r,onClose:()=>w(!1)}),E.jsx(cx,{isOpen:C,aiState:G,onClose:()=>x(!1),onApplyCode:z=>Dt(z),onCopyCode:z=>navigator.clipboard.writeText(z),originalCode:F}),E.jsx(dx,{isOpen:Y,onClose:()=>q(!1),onSubmit:kt,personas:Jh,initialState:le,userLocation:Le,geolocationError:ot}),E.jsx(px,{isOpen:Q,onClose:()=>V(!1),onSubmit:yn,userLocation:Le,geolocationError:ot}),E.jsx(R0,{isOpen:j,onClose:()=>te(!1),history:oe,onSubmit:et})]})},Kh=document.getElementById("root");if(!Kh)throw new Error("Could not find root element to mount to");const yx=y0.createRoot(Kh);yx.render(E.jsx(u0.StrictMode,{children:E.jsx(gx,{})}));
